/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/consoleOutput/spotlight"],{

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Flavrenr%2FProjects%2Fcodehike-sample%2Fpages%2FconsoleOutput%2Fspotlight.mdx&page=%2FconsoleOutput%2Fspotlight!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Flavrenr%2FProjects%2Fcodehike-sample%2Fpages%2FconsoleOutput%2Fspotlight.mdx&page=%2FconsoleOutput%2Fspotlight! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/consoleOutput/spotlight\",\n      function () {\n        return __webpack_require__(/*! ./pages/consoleOutput/spotlight.mdx */ \"./pages/consoleOutput/spotlight.mdx\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/consoleOutput/spotlight\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD0lMkZVc2VycyUyRmxhdnJlbnIlMkZQcm9qZWN0cyUyRmNvZGVoaWtlLXNhbXBsZSUyRnBhZ2VzJTJGY29uc29sZU91dHB1dCUyRnNwb3RsaWdodC5tZHgmcGFnZT0lMkZjb25zb2xlT3V0cHV0JTJGc3BvdGxpZ2h0IS5qcyIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQkFBTyxDQUFDLGdGQUFxQztBQUM1RDtBQUNBO0FBQ0EsT0FBTyxJQUFVO0FBQ2pCLE1BQU0sVUFBVTtBQUNoQjtBQUNBLE9BQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8/YzdhYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAod2luZG93Ll9fTkVYVF9QID0gd2luZG93Ll9fTkVYVF9QIHx8IFtdKS5wdXNoKFtcbiAgICAgIFwiL2NvbnNvbGVPdXRwdXQvc3BvdGxpZ2h0XCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwiLi9wYWdlcy9jb25zb2xlT3V0cHV0L3Nwb3RsaWdodC5tZHhcIik7XG4gICAgICB9XG4gICAgXSk7XG4gICAgaWYobW9kdWxlLmhvdCkge1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93Ll9fTkVYVF9QLnB1c2goW1wiL2NvbnNvbGVPdXRwdXQvc3BvdGxpZ2h0XCJdKVxuICAgICAgfSk7XG4gICAgfVxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Flavrenr%2FProjects%2Fcodehike-sample%2Fpages%2FconsoleOutput%2Fspotlight.mdx&page=%2FconsoleOutput%2Fspotlight!\n"));

/***/ }),

/***/ "./pages/consoleOutput/spotlight.mdx":
/*!*******************************************!*\
  !*** ./pages/consoleOutput/spotlight.mdx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CH\": function() { return /* binding */ CH; },\n/* harmony export */   \"chCodeConfig\": function() { return /* binding */ chCodeConfig; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_mdx_import_source_file__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-mdx-import-source-file */ \"./node_modules/@mdx-js/react/index.js\");\n/* harmony import */ var _code_hike_mdx_dist_components_cjs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @code-hike/mdx/dist/components.cjs.js */ \"./node_modules/@code-hike/mdx/dist/components.esm.mjs\");\n/*@jsxRuntime automatic @jsxImportSource react*/ \n\n\nconst CH = {\n    annotations: _code_hike_mdx_dist_components_cjs_js__WEBPACK_IMPORTED_MODULE_1__.annotations,\n    Scrollycoding: _code_hike_mdx_dist_components_cjs_js__WEBPACK_IMPORTED_MODULE_1__.Scrollycoding,\n    CodeSlot: _code_hike_mdx_dist_components_cjs_js__WEBPACK_IMPORTED_MODULE_1__.CodeSlot\n};\nconst chCodeConfig = {\n    \"staticMediaQuery\": \"not screen, (max-width: 768px)\",\n    \"theme\": {\n        \"name\": \"nord\",\n        \"type\": \"dark\",\n        \"semanticHighlighting\": true,\n        \"colors\": {\n            \"focusBorder\": \"#3b4252\",\n            \"foreground\": \"#d8dee9\",\n            \"activityBar.background\": \"#2e3440\",\n            \"activityBar.dropBackground\": \"#3b4252\",\n            \"activityBar.foreground\": \"#d8dee9\",\n            \"activityBar.activeBorder\": \"#88c0d0\",\n            \"activityBar.activeBackground\": \"#3b4252\",\n            \"activityBarBadge.background\": \"#88c0d0\",\n            \"activityBarBadge.foreground\": \"#2e3440\",\n            \"badge.foreground\": \"#2e3440\",\n            \"badge.background\": \"#88c0d0\",\n            \"button.background\": \"#88c0d0ee\",\n            \"button.foreground\": \"#2e3440\",\n            \"button.hoverBackground\": \"#88c0d0\",\n            \"button.secondaryBackground\": \"#434c5e\",\n            \"button.secondaryForeground\": \"#d8dee9\",\n            \"button.secondaryHoverBackground\": \"#4c566a\",\n            \"charts.red\": \"#bf616a\",\n            \"charts.blue\": \"#81a1c1\",\n            \"charts.yellow\": \"#ebcb8b\",\n            \"charts.orange\": \"#d08770\",\n            \"charts.green\": \"#a3be8c\",\n            \"charts.purple\": \"#b48ead\",\n            \"charts.foreground\": \"#d8dee9\",\n            \"charts.lines\": \"#88c0d0\",\n            \"debugConsole.infoForeground\": \"#88c0d0\",\n            \"debugConsole.warningForeground\": \"#ebcb8b\",\n            \"debugConsole.errorForeground\": \"#bf616a\",\n            \"debugConsole.sourceForeground\": \"#616e88\",\n            \"debugConsoleInputIcon.foreground\": \"#81a1c1\",\n            \"debugExceptionWidget.background\": \"#4c566a\",\n            \"debugExceptionWidget.border\": \"#2e3440\",\n            \"debugToolBar.background\": \"#3b4252\",\n            \"descriptionForeground\": \"#d8dee9e6\",\n            \"diffEditor.insertedTextBackground\": \"#81a1c133\",\n            \"diffEditor.removedTextBackground\": \"#bf616a4d\",\n            \"dropdown.background\": \"#3b4252\",\n            \"dropdown.border\": \"#3b4252\",\n            \"dropdown.foreground\": \"#d8dee9\",\n            \"editorActiveLineNumber.foreground\": \"#d8dee9cc\",\n            \"editorCursor.foreground\": \"#d8dee9\",\n            \"editorHint.border\": \"#ebcb8b00\",\n            \"editorHint.foreground\": \"#ebcb8b\",\n            \"editorIndentGuide.background\": \"#434c5eb3\",\n            \"editorIndentGuide.activeBackground\": \"#4c566a\",\n            \"editorInlayHint.background\": \"#434c5e\",\n            \"editorInlayHint.foreground\": \"#d8dee9\",\n            \"editorLineNumber.foreground\": \"#4c566a\",\n            \"editorLineNumber.activeForeground\": \"#d8dee9\",\n            \"editorWhitespace.foreground\": \"#4c566ab3\",\n            \"editorWidget.background\": \"#2e3440\",\n            \"editorWidget.border\": \"#3b4252\",\n            \"editor.background\": \"#2e3440\",\n            \"editor.foreground\": \"#d8dee9\",\n            \"editor.hoverHighlightBackground\": \"#3b4252\",\n            \"editor.findMatchBackground\": \"#88c0d066\",\n            \"editor.findMatchHighlightBackground\": \"#88c0d033\",\n            \"editor.findRangeHighlightBackground\": \"#88c0d033\",\n            \"editor.lineHighlightBackground\": \"#3b4252\",\n            \"editor.lineHighlightBorder\": \"#3b4252\",\n            \"editor.inactiveSelectionBackground\": \"#434c5ecc\",\n            \"editor.inlineValuesBackground\": \"#4c566a\",\n            \"editor.inlineValuesForeground\": \"#eceff4\",\n            \"editor.selectionBackground\": \"#434c5ecc\",\n            \"editor.selectionHighlightBackground\": \"#434c5ecc\",\n            \"editor.rangeHighlightBackground\": \"#434c5e52\",\n            \"editor.wordHighlightBackground\": \"#81a1c166\",\n            \"editor.wordHighlightStrongBackground\": \"#81a1c199\",\n            \"editor.stackFrameHighlightBackground\": \"#5e81ac\",\n            \"editor.focusedStackFrameHighlightBackground\": \"#5e81ac\",\n            \"editorError.foreground\": \"#bf616a\",\n            \"editorError.border\": \"#bf616a00\",\n            \"editorWarning.foreground\": \"#ebcb8b\",\n            \"editorWarning.border\": \"#ebcb8b00\",\n            \"editorBracketMatch.background\": \"#2e344000\",\n            \"editorBracketMatch.border\": \"#88c0d0\",\n            \"editorBracketHighlight.foreground1\": \"#8fbcbb\",\n            \"editorBracketHighlight.foreground2\": \"#88c0d0\",\n            \"editorBracketHighlight.foreground3\": \"#81a1c1\",\n            \"editorBracketHighlight.foreground4\": \"#5e81ac\",\n            \"editorBracketHighlight.foreground5\": \"#8fbcbb\",\n            \"editorBracketHighlight.foreground6\": \"#88c0d0\",\n            \"editorBracketHighlight.unexpectedBracket.foreground\": \"#bf616a\",\n            \"editorCodeLens.foreground\": \"#4c566a\",\n            \"editorGroup.background\": \"#2e3440\",\n            \"editorGroup.border\": \"#3b425201\",\n            \"editorGroup.dropBackground\": \"#3b425299\",\n            \"editorGroupHeader.border\": \"#3b425200\",\n            \"editorGroupHeader.noTabsBackground\": \"#2e3440\",\n            \"editorGroupHeader.tabsBackground\": \"#2e3440\",\n            \"editorGroupHeader.tabsBorder\": \"#3b425200\",\n            \"editorGutter.background\": \"#2e3440\",\n            \"editorGutter.modifiedBackground\": \"#ebcb8b\",\n            \"editorGutter.addedBackground\": \"#a3be8c\",\n            \"editorGutter.deletedBackground\": \"#bf616a\",\n            \"editorHoverWidget.background\": \"#3b4252\",\n            \"editorHoverWidget.border\": \"#3b4252\",\n            \"editorLink.activeForeground\": \"#88c0d0\",\n            \"editorMarkerNavigation.background\": \"#5e81acc0\",\n            \"editorMarkerNavigationError.background\": \"#bf616ac0\",\n            \"editorMarkerNavigationWarning.background\": \"#ebcb8bc0\",\n            \"editorOverviewRuler.border\": \"#3b4252\",\n            \"editorOverviewRuler.currentContentForeground\": \"#3b4252\",\n            \"editorOverviewRuler.incomingContentForeground\": \"#3b4252\",\n            \"editorOverviewRuler.findMatchForeground\": \"#88c0d066\",\n            \"editorOverviewRuler.rangeHighlightForeground\": \"#88c0d066\",\n            \"editorOverviewRuler.selectionHighlightForeground\": \"#88c0d066\",\n            \"editorOverviewRuler.wordHighlightForeground\": \"#88c0d066\",\n            \"editorOverviewRuler.wordHighlightStrongForeground\": \"#88c0d066\",\n            \"editorOverviewRuler.modifiedForeground\": \"#ebcb8b\",\n            \"editorOverviewRuler.addedForeground\": \"#a3be8c\",\n            \"editorOverviewRuler.deletedForeground\": \"#bf616a\",\n            \"editorOverviewRuler.errorForeground\": \"#bf616a\",\n            \"editorOverviewRuler.warningForeground\": \"#ebcb8b\",\n            \"editorOverviewRuler.infoForeground\": \"#81a1c1\",\n            \"editorRuler.foreground\": \"#434c5e\",\n            \"editorSuggestWidget.background\": \"#2e3440\",\n            \"editorSuggestWidget.border\": \"#3b4252\",\n            \"editorSuggestWidget.foreground\": \"#d8dee9\",\n            \"editorSuggestWidget.focusHighlightForeground\": \"#88c0d0\",\n            \"editorSuggestWidget.highlightForeground\": \"#88c0d0\",\n            \"editorSuggestWidget.selectedBackground\": \"#434c5e\",\n            \"editorSuggestWidget.selectedForeground\": \"#d8dee9\",\n            \"extensionButton.prominentForeground\": \"#d8dee9\",\n            \"extensionButton.prominentBackground\": \"#434c5e\",\n            \"extensionButton.prominentHoverBackground\": \"#4c566a\",\n            \"errorForeground\": \"#bf616a\",\n            \"gitDecoration.modifiedResourceForeground\": \"#ebcb8b\",\n            \"gitDecoration.deletedResourceForeground\": \"#bf616a\",\n            \"gitDecoration.untrackedResourceForeground\": \"#a3be8c\",\n            \"gitDecoration.ignoredResourceForeground\": \"#d8dee966\",\n            \"gitDecoration.conflictingResourceForeground\": \"#5e81ac\",\n            \"gitDecoration.submoduleResourceForeground\": \"#8fbcbb\",\n            \"gitDecoration.stageDeletedResourceForeground\": \"#bf616a\",\n            \"gitDecoration.stageModifiedResourceForeground\": \"#ebcb8b\",\n            \"input.background\": \"#3b4252\",\n            \"input.foreground\": \"#d8dee9\",\n            \"input.placeholderForeground\": \"#d8dee999\",\n            \"input.border\": \"#3b4252\",\n            \"inputOption.activeBackground\": \"#5e81ac\",\n            \"inputOption.activeBorder\": \"#5e81ac\",\n            \"inputOption.activeForeground\": \"#eceff4\",\n            \"inputValidation.errorBackground\": \"#bf616a\",\n            \"inputValidation.errorBorder\": \"#bf616a\",\n            \"inputValidation.infoBackground\": \"#81a1c1\",\n            \"inputValidation.infoBorder\": \"#81a1c1\",\n            \"inputValidation.warningBackground\": \"#d08770\",\n            \"inputValidation.warningBorder\": \"#d08770\",\n            \"keybindingLabel.background\": \"#4c566a\",\n            \"keybindingLabel.border\": \"#4c566a\",\n            \"keybindingLabel.bottomBorder\": \"#4c566a\",\n            \"keybindingLabel.foreground\": \"#d8dee9\",\n            \"list.activeSelectionBackground\": \"#88c0d0\",\n            \"list.activeSelectionForeground\": \"#2e3440\",\n            \"list.inactiveSelectionBackground\": \"#434c5e\",\n            \"list.inactiveSelectionForeground\": \"#d8dee9\",\n            \"list.inactiveFocusBackground\": \"#434c5ecc\",\n            \"list.hoverForeground\": \"#eceff4\",\n            \"list.focusForeground\": \"#d8dee9\",\n            \"list.focusBackground\": \"#88c0d099\",\n            \"list.focusHighlightForeground\": \"#eceff4\",\n            \"list.hoverBackground\": \"#3b4252\",\n            \"list.dropBackground\": \"#88c0d099\",\n            \"list.highlightForeground\": \"#88c0d0\",\n            \"list.errorForeground\": \"#bf616a\",\n            \"list.warningForeground\": \"#ebcb8b\",\n            \"merge.currentHeaderBackground\": \"#81a1c166\",\n            \"merge.currentContentBackground\": \"#81a1c14d\",\n            \"merge.incomingHeaderBackground\": \"#8fbcbb66\",\n            \"merge.incomingContentBackground\": \"#8fbcbb4d\",\n            \"merge.border\": \"#3b425200\",\n            \"minimap.background\": \"#2e3440\",\n            \"minimap.errorHighlight\": \"#bf616acc\",\n            \"minimap.findMatchHighlight\": \"#88c0d0\",\n            \"minimap.selectionHighlight\": \"#88c0d0cc\",\n            \"minimap.warningHighlight\": \"#ebcb8bcc\",\n            \"minimapGutter.addedBackground\": \"#a3be8c\",\n            \"minimapGutter.deletedBackground\": \"#bf616a\",\n            \"minimapGutter.modifiedBackground\": \"#ebcb8b\",\n            \"minimapSlider.activeBackground\": \"#434c5eaa\",\n            \"minimapSlider.background\": \"#434c5e99\",\n            \"minimapSlider.hoverBackground\": \"#434c5eaa\",\n            \"notification.background\": \"#3b4252\",\n            \"notification.buttonBackground\": \"#434c5e\",\n            \"notification.buttonForeground\": \"#d8dee9\",\n            \"notification.buttonHoverBackground\": \"#4c566a\",\n            \"notification.errorBackground\": \"#bf616a\",\n            \"notification.errorForeground\": \"#2e3440\",\n            \"notification.foreground\": \"#d8dee9\",\n            \"notification.infoBackground\": \"#88c0d0\",\n            \"notification.infoForeground\": \"#2e3440\",\n            \"notification.warningBackground\": \"#ebcb8b\",\n            \"notification.warningForeground\": \"#2e3440\",\n            \"notificationCenter.border\": \"#3b425200\",\n            \"notificationCenterHeader.background\": \"#2e3440\",\n            \"notificationCenterHeader.foreground\": \"#88c0d0\",\n            \"notificationLink.foreground\": \"#88c0d0\",\n            \"notifications.background\": \"#3b4252\",\n            \"notifications.border\": \"#2e3440\",\n            \"notifications.foreground\": \"#d8dee9\",\n            \"notificationToast.border\": \"#3b425200\",\n            \"panel.background\": \"#2e3440\",\n            \"panel.border\": \"#3b4252\",\n            \"panelTitle.activeBorder\": \"#88c0d000\",\n            \"panelTitle.activeForeground\": \"#88c0d0\",\n            \"panelTitle.inactiveForeground\": \"#d8dee9\",\n            \"peekView.border\": \"#4c566a\",\n            \"peekViewEditor.background\": \"#2e3440\",\n            \"peekViewEditorGutter.background\": \"#2e3440\",\n            \"peekViewEditor.matchHighlightBackground\": \"#88c0d04d\",\n            \"peekViewResult.background\": \"#2e3440\",\n            \"peekViewResult.fileForeground\": \"#88c0d0\",\n            \"peekViewResult.lineForeground\": \"#d8dee966\",\n            \"peekViewResult.matchHighlightBackground\": \"#88c0d0cc\",\n            \"peekViewResult.selectionBackground\": \"#434c5e\",\n            \"peekViewResult.selectionForeground\": \"#d8dee9\",\n            \"peekViewTitle.background\": \"#3b4252\",\n            \"peekViewTitleDescription.foreground\": \"#d8dee9\",\n            \"peekViewTitleLabel.foreground\": \"#88c0d0\",\n            \"pickerGroup.border\": \"#3b4252\",\n            \"pickerGroup.foreground\": \"#88c0d0\",\n            \"progressBar.background\": \"#88c0d0\",\n            \"quickInputList.focusBackground\": \"#88c0d0\",\n            \"quickInputList.focusForeground\": \"#2e3440\",\n            \"sash.hoverBorder\": \"#88c0d0\",\n            \"scrollbar.shadow\": \"#00000066\",\n            \"scrollbarSlider.activeBackground\": \"#434c5eaa\",\n            \"scrollbarSlider.background\": \"#434c5e99\",\n            \"scrollbarSlider.hoverBackground\": \"#434c5eaa\",\n            \"selection.background\": \"#88c0d099\",\n            \"sideBar.background\": \"#2e3440\",\n            \"sideBar.foreground\": \"#d8dee9\",\n            \"sideBar.border\": \"#3b4252\",\n            \"sideBarSectionHeader.background\": \"#3b4252\",\n            \"sideBarSectionHeader.foreground\": \"#d8dee9\",\n            \"sideBarTitle.foreground\": \"#d8dee9\",\n            \"statusBar.background\": \"#3b4252\",\n            \"statusBar.debuggingBackground\": \"#5e81ac\",\n            \"statusBar.debuggingForeground\": \"#d8dee9\",\n            \"statusBar.noFolderForeground\": \"#d8dee9\",\n            \"statusBar.noFolderBackground\": \"#3b4252\",\n            \"statusBar.foreground\": \"#d8dee9\",\n            \"statusBarItem.activeBackground\": \"#4c566a\",\n            \"statusBarItem.hoverBackground\": \"#434c5e\",\n            \"statusBarItem.prominentBackground\": \"#3b4252\",\n            \"statusBarItem.prominentHoverBackground\": \"#434c5e\",\n            \"statusBarItem.errorBackground\": \"#3b4252\",\n            \"statusBarItem.errorForeground\": \"#bf616a\",\n            \"statusBarItem.warningBackground\": \"#ebcb8b\",\n            \"statusBarItem.warningForeground\": \"#2e3440\",\n            \"statusBar.border\": \"#3b425200\",\n            \"tab.activeBackground\": \"#3b4252\",\n            \"tab.activeForeground\": \"#d8dee9\",\n            \"tab.border\": \"#3b425200\",\n            \"tab.activeBorder\": \"#88c0d000\",\n            \"tab.unfocusedActiveBorder\": \"#88c0d000\",\n            \"tab.inactiveBackground\": \"#2e3440\",\n            \"tab.inactiveForeground\": \"#d8dee966\",\n            \"tab.unfocusedActiveForeground\": \"#d8dee999\",\n            \"tab.unfocusedInactiveForeground\": \"#d8dee966\",\n            \"tab.hoverBackground\": \"#3b4252cc\",\n            \"tab.unfocusedHoverBackground\": \"#3b4252b3\",\n            \"tab.hoverBorder\": \"#88c0d000\",\n            \"tab.unfocusedHoverBorder\": \"#88c0d000\",\n            \"tab.activeBorderTop\": \"#88c0d000\",\n            \"tab.unfocusedActiveBorderTop\": \"#88c0d000\",\n            \"tab.lastPinnedBorder\": \"#4c566a\",\n            \"terminal.background\": \"#2e3440\",\n            \"terminal.foreground\": \"#d8dee9\",\n            \"terminal.ansiBlack\": \"#3b4252\",\n            \"terminal.ansiRed\": \"#bf616a\",\n            \"terminal.ansiGreen\": \"#a3be8c\",\n            \"terminal.ansiYellow\": \"#ebcb8b\",\n            \"terminal.ansiBlue\": \"#81a1c1\",\n            \"terminal.ansiMagenta\": \"#b48ead\",\n            \"terminal.ansiCyan\": \"#88c0d0\",\n            \"terminal.ansiWhite\": \"#e5e9f0\",\n            \"terminal.ansiBrightBlack\": \"#4c566a\",\n            \"terminal.ansiBrightRed\": \"#bf616a\",\n            \"terminal.ansiBrightGreen\": \"#a3be8c\",\n            \"terminal.ansiBrightYellow\": \"#ebcb8b\",\n            \"terminal.ansiBrightBlue\": \"#81a1c1\",\n            \"terminal.ansiBrightMagenta\": \"#b48ead\",\n            \"terminal.ansiBrightCyan\": \"#8fbcbb\",\n            \"terminal.ansiBrightWhite\": \"#eceff4\",\n            \"terminal.tab.activeBorder\": \"#88c0d0\",\n            \"textBlockQuote.background\": \"#3b4252\",\n            \"textBlockQuote.border\": \"#81a1c1\",\n            \"textCodeBlock.background\": \"#4c566a\",\n            \"textLink.activeForeground\": \"#88c0d0\",\n            \"textLink.foreground\": \"#88c0d0\",\n            \"textPreformat.foreground\": \"#8fbcbb\",\n            \"textSeparator.foreground\": \"#eceff4\",\n            \"titleBar.activeBackground\": \"#2e3440\",\n            \"titleBar.activeForeground\": \"#d8dee9\",\n            \"titleBar.border\": \"#2e344000\",\n            \"titleBar.inactiveBackground\": \"#2e3440\",\n            \"titleBar.inactiveForeground\": \"#d8dee966\",\n            \"tree.indentGuidesStroke\": \"#616e88\",\n            \"walkThrough.embeddedEditorBackground\": \"#2e3440\",\n            \"welcomePage.buttonBackground\": \"#434c5e\",\n            \"welcomePage.buttonHoverBackground\": \"#4c566a\",\n            \"widget.shadow\": \"#00000066\"\n        },\n        \"tokenColors\": [\n            {\n                \"settings\": {\n                    \"foreground\": \"#d8dee9ff\",\n                    \"background\": \"#2e3440ff\"\n                }\n            },\n            {\n                \"scope\": \"emphasis\",\n                \"settings\": {\n                    \"fontStyle\": \"italic\"\n                }\n            },\n            {\n                \"scope\": \"strong\",\n                \"settings\": {\n                    \"fontStyle\": \"bold\"\n                }\n            },\n            {\n                \"name\": \"Comment\",\n                \"scope\": \"comment\",\n                \"settings\": {\n                    \"foreground\": \"#616E88\"\n                }\n            },\n            {\n                \"name\": \"Constant Character\",\n                \"scope\": \"constant.character\",\n                \"settings\": {\n                    \"foreground\": \"#EBCB8B\"\n                }\n            },\n            {\n                \"name\": \"Constant Character Escape\",\n                \"scope\": \"constant.character.escape\",\n                \"settings\": {\n                    \"foreground\": \"#EBCB8B\"\n                }\n            },\n            {\n                \"name\": \"Constant Language\",\n                \"scope\": \"constant.language\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Constant Numeric\",\n                \"scope\": \"constant.numeric\",\n                \"settings\": {\n                    \"foreground\": \"#B48EAD\"\n                }\n            },\n            {\n                \"name\": \"Constant Regexp\",\n                \"scope\": \"constant.regexp\",\n                \"settings\": {\n                    \"foreground\": \"#EBCB8B\"\n                }\n            },\n            {\n                \"name\": \"Entity Name Class/Type\",\n                \"scope\": [\n                    \"entity.name.class\",\n                    \"entity.name.type.class\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"Entity Name Function\",\n                \"scope\": \"entity.name.function\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"Entity Name Tag\",\n                \"scope\": \"entity.name.tag\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Entity Other Attribute Name\",\n                \"scope\": \"entity.other.attribute-name\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"Entity Other Inherited Class\",\n                \"scope\": \"entity.other.inherited-class\",\n                \"settings\": {\n                    \"fontStyle\": \"bold\",\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"Invalid Deprecated\",\n                \"scope\": \"invalid.deprecated\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\",\n                    \"background\": \"#EBCB8B\"\n                }\n            },\n            {\n                \"name\": \"Invalid Illegal\",\n                \"scope\": \"invalid.illegal\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\",\n                    \"background\": \"#BF616A\"\n                }\n            },\n            {\n                \"name\": \"Keyword\",\n                \"scope\": \"keyword\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Keyword Operator\",\n                \"scope\": \"keyword.operator\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Keyword Other New\",\n                \"scope\": \"keyword.other.new\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Markup Bold\",\n                \"scope\": \"markup.bold\",\n                \"settings\": {\n                    \"fontStyle\": \"bold\"\n                }\n            },\n            {\n                \"name\": \"Markup Changed\",\n                \"scope\": \"markup.changed\",\n                \"settings\": {\n                    \"foreground\": \"#EBCB8B\"\n                }\n            },\n            {\n                \"name\": \"Markup Deleted\",\n                \"scope\": \"markup.deleted\",\n                \"settings\": {\n                    \"foreground\": \"#BF616A\"\n                }\n            },\n            {\n                \"name\": \"Markup Inserted\",\n                \"scope\": \"markup.inserted\",\n                \"settings\": {\n                    \"foreground\": \"#A3BE8C\"\n                }\n            },\n            {\n                \"name\": \"Meta Preprocessor\",\n                \"scope\": \"meta.preprocessor\",\n                \"settings\": {\n                    \"foreground\": \"#5E81AC\"\n                }\n            },\n            {\n                \"name\": \"Punctuation\",\n                \"scope\": \"punctuation\",\n                \"settings\": {\n                    \"foreground\": \"#ECEFF4\"\n                }\n            },\n            {\n                \"name\": \"Punctuation Definition Parameters\",\n                \"scope\": [\n                    \"punctuation.definition.method-parameters\",\n                    \"punctuation.definition.function-parameters\",\n                    \"punctuation.definition.parameters\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#ECEFF4\"\n                }\n            },\n            {\n                \"name\": \"Punctuation Definition Tag\",\n                \"scope\": \"punctuation.definition.tag\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Punctuation Definition Comment\",\n                \"scope\": [\n                    \"punctuation.definition.comment\",\n                    \"punctuation.end.definition.comment\",\n                    \"punctuation.start.definition.comment\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#616E88\"\n                }\n            },\n            {\n                \"name\": \"Punctuation Section\",\n                \"scope\": \"punctuation.section\",\n                \"settings\": {\n                    \"foreground\": \"#ECEFF4\"\n                }\n            },\n            {\n                \"name\": \"Punctuation Section Embedded\",\n                \"scope\": [\n                    \"punctuation.section.embedded.begin\",\n                    \"punctuation.section.embedded.end\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Punctuation Terminator\",\n                \"scope\": \"punctuation.terminator\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Punctuation Variable\",\n                \"scope\": \"punctuation.definition.variable\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Storage\",\n                \"scope\": \"storage\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"String\",\n                \"scope\": \"string\",\n                \"settings\": {\n                    \"foreground\": \"#A3BE8C\"\n                }\n            },\n            {\n                \"name\": \"String Regexp\",\n                \"scope\": \"string.regexp\",\n                \"settings\": {\n                    \"foreground\": \"#EBCB8B\"\n                }\n            },\n            {\n                \"name\": \"Support Class\",\n                \"scope\": \"support.class\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"Support Constant\",\n                \"scope\": \"support.constant\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Support Function\",\n                \"scope\": \"support.function\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"Support Function Construct\",\n                \"scope\": \"support.function.construct\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Support Type\",\n                \"scope\": \"support.type\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"Support Type Exception\",\n                \"scope\": \"support.type.exception\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"Token Debug\",\n                \"scope\": \"token.debug-token\",\n                \"settings\": {\n                    \"foreground\": \"#b48ead\"\n                }\n            },\n            {\n                \"name\": \"Token Error\",\n                \"scope\": \"token.error-token\",\n                \"settings\": {\n                    \"foreground\": \"#bf616a\"\n                }\n            },\n            {\n                \"name\": \"Token Info\",\n                \"scope\": \"token.info-token\",\n                \"settings\": {\n                    \"foreground\": \"#88c0d0\"\n                }\n            },\n            {\n                \"name\": \"Token Warning\",\n                \"scope\": \"token.warn-token\",\n                \"settings\": {\n                    \"foreground\": \"#ebcb8b\"\n                }\n            },\n            {\n                \"name\": \"Variable\",\n                \"scope\": \"variable.other\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"Variable Language\",\n                \"scope\": \"variable.language\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"Variable Parameter\",\n                \"scope\": \"variable.parameter\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"[C/CPP] Punctuation Separator Pointer-Access\",\n                \"scope\": \"punctuation.separator.pointer-access.c\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[C/CPP] Meta Preprocessor Include\",\n                \"scope\": [\n                    \"source.c meta.preprocessor.include\",\n                    \"source.c string.quoted.other.lt-gt.include\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[C/CPP] Conditional Directive\",\n                \"scope\": [\n                    \"source.cpp keyword.control.directive.conditional\",\n                    \"source.cpp punctuation.definition.directive\",\n                    \"source.c keyword.control.directive.conditional\",\n                    \"source.c punctuation.definition.directive\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#5E81AC\",\n                    \"fontStyle\": \"bold\"\n                }\n            },\n            {\n                \"name\": \"[CSS] Constant Other Color RGB Value\",\n                \"scope\": \"source.css constant.other.color.rgb-value\",\n                \"settings\": {\n                    \"foreground\": \"#B48EAD\"\n                }\n            },\n            {\n                \"name\": \"[CSS](Function) Meta Property-Value\",\n                \"scope\": \"source.css meta.property-value\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[CSS] Media Queries\",\n                \"scope\": [\n                    \"source.css keyword.control.at-rule.media\",\n                    \"source.css keyword.control.at-rule.media punctuation.definition.keyword\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#D08770\"\n                }\n            },\n            {\n                \"name\": \"[CSS] Punctuation Definition Keyword\",\n                \"scope\": \"source.css punctuation.definition.keyword\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[CSS] Support Type Property Name\",\n                \"scope\": \"source.css support.type.property-name\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"[diff] Meta Range Context\",\n                \"scope\": \"source.diff meta.diff.range.context\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[diff] Meta Header From-File\",\n                \"scope\": \"source.diff meta.diff.header.from-file\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[diff] Punctuation Definition From-File\",\n                \"scope\": \"source.diff punctuation.definition.from-file\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[diff] Punctuation Definition Range\",\n                \"scope\": \"source.diff punctuation.definition.range\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[diff] Punctuation Definition Separator\",\n                \"scope\": \"source.diff punctuation.definition.separator\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[Elixir](JakeBecker.elixir-ls) module names\",\n                \"scope\": \"entity.name.type.module.elixir\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Elixir](JakeBecker.elixir-ls) module attributes\",\n                \"scope\": \"variable.other.readwrite.module.elixir\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\",\n                    \"fontStyle\": \"bold\"\n                }\n            },\n            {\n                \"name\": \"[Elixir](JakeBecker.elixir-ls) atoms\",\n                \"scope\": \"constant.other.symbol.elixir\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\",\n                    \"fontStyle\": \"bold\"\n                }\n            },\n            {\n                \"name\": \"[Elixir](JakeBecker.elixir-ls) modules\",\n                \"scope\": \"variable.other.constant.elixir\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Go] String Format Placeholder\",\n                \"scope\": \"source.go constant.other.placeholder.go\",\n                \"settings\": {\n                    \"foreground\": \"#EBCB8B\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Comment Block Documentation HTML Entities\",\n                \"scope\": \"source.java comment.block.documentation.javadoc punctuation.definition.entity.html\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Constant Other\",\n                \"scope\": \"source.java constant.other\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Keyword Other Documentation\",\n                \"scope\": \"source.java keyword.other.documentation\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Keyword Other Documentation Author\",\n                \"scope\": \"source.java keyword.other.documentation.author.javadoc\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Keyword Other Documentation Directive/Custom\",\n                \"scope\": [\n                    \"source.java keyword.other.documentation.directive\",\n                    \"source.java keyword.other.documentation.custom\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Keyword Other Documentation See\",\n                \"scope\": \"source.java keyword.other.documentation.see.javadoc\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java] Meta Method-Call\",\n                \"scope\": \"source.java meta.method-call meta.method\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Meta Tag Template Link\",\n                \"scope\": [\n                    \"source.java meta.tag.template.link.javadoc\",\n                    \"source.java string.other.link.title.javadoc\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Meta Tag Template Value\",\n                \"scope\": \"source.java meta.tag.template.value.javadoc\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Punctuation Definition Keyword\",\n                \"scope\": \"source.java punctuation.definition.keyword.javadoc\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java](JavaDoc) Punctuation Definition Tag\",\n                \"scope\": [\n                    \"source.java punctuation.definition.tag.begin.javadoc\",\n                    \"source.java punctuation.definition.tag.end.javadoc\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#616E88\"\n                }\n            },\n            {\n                \"name\": \"[Java] Storage Modifier Import\",\n                \"scope\": \"source.java storage.modifier.import\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java] Storage Modifier Package\",\n                \"scope\": \"source.java storage.modifier.package\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java] Storage Type\",\n                \"scope\": \"source.java storage.type\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java] Storage Type Annotation\",\n                \"scope\": \"source.java storage.type.annotation\",\n                \"settings\": {\n                    \"foreground\": \"#D08770\"\n                }\n            },\n            {\n                \"name\": \"[Java] Storage Type Generic\",\n                \"scope\": \"source.java storage.type.generic\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Java] Storage Type Primitive\",\n                \"scope\": \"source.java storage.type.primitive\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript] Decorator\",\n                \"scope\": [\n                    \"source.js punctuation.decorator\",\n                    \"source.js meta.decorator variable.other.readwrite\",\n                    \"source.js meta.decorator entity.name.function\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#D08770\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript] Meta Object-Literal Key\",\n                \"scope\": \"source.js meta.object-literal.key\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript](JSDoc) Storage Type Class\",\n                \"scope\": \"source.js storage.type.class.jsdoc\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript] String Template Literals Punctuation\",\n                \"scope\": [\n                    \"source.js string.quoted.template punctuation.quasi.element.begin\",\n                    \"source.js string.quoted.template punctuation.quasi.element.end\",\n                    \"source.js string.template punctuation.definition.template-expression\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript] Interpolated String Template Punctuation Functions\",\n                \"scope\": \"source.js string.quoted.template meta.method-call.with-arguments\",\n                \"settings\": {\n                    \"foreground\": \"#ECEFF4\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript] String Template Literal Variable\",\n                \"scope\": [\n                    \"source.js string.template meta.template.expression support.variable.property\",\n                    \"source.js string.template meta.template.expression variable.other.object\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript] Support Type Primitive\",\n                \"scope\": \"source.js support.type.primitive\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript] Variable Other Object\",\n                \"scope\": \"source.js variable.other.object\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript] Variable Other Read-Write Alias\",\n                \"scope\": \"source.js variable.other.readwrite.alias\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[JavaScript] Parentheses in Template Strings\",\n                \"scope\": [\n                    \"source.js meta.embedded.line meta.brace.square\",\n                    \"source.js meta.embedded.line meta.brace.round\",\n                    \"source.js string.quoted.template meta.brace.square\",\n                    \"source.js string.quoted.template meta.brace.round\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#ECEFF4\"\n                }\n            },\n            {\n                \"name\": \"[HTML] Constant Character Entity\",\n                \"scope\": \"text.html.basic constant.character.entity.html\",\n                \"settings\": {\n                    \"foreground\": \"#EBCB8B\"\n                }\n            },\n            {\n                \"name\": \"[HTML] Constant Other Inline-Data\",\n                \"scope\": \"text.html.basic constant.other.inline-data\",\n                \"settings\": {\n                    \"foreground\": \"#D08770\",\n                    \"fontStyle\": \"italic\"\n                }\n            },\n            {\n                \"name\": \"[HTML] Meta Tag SGML Doctype\",\n                \"scope\": \"text.html.basic meta.tag.sgml.doctype\",\n                \"settings\": {\n                    \"foreground\": \"#5E81AC\"\n                }\n            },\n            {\n                \"name\": \"[HTML] Punctuation Definition Entity\",\n                \"scope\": \"text.html.basic punctuation.definition.entity\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[INI] Entity Name Section Group-Title\",\n                \"scope\": \"source.properties entity.name.section.group-title.ini\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[INI] Punctuation Separator Key-Value\",\n                \"scope\": \"source.properties punctuation.separator.key-value.ini\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Fenced Code Block\",\n                \"scope\": [\n                    \"text.html.markdown markup.fenced_code.block\",\n                    \"text.html.markdown markup.fenced_code.block punctuation.definition\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Heading\",\n                \"scope\": \"markup.heading\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Inline\",\n                \"scope\": [\n                    \"text.html.markdown markup.inline.raw\",\n                    \"text.html.markdown markup.inline.raw punctuation.definition.raw\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Italic\",\n                \"scope\": \"text.html.markdown markup.italic\",\n                \"settings\": {\n                    \"fontStyle\": \"italic\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Link\",\n                \"scope\": \"text.html.markdown markup.underline.link\",\n                \"settings\": {\n                    \"fontStyle\": \"underline\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup List Numbered/Unnumbered\",\n                \"scope\": \"text.html.markdown beginning.punctuation.definition.list\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Quote Punctuation Definition\",\n                \"scope\": \"text.html.markdown beginning.punctuation.definition.quote\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Quote Punctuation Definition\",\n                \"scope\": \"text.html.markdown markup.quote\",\n                \"settings\": {\n                    \"foreground\": \"#616E88\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Math Constant\",\n                \"scope\": \"text.html.markdown constant.character.math.tex\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Math Definition Marker\",\n                \"scope\": [\n                    \"text.html.markdown punctuation.definition.math.begin\",\n                    \"text.html.markdown punctuation.definition.math.end\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#5E81AC\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Math Function Definition Marker\",\n                \"scope\": \"text.html.markdown punctuation.definition.function.math.tex\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Markup Math Operator\",\n                \"scope\": \"text.html.markdown punctuation.math.operator.latex\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Punctuation Definition Heading\",\n                \"scope\": \"text.html.markdown punctuation.definition.heading\",\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] Punctuation Definition Constant/String\",\n                \"scope\": [\n                    \"text.html.markdown punctuation.definition.constant\",\n                    \"text.html.markdown punctuation.definition.string\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[Markdown] String Other Link Description/Title\",\n                \"scope\": [\n                    \"text.html.markdown constant.other.reference.link\",\n                    \"text.html.markdown string.other.link.description\",\n                    \"text.html.markdown string.other.link.title\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[Perl] Perl Sigils\",\n                \"scope\": \"source.perl punctuation.definition.variable\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"[PHP] Meta Function-Call Object\",\n                \"scope\": [\n                    \"source.php meta.function-call\",\n                    \"source.php meta.function-call.object\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[Python] Decorator\",\n                \"scope\": [\n                    \"source.python entity.name.function.decorator\",\n                    \"source.python meta.function.decorator support.type\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#D08770\"\n                }\n            },\n            {\n                \"name\": \"[Python] Function Call\",\n                \"scope\": \"source.python meta.function-call.generic\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[Python] Support Type\",\n                \"scope\": \"source.python support.type\",\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[Python] Function Parameter\",\n                \"scope\": [\n                    \"source.python variable.parameter.function.language\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"[Python] Function Parameter Special\",\n                \"scope\": [\n                    \"source.python meta.function.parameters variable.parameter.function.language.special.self\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[Rust] Entity types\",\n                \"scope\": \"source.rust entity.name.type\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[Rust] Macro\",\n                \"scope\": \"source.rust meta.macro entity.name.function\",\n                \"settings\": {\n                    \"fontStyle\": \"bold\",\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[Rust] Attributes\",\n                \"scope\": [\n                    \"source.rust meta.attribute\",\n                    \"source.rust meta.attribute punctuation\",\n                    \"source.rust meta.attribute keyword.operator\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#5E81AC\"\n                }\n            },\n            {\n                \"name\": \"[Rust] Traits\",\n                \"scope\": \"source.rust entity.name.type.trait\",\n                \"settings\": {\n                    \"fontStyle\": \"bold\"\n                }\n            },\n            {\n                \"name\": \"[Rust] Interpolation Bracket Curly\",\n                \"scope\": \"source.rust punctuation.definition.interpolation\",\n                \"settings\": {\n                    \"foreground\": \"#EBCB8B\"\n                }\n            },\n            {\n                \"name\": \"[SCSS] Punctuation Definition Interpolation Bracket Curly\",\n                \"scope\": [\n                    \"source.css.scss punctuation.definition.interpolation.begin.bracket.curly\",\n                    \"source.css.scss punctuation.definition.interpolation.end.bracket.curly\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#81A1C1\"\n                }\n            },\n            {\n                \"name\": \"[SCSS] Variable Interpolation\",\n                \"scope\": \"source.css.scss variable.interpolation\",\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\",\n                    \"fontStyle\": \"italic\"\n                }\n            },\n            {\n                \"name\": \"[TypeScript] Decorators\",\n                \"scope\": [\n                    \"source.ts punctuation.decorator\",\n                    \"source.ts meta.decorator variable.other.readwrite\",\n                    \"source.ts meta.decorator entity.name.function\",\n                    \"source.tsx punctuation.decorator\",\n                    \"source.tsx meta.decorator variable.other.readwrite\",\n                    \"source.tsx meta.decorator entity.name.function\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#D08770\"\n                }\n            },\n            {\n                \"name\": \"[TypeScript] Object-literal keys\",\n                \"scope\": [\n                    \"source.ts meta.object-literal.key\",\n                    \"source.tsx meta.object-literal.key\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"[TypeScript] Object-literal functions\",\n                \"scope\": [\n                    \"source.ts meta.object-literal.key entity.name.function\",\n                    \"source.tsx meta.object-literal.key entity.name.function\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#88C0D0\"\n                }\n            },\n            {\n                \"name\": \"[TypeScript] Type/Class\",\n                \"scope\": [\n                    \"source.ts support.class\",\n                    \"source.ts support.type\",\n                    \"source.ts entity.name.type\",\n                    \"source.ts entity.name.class\",\n                    \"source.tsx support.class\",\n                    \"source.tsx support.type\",\n                    \"source.tsx entity.name.type\",\n                    \"source.tsx entity.name.class\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[TypeScript] Static Class Support\",\n                \"scope\": [\n                    \"source.ts support.constant.math\",\n                    \"source.ts support.constant.dom\",\n                    \"source.ts support.constant.json\",\n                    \"source.tsx support.constant.math\",\n                    \"source.tsx support.constant.dom\",\n                    \"source.tsx support.constant.json\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[TypeScript] Variables\",\n                \"scope\": [\n                    \"source.ts support.variable\",\n                    \"source.tsx support.variable\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#D8DEE9\"\n                }\n            },\n            {\n                \"name\": \"[TypeScript] Parentheses in Template Strings\",\n                \"scope\": [\n                    \"source.ts meta.embedded.line meta.brace.square\",\n                    \"source.ts meta.embedded.line meta.brace.round\",\n                    \"source.tsx meta.embedded.line meta.brace.square\",\n                    \"source.tsx meta.embedded.line meta.brace.round\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#ECEFF4\"\n                }\n            },\n            {\n                \"name\": \"[XML] Entity Name Tag Namespace\",\n                \"scope\": \"text.xml entity.name.tag.namespace\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            },\n            {\n                \"name\": \"[XML] Keyword Other Doctype\",\n                \"scope\": \"text.xml keyword.other.doctype\",\n                \"settings\": {\n                    \"foreground\": \"#5E81AC\"\n                }\n            },\n            {\n                \"name\": \"[XML] Meta Tag Preprocessor\",\n                \"scope\": \"text.xml meta.tag.preprocessor entity.name.tag\",\n                \"settings\": {\n                    \"foreground\": \"#5E81AC\"\n                }\n            },\n            {\n                \"name\": \"[XML] Entity Name Tag Namespace\",\n                \"scope\": [\n                    \"text.xml string.unquoted.cdata\",\n                    \"text.xml string.unquoted.cdata punctuation.definition.string\"\n                ],\n                \"settings\": {\n                    \"foreground\": \"#D08770\",\n                    \"fontStyle\": \"italic\"\n                }\n            },\n            {\n                \"name\": \"[YAML] Entity Name Tag\",\n                \"scope\": \"source.yaml entity.name.tag\",\n                \"settings\": {\n                    \"foreground\": \"#8FBCBB\"\n                }\n            }\n        ]\n    },\n    \"autoImport\": true,\n    \"skipLanguages\": [],\n    \"filepath\": \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n};\nfunction _createMdxContent(props) {\n    const _components = Object.assign({\n        h3: \"h3\",\n        p: \"p\",\n        ul: \"ul\",\n        li: \"li\"\n    }, (0,next_mdx_import_source_file__WEBPACK_IMPORTED_MODULE_2__.useMDXComponents)(), props.components);\n    if (!CH) _missingMdxReference(\"CH\", false, \"9:1-159:20\");\n    if (!CH.CodeSlot) _missingMdxReference(\"CH.CodeSlot\", true);\n    if (!CH.Scrollycoding) _missingMdxReference(\"CH.Scrollycoding\", true, \"9:1-159:20\");\n    return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.h3, {\n                children: \"Create a new React App\"\n            }, undefined, false, {\n                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                lineNumber: 1,\n                columnNumber: 1\n            }, this),\n            \"\\n\",\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.p, {\n                children: [\n                    \"To get started, first create a new React app, and then install and use the Amplify CLI to start adding backend capabilities to your app.\",\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, undefined, false, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                        lineNumber: 3,\n                        columnNumber: 137\n                    }, this)\n                ]\n            }, undefined, true, {\n                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                lineNumber: 3,\n                columnNumber: 1\n            }, this),\n            \"\\n\",\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.h3, {\n                children: \"Initialize a new backend\"\n            }, undefined, false, {\n                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                lineNumber: 5,\n                columnNumber: 1\n            }, this),\n            \"\\n\",\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.p, {\n                children: \"When you initialize Amplify you'll be prompted for some information about the app, with the option to accept recommended values:\"\n            }, undefined, false, {\n                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                lineNumber: 7,\n                columnNumber: 1\n            }, this),\n            \"\\n\",\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CH.Scrollycoding, {\n                codeConfig: chCodeConfig,\n                editorSteps: [\n                    {\n                        \"northPanel\": {\n                            \"tabs\": [\n                                \"\"\n                            ],\n                            \"active\": \"\",\n                            \"heightRatio\": 1\n                        },\n                        \"files\": [\n                            {\n                                \"name\": \"\",\n                                \"focus\": \"1:2\",\n                                \"mark\": \"1\",\n                                \"code\": {\n                                    \"lines\": [\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Enter\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"a\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"for\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"The\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"following\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"will\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"be\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"applied\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"information\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Environment\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"dev\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" editor\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Visual\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Studio\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Code\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"App\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" type\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" framework\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"react\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Source\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"src\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Distribution\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Initialize\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"with\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"above\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Yes\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"Using\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"provider\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"awscloudformation\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Select\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"authentication\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"method\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"AWS\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"...\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Please\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"choose\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    ],\n                                    \"lang\": \"js\"\n                                },\n                                \"annotations\": [\n                                    {\n                                        \"focus\": \"1\",\n                                        \"Component\": CH.annotations.mark\n                                    }\n                                ]\n                            }\n                        ]\n                    },\n                    {\n                        \"northPanel\": {\n                            \"tabs\": [\n                                \"\"\n                            ],\n                            \"active\": \"\",\n                            \"heightRatio\": 1\n                        },\n                        \"files\": [\n                            {\n                                \"name\": \"\",\n                                \"focus\": \"4:13\",\n                                \"mark\": \"4\",\n                                \"code\": {\n                                    \"lines\": [\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Enter\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"a\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"for\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"The\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"following\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"will\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"be\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"applied\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"information\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Environment\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"dev\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" editor\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Visual\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Studio\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Code\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"App\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" type\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" framework\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"react\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Source\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"src\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Distribution\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Initialize\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"with\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"above\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Yes\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"Using\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"provider\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"awscloudformation\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Select\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"authentication\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"method\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"AWS\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"...\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Please\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"choose\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    ],\n                                    \"lang\": \"js\"\n                                },\n                                \"annotations\": [\n                                    {\n                                        \"focus\": \"4\",\n                                        \"Component\": CH.annotations.mark\n                                    }\n                                ]\n                            }\n                        ],\n                        \"southPanel\": undefined\n                    },\n                    {\n                        \"northPanel\": {\n                            \"tabs\": [\n                                \"\"\n                            ],\n                            \"active\": \"\",\n                            \"heightRatio\": 1\n                        },\n                        \"files\": [\n                            {\n                                \"name\": \"\",\n                                \"focus\": \"15:16\",\n                                \"mark\": \"15\",\n                                \"code\": {\n                                    \"lines\": [\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Enter\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"a\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"for\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"The\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"following\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"will\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"be\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"applied\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"information\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Environment\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"dev\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" editor\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Visual\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Studio\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Code\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"App\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" type\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" framework\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"react\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Source\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"src\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Distribution\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Initialize\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"with\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"above\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Yes\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"Using\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"provider\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"awscloudformation\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Select\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"authentication\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"method\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"AWS\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"...\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Please\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"choose\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    ],\n                                    \"lang\": \"js\"\n                                },\n                                \"annotations\": [\n                                    {\n                                        \"focus\": \"15\",\n                                        \"Component\": CH.annotations.mark\n                                    }\n                                ]\n                            }\n                        ],\n                        \"southPanel\": undefined\n                    },\n                    {\n                        \"northPanel\": {\n                            \"tabs\": [\n                                \"\"\n                            ],\n                            \"active\": \"\",\n                            \"heightRatio\": 1\n                        },\n                        \"files\": [\n                            {\n                                \"name\": \"\",\n                                \"focus\": \"17:17\",\n                                \"mark\": \"17\",\n                                \"code\": {\n                                    \"lines\": [\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Enter\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"a\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"for\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"The\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"following\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"will\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"be\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"applied\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"information\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Environment\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"dev\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" editor\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Visual\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Studio\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Code\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"App\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" type\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" framework\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"react\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Source\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"src\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Distribution\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Initialize\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"with\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"above\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Yes\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"Using\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"provider\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"awscloudformation\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Select\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"authentication\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"method\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"AWS\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"...\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Please\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"choose\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    ],\n                                    \"lang\": \"js\"\n                                },\n                                \"annotations\": [\n                                    {\n                                        \"focus\": \"17\",\n                                        \"Component\": CH.annotations.mark\n                                    }\n                                ]\n                            }\n                        ],\n                        \"southPanel\": undefined\n                    },\n                    {\n                        \"northPanel\": {\n                            \"tabs\": [\n                                \"\"\n                            ],\n                            \"active\": \"\",\n                            \"heightRatio\": 1\n                        },\n                        \"files\": [\n                            {\n                                \"name\": \"\",\n                                \"focus\": \"21:21\",\n                                \"mark\": \"21\",\n                                \"code\": {\n                                    \"lines\": [\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Enter\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"a\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"for\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"The\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"following\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"will\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"be\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"applied\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"information\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Name\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"reactamplified\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Environment\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"dev\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" editor\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Visual\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Studio\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Code\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"App\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" type\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Javascript\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" framework\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"react\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Source\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"src\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Distribution\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Directory\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Path\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"build\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"|\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" Command\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#ECEFF4\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"npm\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"run\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"-\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"script\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"start\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Initialize\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"project\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"with\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"above\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"configuration\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Yes\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"Using\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"provider\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"  \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"awscloudformation\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Select\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"authentication\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"method\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \":\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"AWS\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"...\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        },\n                                        {\n                                            \"tokens\": [\n                                                {\n                                                    \"content\": \"?\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#81A1C1\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"Please\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"choose\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"the\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"profile\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"you\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"want\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"to\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"use\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \" \",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9FF\"\n                                                        }\n                                                    }\n                                                },\n                                                {\n                                                    \"content\": \"default\",\n                                                    \"props\": {\n                                                        \"style\": {\n                                                            \"color\": \"#D8DEE9\"\n                                                        }\n                                                    }\n                                                }\n                                            ]\n                                        }\n                                    ],\n                                    \"lang\": \"js\"\n                                },\n                                \"annotations\": [\n                                    {\n                                        \"focus\": \"21\",\n                                        \"Component\": CH.annotations.mark\n                                    }\n                                ]\n                            }\n                        ],\n                        \"southPanel\": undefined\n                    }\n                ],\n                children: [\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.h3, {\n                                children: \"Step 1\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 11,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.p, {\n                                children: \"Enter a name for the project:\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 13,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CH.CodeSlot, {}, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                            }, this)\n                        ]\n                    }, undefined, true, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                    }, this),\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.h3, {\n                                children: \"Step 2\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 41,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.p, {\n                                children: \"Project information:\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 43,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CH.CodeSlot, {}, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                            }, this)\n                        ]\n                    }, undefined, true, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                    }, this),\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.h3, {\n                                children: \"Step 3\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 71,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.p, {\n                                children: \"Initialize the project:\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 73,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CH.CodeSlot, {}, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                            }, this)\n                        ]\n                    }, undefined, true, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                    }, this),\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.h3, {\n                                children: \"Step 4\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 101,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.p, {\n                                children: \"Select the authentication method:\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 103,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CH.CodeSlot, {}, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                            }, this)\n                        ]\n                    }, undefined, true, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                    }, this),\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.h3, {\n                                children: \"Step 5\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 131,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.p, {\n                                children: \"Choose the profile you want:\"\n                            }, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                                lineNumber: 133,\n                                columnNumber: 1\n                            }, this),\n                            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CH.CodeSlot, {}, undefined, false, {\n                                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                            }, this)\n                        ]\n                    }, undefined, true, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n                    }, this)\n                ]\n            }, undefined, true, {\n                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                lineNumber: 9,\n                columnNumber: 1\n            }, this),\n            \"\\n\",\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.p, {\n                children: \"When you initialize a new Amplify project, a few things happen:\"\n            }, undefined, false, {\n                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                lineNumber: 161,\n                columnNumber: 1\n            }, this),\n            \"\\n\",\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.ul, {\n                children: [\n                    \"\\n\",\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.li, {\n                        children: \"It creates a top level directory called amplify that stores your backend definition. During the tutorial you'll add capabilities such as a GraphQL API and authentication. As you add features, the amplify folder will grow with infrastructure-as-code templates that define your backend stack. Infrastructure-as-code is a best practice way to create a replicable backend stack.\"\n                    }, undefined, false, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                        lineNumber: 163,\n                        columnNumber: 1\n                    }, this),\n                    \"\\n\",\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.li, {\n                        children: \"It creates a file called aws-exports.js in the src directory that holds all the configuration for the services you create with Amplify. This is how the Amplify client is able to get the necessary information about your backend services.\"\n                    }, undefined, false, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                        lineNumber: 164,\n                        columnNumber: 1\n                    }, this),\n                    \"\\n\",\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.li, {\n                        children: \"It modifies the .gitignore file, adding some generated files to the ignore list\"\n                    }, undefined, false, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                        lineNumber: 165,\n                        columnNumber: 1\n                    }, this),\n                    \"\\n\",\n                    (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components.li, {\n                        children: \"A cloud project is created for you in the AWS Amplify Console that can be accessed by running amplify console. The Console provides a list of backend environments, deep links to provisioned resources per Amplify category, status of recent deployments, and instructions on how to promote, clone, pull, and delete backend resources\"\n                    }, undefined, false, {\n                        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                        lineNumber: 166,\n                        columnNumber: 1\n                    }, this),\n                    \"\\n\"\n                ]\n            }, undefined, true, {\n                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                lineNumber: 163,\n                columnNumber: 1\n            }, this),\n            \"\\n\",\n            (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    height: 999\n                }\n            }, undefined, false, {\n                fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n                lineNumber: 168,\n                columnNumber: 1\n            }, this)\n        ]\n    }, undefined, true, {\n        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\",\n        lineNumber: 1,\n        columnNumber: 1\n    }, this);\n}\nfunction MDXContent() {\n    let props = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    const { wrapper: MDXLayout  } = Object.assign({}, (0,next_mdx_import_source_file__WEBPACK_IMPORTED_MODULE_2__.useMDXComponents)(), props.components);\n    return MDXLayout ? (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MDXLayout, Object.assign({}, props, {\n        children: (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_createMdxContent, props, undefined, false, {\n            fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n        }, this)\n    }), undefined, false, {\n        fileName: \"/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx\"\n    }, this) : _createMdxContent(props);\n}\n_c = MDXContent;\n/* harmony default export */ __webpack_exports__[\"default\"] = (MDXContent);\nfunction _missingMdxReference(id, component, place) {\n    throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\" + (place ? \"\\nIt’s referenced in your code at `\" + place + \"` in `/Users/lavrenr/Projects/codehike-sample/pages/consoleOutput/spotlight.mdx`\" : \"\"));\n}\nvar _c;\n$RefreshReg$(_c, \"MDXContent\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9jb25zb2xlT3V0cHV0L3Nwb3RsaWdodC5tZHguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQUFJOzs7Ozs7Ozs7b0JBRUo7b0JBQUFBLDZEQUFBQSxDQUFBLFVBQUFDLFdBQUE7Ozs7Ozs7Ozs7Ozs7MEJBRUk7Ozs7Ozs7OzBCQUVKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBDQUlJOzs7Ozs7OzBDQUVKOzs7Ozs7Ozs7Ozs7Ozs7OzBDQTRCSTs7Ozs7OzswQ0FFSjs7Ozs7Ozs7Ozs7Ozs7OzswQ0E0Qkk7Ozs7Ozs7MENBRUo7Ozs7Ozs7Ozs7Ozs7Ozs7MENBNEJJOzs7Ozs7OzBDQUVKOzs7Ozs7Ozs7Ozs7Ozs7OzBDQTRCSTs7Ozs7OzswQ0FFSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQTRCQTs7Ozs7Ozs7Ozs7a0NBRUU7Ozs7Ozs7O2tDQUNBOzs7Ozs7OztrQ0FDQTs7Ozs7Ozs7a0NBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBRVlDLFFBQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvY29uc29sZU91dHB1dC9zcG90bGlnaHQubWR4P2I2ZGIiXSwibmFtZXMiOlsiX2pzeERFViIsInVuZGVmaW5lZCIsImhlaWdodCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/consoleOutput/spotlight.mdx\n"));

/***/ }),

/***/ "./node_modules/@code-hike/mdx/dist/components.esm.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@code-hike/mdx/dist/components.esm.mjs ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Annotation\": function() { return /* binding */ Annotation; },\n/* harmony export */   \"CH\": function() { return /* binding */ CH; },\n/* harmony export */   \"Code\": function() { return /* binding */ Code; },\n/* harmony export */   \"CodeSlot\": function() { return /* binding */ CodeSlot; },\n/* harmony export */   \"InlineCode\": function() { return /* binding */ InlineCode; },\n/* harmony export */   \"Preview\": function() { return /* binding */ Preview; },\n/* harmony export */   \"PreviewSlot\": function() { return /* binding */ PreviewSlot; },\n/* harmony export */   \"Scrollycoding\": function() { return /* binding */ Scrollycoding; },\n/* harmony export */   \"Section\": function() { return /* binding */ Section; },\n/* harmony export */   \"SectionCode\": function() { return /* binding */ SectionCode; },\n/* harmony export */   \"SectionLink\": function() { return /* binding */ SectionLink; },\n/* harmony export */   \"Slideshow\": function() { return /* binding */ Slideshow; },\n/* harmony export */   \"Spotlight\": function() { return /* binding */ Spotlight; },\n/* harmony export */   \"annotations\": function() { return /* binding */ annotationsMap; },\n/* harmony export */   \"internal\": function() { return /* binding */ internal; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"./node_modules/react-dom/index.js\");\n\n\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\n// from https://stackoverflow.com/a/53936623/1325646\r\nconst isValidHex = (hex) => /^#([A-Fa-f0-9]{3,4}){1,2}$/.test(hex);\r\nconst getChunksFromString = (st, chunkSize) => st.match(new RegExp(`.{${chunkSize}}`, \"g\"));\r\nconst convertHexUnitTo256 = (hex) => parseInt(hex.repeat(2 / hex.length), 16);\r\nfunction getAlphaFloat(a, alpha) {\r\n    if (typeof a !== \"undefined\") {\r\n        return a / 255;\r\n    }\r\n    if (typeof alpha != \"number\" || alpha < 0 || alpha > 1) {\r\n        return 1;\r\n    }\r\n    return alpha;\r\n}\r\nfunction hexToObject(hex) {\r\n    if (!hex) {\r\n        return undefined;\r\n    }\r\n    if (!isValidHex(hex)) {\r\n        throw new Error(\"Invalid color string, must be a valid hex color\");\r\n    }\r\n    const chunkSize = Math.floor((hex.length - 1) / 3);\r\n    const hexArr = getChunksFromString(hex.slice(1), chunkSize);\r\n    const [r, g, b, a] = hexArr.map(convertHexUnitTo256);\r\n    return {\r\n        r,\r\n        g,\r\n        b,\r\n        a: getAlphaFloat(a, 1),\r\n    };\r\n}\r\nfunction objectToHex(object) {\r\n    if (!object) {\r\n        return undefined;\r\n    }\r\n    const { r, g, b, a } = object;\r\n    const alpha = Math.round(a * 255);\r\n    return `#${r.toString(16).padStart(2, \"0\")}${g\r\n        .toString(16)\r\n        .padStart(2, \"0\")}${b\r\n        .toString(16)\r\n        .padStart(2, \"0\")}${alpha\r\n        .toString(16)\r\n        .padStart(2, \"0\")}`;\r\n}\r\nfunction transparent(color, opacity) {\r\n    if (!color) {\r\n        return color;\r\n    }\r\n    const { r, g, b, a } = hexToObject(color);\r\n    return objectToHex({ r, g, b, a: a * opacity });\r\n}\n\nfunction map(tween, fn) {\r\n    return {\r\n        prev: fn(tween.prev, \"prev\"),\r\n        next: fn(tween.next, \"next\"),\r\n    };\r\n}\r\nfunction withDefault(t, deft) {\r\n    return {\r\n        prev: (t === null || t === void 0 ? void 0 : t.prev) === undefined ? deft : t.prev,\r\n        next: (t === null || t === void 0 ? void 0 : t.next) === undefined ? deft : t.next,\r\n    };\r\n}\r\nfunction mapWithDefault(tween, deft, fn) {\r\n    return map(withDefault(tween, deft), fn);\r\n}\r\nfunction anyValue(tween, fn) {\r\n    return fn(tween.prev) || fn(tween.next);\r\n}\n\nfunction codeToText(code) {\r\n    return code.lines\r\n        .map(line => line.tokens.map(token => token.content).join(\"\"))\r\n        .join(\"\\n\");\r\n}\n\nfunction mapFocusToLineNumbers(focus, lines) {\r\n    if (!focus) {\r\n        // focus all lines\r\n        return mergeToObject([...lines.keys()].map(lineIndex => ({\r\n            [lineIndex + 1]: true,\r\n        })));\r\n    }\r\n    else {\r\n        return mergeToObject(splitParts(focus).map(parsePartToObject));\r\n    }\r\n}\r\nfunction splitParts(focus) {\r\n    return focus.split(/,(?![^\\[]*\\])/g);\r\n}\r\nfunction mergeToObject(entries) {\r\n    return entries.reduce((acc, obj) => Object.assign(acc, obj), {});\r\n}\r\nfunction hasColumns(part) {\r\n    return !!part.match(/(\\d+)\\[(.+)\\]/);\r\n}\r\nfunction parsePartToObject(part) {\r\n    // a part could be\r\n    // - a line number: \"2\"\r\n    // - a line range: \"5:9\"\r\n    // - a line number with a column selector: \"2[1,3:5,9]\"\r\n    const columnsMatch = part.match(/(\\d+)\\[(.+)\\]/);\r\n    if (columnsMatch) {\r\n        const [, line, columns] = columnsMatch;\r\n        const columnsList = columns\r\n            .split(\",\")\r\n            .map(parseExtremes);\r\n        const lineNumber = Number(line);\r\n        return { [lineNumber]: columnsList };\r\n    }\r\n    else {\r\n        return mergeToObject(expandString(part).map(lineNumber => ({\r\n            [lineNumber]: true,\r\n        })));\r\n    }\r\n}\r\nfunction parseExtremes(part) {\r\n    // Transforms something like\r\n    // - \"1:3\" to {start:1, end: 3}\r\n    // - \"4\" to {start:4, end:4}\r\n    const [start, end] = part.split(\":\");\r\n    if (!isNaturalNumber(start)) {\r\n        throw new FocusNumberError(start);\r\n    }\r\n    const startNumber = Number(start);\r\n    if (startNumber < 1) {\r\n        throw new LineOrColumnNumberError();\r\n    }\r\n    if (!end) {\r\n        return { start: startNumber, end: startNumber };\r\n    }\r\n    else {\r\n        if (!isNaturalNumber(end)) {\r\n            throw new FocusNumberError(end);\r\n        }\r\n        return { start: startNumber, end: +end };\r\n    }\r\n}\r\n/**\r\n * Return the first and last indexes to focus, both included\r\n */\r\nfunction getFocusExtremes(focus, lines) {\r\n    if (!focus) {\r\n        return [0, lines.length - 1];\r\n    }\r\n    else {\r\n        const parsed = parseFocus(focus);\r\n        const focusedIndexes = Object.keys(parsed).map(i => parseInt(i, 10));\r\n        return [\r\n            Math.min(...focusedIndexes),\r\n            Math.max(...focusedIndexes),\r\n        ];\r\n    }\r\n}\r\nfunction getFocusIndexes(focus, lines) {\r\n    if (!focus) {\r\n        return [...lines.keys()];\r\n    }\r\n    else {\r\n        const parsed = parseFocus(focus);\r\n        const focusedIndexes = Object.keys(parsed).map(i => parseInt(i, 10));\r\n        return focusedIndexes;\r\n    }\r\n}\r\nfunction parseFocus(focus) {\r\n    if (!focus) {\r\n        throw new Error(\"Focus cannot be empty\");\r\n    }\r\n    try {\r\n        const parts = focus\r\n            .split(/,(?![^\\[]*\\])/g)\r\n            .map(parsePart);\r\n        return fromEntries(parts.flat());\r\n    }\r\n    catch (error) {\r\n        // TODO enhance error\r\n        throw error;\r\n    }\r\n}\r\nfunction parsePart(part) {\r\n    // a part could be\r\n    // - a line number: \"2\"\r\n    // - a line range: \"5:9\"\r\n    // - a line number with a column selector: \"2[1,3:5,9]\"\r\n    const columnsMatch = part.match(/(\\d+)\\[(.+)\\]/);\r\n    if (columnsMatch) {\r\n        const [, line, columns] = columnsMatch;\r\n        const columnsList = columns.split(\",\").map(expandString);\r\n        const lineIndex = Number(line) - 1;\r\n        const columnIndexes = columnsList.flat().map(c => c - 1);\r\n        return [[lineIndex, columnIndexes]];\r\n    }\r\n    else {\r\n        return expandString(part).map(lineNumber => [\r\n            lineNumber - 1,\r\n            true,\r\n        ]);\r\n    }\r\n}\r\nfunction expandString(part) {\r\n    // Transforms something like\r\n    // - \"1:3\" to [1,2,3]\r\n    // - \"4\" to [4]\r\n    const [start, end] = part.split(\":\");\r\n    if (!isNaturalNumber(start)) {\r\n        throw new FocusNumberError(start);\r\n    }\r\n    const startNumber = Number(start);\r\n    if (startNumber < 1) {\r\n        throw new LineOrColumnNumberError();\r\n    }\r\n    if (!end) {\r\n        return [startNumber];\r\n    }\r\n    else {\r\n        if (!isNaturalNumber(end)) {\r\n            throw new FocusNumberError(end);\r\n        }\r\n        const list = [];\r\n        for (let i = startNumber; i <= +end; i++) {\r\n            list.push(i);\r\n        }\r\n        return list;\r\n    }\r\n}\r\nfunction isNaturalNumber(n) {\r\n    n = n.toString(); // force the value in case it is not\r\n    var n1 = Math.abs(n), n2 = parseInt(n, 10);\r\n    return !isNaN(n1) && n2 === n1 && n1.toString() === n;\r\n}\r\nclass LineOrColumnNumberError extends Error {\r\n    constructor() {\r\n        super(`Invalid line or column number in focus string`);\r\n        Object.setPrototypeOf(this, new.target.prototype);\r\n    }\r\n}\r\nclass FocusNumberError extends Error {\r\n    constructor(number) {\r\n        super(`Invalid number \"${number}\" in focus string`);\r\n        this.number = number;\r\n        Object.setPrototypeOf(this, new.target.prototype);\r\n    }\r\n}\r\nfunction fromEntries(pairs) {\r\n    const result = {};\r\n    let index = -1, length = pairs == null ? 0 : pairs.length;\r\n    while (++index < length) {\r\n        var pair = pairs[index];\r\n        result[pair[0]] = pair[1];\r\n    }\r\n    return result;\r\n}\n\nvar ColorName;\r\n(function (ColorName) {\r\n    ColorName[ColorName[\"CodeForeground\"] = 0] = \"CodeForeground\";\r\n    ColorName[ColorName[\"CodeBackground\"] = 1] = \"CodeBackground\";\r\n    ColorName[ColorName[\"EditorForeground\"] = 2] = \"EditorForeground\";\r\n    ColorName[ColorName[\"EditorBackground\"] = 3] = \"EditorBackground\";\r\n    ColorName[ColorName[\"FocusBorder\"] = 4] = \"FocusBorder\";\r\n    ColorName[ColorName[\"ActiveTabBackground\"] = 5] = \"ActiveTabBackground\";\r\n    ColorName[ColorName[\"ActiveTabForeground\"] = 6] = \"ActiveTabForeground\";\r\n    ColorName[ColorName[\"InactiveTabBackground\"] = 7] = \"InactiveTabBackground\";\r\n    ColorName[ColorName[\"InactiveTabForeground\"] = 8] = \"InactiveTabForeground\";\r\n    ColorName[ColorName[\"EditorGroupBorder\"] = 9] = \"EditorGroupBorder\";\r\n    ColorName[ColorName[\"EditorGroupHeaderBackground\"] = 10] = \"EditorGroupHeaderBackground\";\r\n    ColorName[ColorName[\"TabBorder\"] = 11] = \"TabBorder\";\r\n    ColorName[ColorName[\"ActiveTabBottomBorder\"] = 12] = \"ActiveTabBottomBorder\";\r\n    ColorName[ColorName[\"LineNumberForeground\"] = 13] = \"LineNumberForeground\";\r\n    ColorName[ColorName[\"InputForeground\"] = 14] = \"InputForeground\";\r\n    ColorName[ColorName[\"InputBackground\"] = 15] = \"InputBackground\";\r\n    ColorName[ColorName[\"InputBorder\"] = 16] = \"InputBorder\";\r\n    ColorName[ColorName[\"SelectionBackground\"] = 17] = \"SelectionBackground\";\r\n    ColorName[ColorName[\"IconForeground\"] = 18] = \"IconForeground\";\r\n    ColorName[ColorName[\"ListActiveSelectionBackground\"] = 19] = \"ListActiveSelectionBackground\";\r\n    ColorName[ColorName[\"ListActiveSelectionForeground\"] = 20] = \"ListActiveSelectionForeground\";\r\n    ColorName[ColorName[\"ListHoverBackground\"] = 21] = \"ListHoverBackground\";\r\n    ColorName[ColorName[\"ListHoverForeground\"] = 22] = \"ListHoverForeground\";\r\n    ColorName[ColorName[\"SideBarBackground\"] = 23] = \"SideBarBackground\";\r\n    ColorName[ColorName[\"SideBarForeground\"] = 24] = \"SideBarForeground\";\r\n    ColorName[ColorName[\"SideBarBorder\"] = 25] = \"SideBarBorder\";\r\n    // Background color for the highlight of line at the cursor position\r\n    ColorName[ColorName[\"LineHighlightBackground\"] = 26] = \"LineHighlightBackground\";\r\n    // Background color of highlighted ranges, like by quick open and find features\r\n    ColorName[ColorName[\"RangeHighlightBackground\"] = 27] = \"RangeHighlightBackground\";\r\n    // Foreground color of info squigglies in the editor\r\n    ColorName[ColorName[\"EditorInfoForeground\"] = 28] = \"EditorInfoForeground\";\r\n})(ColorName || (ColorName = {}));\r\nconst contrastBorder = \"#6FC3DF\";\r\n// defaults from: https://github.com/microsoft/vscode/blob/main/src/vs/workbench/common/theme.ts\r\n// and: https://github.com/microsoft/vscode/blob/main/src/vs/editor/common/core/editorColorRegistry.ts\r\n// and: https://github.com/microsoft/vscode/blob/main/src/vs/platform/theme/common/colorRegistry.ts\r\n// keys from : https://code.visualstudio.com/api/references/theme-color#editor-groups-tabs\r\nfunction getColor(theme, colorName) {\r\n    var _a, _b;\r\n    const colors = theme.colors || {};\r\n    switch (colorName) {\r\n        case ColorName.CodeForeground:\r\n            return (((_a = getGlobalSettings(theme)) === null || _a === void 0 ? void 0 : _a.foreground) ||\r\n                getColor(theme, ColorName.EditorForeground));\r\n        case ColorName.CodeBackground:\r\n            return (((_b = getGlobalSettings(theme)) === null || _b === void 0 ? void 0 : _b.background) ||\r\n                getColor(theme, ColorName.EditorBackground));\r\n        case ColorName.EditorBackground:\r\n            return (colors[\"editor.background\"] ||\r\n                getDefault(theme, {\r\n                    light: \"#fffffe\",\r\n                    dark: \"#1E1E1E\",\r\n                    hc: \"#000000\",\r\n                }));\r\n        case ColorName.EditorForeground:\r\n            return (colors[\"editor.foreground\"] ||\r\n                getDefault(theme, {\r\n                    light: \"#333333\",\r\n                    dark: \"#BBBBBB\",\r\n                    hc: \"#fffffe\",\r\n                }));\r\n        case ColorName.FocusBorder:\r\n            return (colors[\"focusBorder\"] ||\r\n                getDefault(theme, {\r\n                    light: \"#0090F1\",\r\n                    dark: \"#007FD4\",\r\n                    hc: contrastBorder,\r\n                }));\r\n        case ColorName.ActiveTabBackground:\r\n            return (colors[\"tab.activeBackground\"] ||\r\n                getColor(theme, ColorName.EditorBackground));\r\n        case ColorName.ActiveTabForeground:\r\n            return (colors[\"tab.activeForeground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#ffffff\",\r\n                    light: \"#333333\",\r\n                    hc: \"#ffffff\",\r\n                }));\r\n        case ColorName.InactiveTabBackground:\r\n            return (colors[\"tab.inactiveBackground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#2D2D2D\",\r\n                    light: \"#ECECEC\",\r\n                    hc: undefined,\r\n                }));\r\n        case ColorName.InactiveTabForeground:\r\n            return (colors[\"tab.inactiveForeground\"] ||\r\n                getDefault(theme, {\r\n                    dark: transparent(getColor(theme, ColorName.ActiveTabForeground), 0.5),\r\n                    light: transparent(getColor(theme, ColorName.ActiveTabForeground), 0.7),\r\n                    hc: \"#ffffff\",\r\n                }));\r\n        case ColorName.TabBorder:\r\n            return (colors[\"tab.border\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#252526\",\r\n                    light: \"#F3F3F3\",\r\n                    hc: contrastBorder,\r\n                }));\r\n        case ColorName.ActiveTabBottomBorder:\r\n            return (colors[\"tab.activeBorder\"] ||\r\n                getColor(theme, ColorName.ActiveTabBackground));\r\n        case ColorName.EditorGroupBorder:\r\n            return (colors[\"editorGroup.border\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#444444\",\r\n                    light: \"#E7E7E7\",\r\n                    hc: contrastBorder,\r\n                }));\r\n        case ColorName.EditorGroupHeaderBackground:\r\n            return (colors[\"editorGroupHeader.tabsBackground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#252526\",\r\n                    light: \"#F3F3F3\",\r\n                    hc: undefined,\r\n                }));\r\n        case ColorName.LineNumberForeground:\r\n            return (colors[\"editorLineNumber.foreground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#858585\",\r\n                    light: \"#237893\",\r\n                    hc: \"#fffffe\",\r\n                }));\r\n        case ColorName.InputBackground:\r\n            return (colors[\"input.background\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#3C3C3C\",\r\n                    light: \"#fffffe\",\r\n                    hc: \"#000000\",\r\n                }));\r\n        case ColorName.InputForeground:\r\n            return (colors[\"input.foreground\"] ||\r\n                getColor(theme, ColorName.EditorForeground));\r\n        case ColorName.InputBorder:\r\n            return (colors[\"input.border\"] ||\r\n                getDefault(theme, {\r\n                    dark: undefined,\r\n                    light: undefined,\r\n                    hc: contrastBorder,\r\n                }));\r\n        case ColorName.SelectionBackground:\r\n            return (colors[\"editor.selectionBackground\"] ||\r\n                getDefault(theme, {\r\n                    light: \"#ADD6FF\",\r\n                    dark: \"#264F78\",\r\n                    hc: \"#f3f518\",\r\n                }));\r\n        case ColorName.IconForeground:\r\n            return (colors[\"icon.foreground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#C5C5C5\",\r\n                    light: \"#424242\",\r\n                    hc: \"#FFFFFF\",\r\n                }));\r\n        case ColorName.SideBarBackground:\r\n            return (colors[\"sideBar.background\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#252526\",\r\n                    light: \"#F3F3F3\",\r\n                    hc: \"#000000\",\r\n                }));\r\n        case ColorName.SideBarForeground:\r\n            return (colors[\"sideBar.foreground\"] ||\r\n                getColor(theme, ColorName.EditorForeground));\r\n        case ColorName.SideBarBorder:\r\n            return (colors[\"sideBar.border\"] ||\r\n                getColor(theme, ColorName.SideBarBackground));\r\n        case ColorName.ListActiveSelectionBackground:\r\n            return (colors[\"list.activeSelectionBackground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#094771\",\r\n                    light: \"#0060C0\",\r\n                    hc: \"#000000\",\r\n                }));\r\n        case ColorName.ListActiveSelectionForeground:\r\n            return (colors[\"list.activeSelectionForeground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#fffffe\",\r\n                    light: \"#fffffe\",\r\n                    hc: \"#fffffe\",\r\n                }));\r\n        case ColorName.ListHoverBackground:\r\n            return (colors[\"list.hoverBackground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#2A2D2E\",\r\n                    light: \"#F0F0F0\",\r\n                    hc: undefined,\r\n                }));\r\n        case ColorName.ListHoverForeground:\r\n            return colors[\"list.hoverForeground\"] || undefined;\r\n        case ColorName.LineHighlightBackground:\r\n            return (colors[\"editor.lineHighlightBackground\"] ||\r\n                getDefault(theme, {\r\n                    dark: undefined,\r\n                    light: undefined,\r\n                    hc: undefined,\r\n                }));\r\n        case ColorName.RangeHighlightBackground:\r\n            return (colors[\"editor.rangeHighlightBackground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#ffffff0b\",\r\n                    light: \"#fdff0033\",\r\n                    hc: undefined,\r\n                }));\r\n        case ColorName.EditorInfoForeground:\r\n            return (colors[\"editor.infoForeground\"] ||\r\n                getDefault(theme, {\r\n                    dark: \"#3794FF\",\r\n                    light: \"#1a85ff\",\r\n                    hc: \"#3794FF\",\r\n                }));\r\n        default:\r\n            return \"#f00\";\r\n    }\r\n}\r\nfunction getColorScheme(theme) {\r\n    const themeType = getThemeType(theme);\r\n    if (themeType === \"dark\") {\r\n        return \"dark\";\r\n    }\r\n    else if (themeType === \"light\") {\r\n        return \"light\";\r\n    }\r\n    return undefined;\r\n}\r\nfunction getDefault(theme, defaults) {\r\n    return defaults[getThemeType(theme)];\r\n}\r\nfunction getThemeType(theme) {\r\n    var _a;\r\n    return (theme.type\r\n        ? theme.type\r\n        : ((_a = theme.name) === null || _a === void 0 ? void 0 : _a.toLowerCase().includes(\"light\"))\r\n            ? \"light\"\r\n            : \"dark\");\r\n}\r\nfunction getCodeColors(theme) {\r\n    return {\r\n        fg: getColor(theme, ColorName.CodeForeground),\r\n        bg: getColor(theme, ColorName.CodeBackground),\r\n    };\r\n}\r\nfunction getGlobalSettings(theme) {\r\n    let settings = theme.settings\r\n        ? theme.settings\r\n        : theme.tokenColors;\r\n    const globalSetting = settings\r\n        ? settings.find(s => {\r\n            return !s.name && !s.scope;\r\n        })\r\n        : undefined;\r\n    return globalSetting === null || globalSetting === void 0 ? void 0 : globalSetting.settings;\r\n}\n\nconst useLayoutEffect$4 = typeof window !== \"undefined\"\r\n    ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect\r\n    : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\r\n// for debugging:\r\n// export const useLayoutEffect = (\r\n//   effect: any,\r\n//   deps?: any\r\n// ) => {}\r\n// from https://overreacted.io/making-setinterval-declarative-with-react-hooks/\r\nfunction useInterval(callback, delay) {\r\n    const savedCallback = react__WEBPACK_IMPORTED_MODULE_0__.useRef(callback);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        savedCallback.current = callback;\r\n    }, [callback]);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        if (!delay && delay !== 0) {\r\n            return undefined;\r\n        }\r\n        const id = setInterval(() => savedCallback.current(), delay);\r\n        return () => clearInterval(id);\r\n    }, [delay]);\r\n}\n\nfunction clamp$2(x, min, max) {\r\n    return Math.min(Math.max(x, min), max);\r\n}\n\nconst DEFAULT_WIDTH = 200;\r\n// type DimensionsResult = {\r\n//   width: number\r\n//   height: number\r\n//   lineWidths: { prev: number; next: number }\r\n//   lineHeight: number\r\n//   colWidth: number\r\n// }\r\nfunction useDimensions(code, focus, minColumns, lineNumbers, rows, deps) {\r\n    const [dimensions, setDimensions] = react__WEBPACK_IMPORTED_MODULE_0__.useState(null);\r\n    const windowWidth = useWindowWidth();\r\n    const prevLineRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\r\n    const { prevLongestLine, nextLongestLine, element } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\r\n        const prevLongestLine = getLongestLine(code.prev, focus.prev);\r\n        const nextLongestLine = getLongestLine(code.next, focus.next);\r\n        const lines = (code.prev || code.next)\r\n            .trimEnd()\r\n            .split(newlineRe);\r\n        const largestLineNumber = Math.max(lines.length, 10);\r\n        if (rows) {\r\n            // make the lines match the requested number of rows\r\n            const heightInLines = rows === \"focus\"\r\n                ? focusHeightInLines(focus, lines)\r\n                : rows;\r\n            let i = lines.length;\r\n            while (i < heightInLines) {\r\n                lines.push(\"\");\r\n                i++;\r\n            }\r\n            // remove extra lines to match the requested rows\r\n            while (i > heightInLines) {\r\n                lines.pop();\r\n                i--;\r\n            }\r\n            // if we removed prevLongestLine, add it back\r\n            if (prevLongestLine &&\r\n                !lines.includes(prevLongestLine)) {\r\n                lines[lines.length - 1] = prevLongestLine;\r\n            }\r\n        }\r\n        // avod setting the ref more than once https://github.com/code-hike/codehike/issues/232\r\n        let prevLineRefSet = false;\r\n        const element = (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"code\", { className: \"ch-code-scroll-parent\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", null),\r\n            lines.map((line, i) => {\r\n                const ref = !prevLineRefSet && line === prevLongestLine\r\n                    ? prevLineRef\r\n                    : undefined;\r\n                prevLineRefSet = prevLineRefSet || ref != null;\r\n                return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: ref, key: i },\r\n                    lineNumbers ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"ch-code-line-number\" },\r\n                        \"_\",\r\n                        largestLineNumber)) : undefined,\r\n                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: {\r\n                            display: \"inline-block\",\r\n                            // leftPad\r\n                            marginLeft: 16,\r\n                        } },\r\n                        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, line))));\r\n            }),\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", null)));\r\n        return { prevLongestLine, nextLongestLine, element };\r\n    }, [code]);\r\n    const allDeps = [\r\n        ...deps,\r\n        windowWidth,\r\n        prevLongestLine,\r\n        nextLongestLine,\r\n        minColumns,\r\n    ];\r\n    useLayoutEffect$4(() => {\r\n        var _a;\r\n        if (prevLineRef.current) {\r\n            const pll = prevLineRef.current;\r\n            const contentElement = pll === null || pll === void 0 ? void 0 : pll.parentElement;\r\n            const codeElement = contentElement.parentElement;\r\n            // TODO is it clientWidth or clientRect?\r\n            const lineContentDiv = pll === null || pll === void 0 ? void 0 : pll.querySelector(\":scope > div\");\r\n            const lineNumberSpan = pll === null || pll === void 0 ? void 0 : pll.querySelector(\":scope > span\");\r\n            const lnw = lineNumberSpan\r\n                ? getWidthWithPadding(lineNumberSpan)\r\n                : 0;\r\n            const plw = getWidthWithoutPadding(lineContentDiv);\r\n            const colWidth = plw / prevLongestLine.length || 1;\r\n            const nlw = nextLongestLine.length * colWidth;\r\n            const lineHeight = (_a = getHeightWithoutPadding(lineContentDiv)) !== null && _a !== void 0 ? _a : 20;\r\n            const d = {\r\n                containerWidth: getWidthWithoutPadding(codeElement.parentElement),\r\n                containerHeight: getHeightWithoutPadding(codeElement.parentElement),\r\n                contentWidth: getWidthWithoutPadding(contentElement.parentElement),\r\n                contentHeight: getHeightWithoutPadding(contentElement.parentElement),\r\n                lineWidths: [\r\n                    plw || nlw || DEFAULT_WIDTH,\r\n                    nlw || plw || DEFAULT_WIDTH,\r\n                ],\r\n                lineWidth: [\r\n                    Math.max(plw || nlw || DEFAULT_WIDTH, colWidth * minColumns),\r\n                    Math.max(nlw || plw || DEFAULT_WIDTH, colWidth * minColumns),\r\n                ],\r\n                lineHeight,\r\n                colWidth,\r\n                lineNumberWidth: lnw,\r\n                deps: allDeps,\r\n            };\r\n            setDimensions(d);\r\n        }\r\n    }, allDeps);\r\n    if (!dimensions ||\r\n        depsChanged(dimensions.deps, allDeps)) {\r\n        return { element, dimensions: null };\r\n    }\r\n    else {\r\n        return { element, dimensions };\r\n    }\r\n}\r\nconst newlineRe = /\\r\\n|\\r|\\n/;\r\nfunction getLongestLine(code, focus) {\r\n    const lines = code ? code.split(newlineRe) : [\"\"];\r\n    const focusIndexes = getFocusIndexes(focus, lines);\r\n    let longestLine = \"\";\r\n    lines.forEach((line, index) => {\r\n        if (focusIndexes.includes(index) &&\r\n            line.length > longestLine.length) {\r\n            longestLine = line;\r\n        }\r\n    });\r\n    return longestLine;\r\n}\r\nfunction getWidthWithoutPadding(element) {\r\n    const computedStyle = getComputedStyle(element);\r\n    return (parseFloat(computedStyle.width) -\r\n        parseFloat(computedStyle.paddingLeft) -\r\n        parseFloat(computedStyle.paddingRight));\r\n}\r\nfunction getWidthWithPadding(element) {\r\n    const computedStyle = getComputedStyle(element);\r\n    return parseFloat(computedStyle.width);\r\n}\r\nfunction getHeightWithoutPadding(element) {\r\n    if (!element)\r\n        return null;\r\n    const computedStyle = getComputedStyle(element);\r\n    return (parseFloat(computedStyle.height) -\r\n        parseFloat(computedStyle.paddingTop) -\r\n        parseFloat(computedStyle.paddingBottom));\r\n}\r\nfunction depsChanged(oldDeps, newDeps) {\r\n    for (let i = 0; i < oldDeps.length; i++) {\r\n        if (oldDeps[i] !== newDeps[i])\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nfunction useWindowWidth() {\r\n    const [width, setWidth] = react__WEBPACK_IMPORTED_MODULE_0__.useState(undefined);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        function handleResize() {\r\n            setWidth(window.innerWidth);\r\n        }\r\n        window.addEventListener(\"resize\", handleResize);\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n    return width;\r\n}\r\nfunction focusHeightInLines(focus, lines) {\r\n    const [start, end] = getFocusExtremes(focus.prev, lines);\r\n    return end - start + 1;\r\n}\n\nfunction Diff() {}\nDiff.prototype = {\n  diff: function diff(oldString, newString) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = options.callback;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.options = options;\n    var self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function () {\n          callback(undefined, value);\n        }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    } // Allow subclasses to massage the input prior to running\n\n\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n    var newLen = newString.length,\n        oldLen = oldString.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n    var bestPath = [{\n      newPos: -1,\n      components: []\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n\n    if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n      // Identity per the equality and tokenizer\n      return done([{\n        value: this.join(newString),\n        count: newString.length\n      }]);\n    } // Main worker method. checks all permutations of a given edit length for acceptance.\n\n\n    function execEditLength() {\n      for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n        var basePath = void 0;\n\n        var addPath = bestPath[diagonalPath - 1],\n            removePath = bestPath[diagonalPath + 1],\n            _oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n\n        if (addPath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = addPath && addPath.newPos + 1 < newLen,\n            canRemove = removePath && 0 <= _oldPos && _oldPos < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the new string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n\n\n        if (!canAdd || canRemove && addPath.newPos < removePath.newPos) {\n          basePath = clonePath(removePath);\n          self.pushComponent(basePath.components, undefined, true);\n        } else {\n          basePath = addPath; // No need to clone, we've pulled it from the list\n\n          basePath.newPos++;\n          self.pushComponent(basePath.components, true, undefined);\n        }\n\n        _oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath); // If we have hit the end of both strings, then we are done\n\n        if (basePath.newPos + 1 >= newLen && _oldPos + 1 >= oldLen) {\n          return done(buildValues(self, basePath.components, newString, oldString, self.useLongestToken));\n        } else {\n          // Otherwise track this path as a potential candidate and continue.\n          bestPath[diagonalPath] = basePath;\n        }\n      }\n\n      editLength++;\n    } // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced.\n\n\n    if (callback) {\n      (function exec() {\n        setTimeout(function () {\n          // This should not happen, but we want to be safe.\n\n          /* istanbul ignore next */\n          if (editLength > maxEditLength) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      })();\n    } else {\n      while (editLength <= maxEditLength) {\n        var ret = execEditLength();\n\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  pushComponent: function pushComponent(components, added, removed) {\n    var last = components[components.length - 1];\n\n    if (last && last.added === added && last.removed === removed) {\n      // We need to clone here as the component clone operation is just\n      // as shallow array clone\n      components[components.length - 1] = {\n        count: last.count + 1,\n        added: added,\n        removed: removed\n      };\n    } else {\n      components.push({\n        count: 1,\n        added: added,\n        removed: removed\n      });\n    }\n  },\n  extractCommon: function extractCommon(basePath, newString, oldString, diagonalPath) {\n    var newLen = newString.length,\n        oldLen = oldString.length,\n        newPos = basePath.newPos,\n        oldPos = newPos - diagonalPath,\n        commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.components.push({\n        count: commonCount\n      });\n    }\n\n    basePath.newPos = newPos;\n    return oldPos;\n  },\n  equals: function equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right || this.options.ignoreCase && left.toLowerCase() === right.toLowerCase();\n    }\n  },\n  removeEmpty: function removeEmpty(array) {\n    var ret = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n\n    return ret;\n  },\n  castInput: function castInput(value) {\n    return value;\n  },\n  tokenize: function tokenize(value) {\n    return value.split('');\n  },\n  join: function join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, components, newString, oldString, useLongestToken) {\n  var componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        var value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function (value, i) {\n          var oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count; // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n\n      if (componentPos && components[componentPos - 1].added) {\n        var tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  } // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n\n\n  var lastComponent = components[componentLen - 1];\n\n  if (componentLen > 1 && typeof lastComponent.value === 'string' && (lastComponent.added || lastComponent.removed) && diff.equals('', lastComponent.value)) {\n    components[componentLen - 2].value += lastComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n\nfunction clonePath(path) {\n  return {\n    newPos: path.newPos,\n    components: path.components.slice(0)\n  };\n}\n\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 0080–00FF\n//  - U+00D7  × Multiplication sign\n//  - U+00F7  ÷ Division sign\n// Latin Extended-A, 0100–017F\n// Latin Extended-B, 0180–024F\n// IPA Extensions, 0250–02AF\n// Spacing Modifier Letters, 02B0–02FF\n//  - U+02C7  ˇ &#711;  Caron\n//  - U+02D8  ˘ &#728;  Breve\n//  - U+02D9  ˙ &#729;  Dot Above\n//  - U+02DA  ˚ &#730;  Ring Above\n//  - U+02DB  ˛ &#731;  Ogonek\n//  - U+02DC  ˜ &#732;  Small Tilde\n//  - U+02DD  ˝ &#733;  Double Acute Accent\n// Latin Extended Additional, 1E00–1EFF\n\nvar extendedWordChars = /^[A-Za-z\\xC0-\\u02C6\\u02C8-\\u02D7\\u02DE-\\u02FF\\u1E00-\\u1EFF]+$/;\nvar reWhitespace = /\\S/;\nvar wordDiff = new Diff();\n\nwordDiff.equals = function (left, right) {\n  if (this.options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n\n  return left === right || this.options.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right);\n};\n\nwordDiff.tokenize = function (value) {\n  var tokens = value.split(/(\\s+|[()[\\]{}'\"]|\\b)/); // Join the boundary splits that we do not consider to be boundaries. This is primarily the extended Latin character set.\n\n  for (var i = 0; i < tokens.length - 1; i++) {\n    // If we have an empty string in the next field and we have only word chars before and after, merge\n    if (!tokens[i + 1] && tokens[i + 2] && extendedWordChars.test(tokens[i]) && extendedWordChars.test(tokens[i + 2])) {\n      tokens[i] += tokens[i + 2];\n      tokens.splice(i + 1, 2);\n      i--;\n    }\n  }\n\n  return tokens;\n};\n\nvar lineDiff = new Diff();\n\nlineDiff.tokenize = function (value) {\n  var retLines = [],\n      linesAndNewlines = value.split(/(\\n|\\r\\n)/); // Ignore the final empty token that occurs if the string ends with a new line\n\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  } // Merge the content and line separators into single tokens\n\n\n  for (var i = 0; i < linesAndNewlines.length; i++) {\n    var line = linesAndNewlines[i];\n\n    if (i % 2 && !this.options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      if (this.options.ignoreWhitespace) {\n        line = line.trim();\n      }\n\n      retLines.push(line);\n    }\n  }\n\n  return retLines;\n};\n\nfunction diffLines(oldStr, newStr, callback) {\n  return lineDiff.diff(oldStr, newStr, callback);\n}\n\nvar sentenceDiff = new Diff();\n\nsentenceDiff.tokenize = function (value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\n\nvar cssDiff = new Diff();\n\ncssDiff.tokenize = function (value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar objectPrototypeToString = Object.prototype.toString;\nvar jsonDiff = new Diff(); // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n\njsonDiff.useLongestToken = true;\njsonDiff.tokenize = lineDiff.tokenize;\n\njsonDiff.castInput = function (value) {\n  var _this$options = this.options,\n      undefinedReplacement = _this$options.undefinedReplacement,\n      _this$options$stringi = _this$options.stringifyReplacer,\n      stringifyReplacer = _this$options$stringi === void 0 ? function (k, v) {\n    return typeof v === 'undefined' ? undefinedReplacement : v;\n  } : _this$options$stringi;\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\n\njsonDiff.equals = function (left, right) {\n  return Diff.prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n};\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\n\nfunction canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n\n  var i;\n\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n\n  var canonicalizedObj;\n\n  if ('[object Array]' === objectPrototypeToString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n\n  if (_typeof(obj) === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n\n    var sortedKeys = [],\n        _key;\n\n    for (_key in obj) {\n      /* istanbul ignore else */\n      if (obj.hasOwnProperty(_key)) {\n        sortedKeys.push(_key);\n      }\n    }\n\n    sortedKeys.sort();\n\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      _key = sortedKeys[i];\n      canonicalizedObj[_key] = canonicalize(obj[_key], stack, replacementStack, replacer, _key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n\n  return canonicalizedObj;\n}\n\nvar arrayDiff = new Diff();\n\narrayDiff.tokenize = function (value) {\n  return value.slice();\n};\n\narrayDiff.join = arrayDiff.removeEmpty = function (value) {\n  return value;\n};\n\nfunction mergeLines(code, lines) {\r\n    let enterIndex = 0;\r\n    let exitIndex = 0;\r\n    const indexes = diff(code);\r\n    const newLines = indexes.map(index => {\r\n        if (index.next === undefined) {\r\n            return Object.assign(Object.assign({}, lines.prev[index.prev]), { lineNumber: {\r\n                    prev: index.prev + 1,\r\n                }, move: \"exit\", enterIndex: null, exitIndex: exitIndex++ });\r\n        }\r\n        if (index.prev === undefined) {\r\n            return Object.assign(Object.assign({}, lines.next[index.next]), { lineNumber: {\r\n                    next: index.next + 1,\r\n                }, move: \"enter\", enterIndex: enterIndex++, exitIndex: null });\r\n        }\r\n        return Object.assign(Object.assign({}, lines.prev[index.prev]), { lineNumber: {\r\n                prev: index.prev + 1,\r\n                next: index.next + 1,\r\n            }, move: \"stay\", enterIndex: null, exitIndex: null });\r\n    });\r\n    return {\r\n        lines: newLines,\r\n        enterCount: enterIndex,\r\n        exitCount: exitIndex,\r\n    };\r\n}\r\n/**\r\n * Returns a list of pairs of line indexes:\r\n *\r\n * For example if lines 2 and 3 were removed\r\n * and two lines where added at the end:\r\n *  0 0\r\n *  1 -\r\n *  2 -\r\n *  3 1\r\n *  - 2\r\n *  - 3\r\n */\r\nfunction diff(code) {\r\n    const changes = diffLines(code.prev, code.next);\r\n    let indexes = [];\r\n    let prevIndex = 0;\r\n    let nextIndex = 0;\r\n    changes.forEach(change => {\r\n        if (change.added) {\r\n            for (let i = 0; i < change.count; i++) {\r\n                indexes.push({ next: nextIndex++ });\r\n            }\r\n        }\r\n        else if (change.removed) {\r\n            for (let i = 0; i < change.count; i++) {\r\n                indexes.push({ prev: prevIndex++ });\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 0; i < change.count; i++) {\r\n                indexes.push({\r\n                    prev: prevIndex++,\r\n                    next: nextIndex++,\r\n                });\r\n            }\r\n        }\r\n    });\r\n    return indexes;\r\n}\n\nfunction splitByFocus(mergedCode, focus, annotations) {\r\n    const { lines } = mergedCode, mergedCodeRest = __rest(mergedCode, [\"lines\"]);\r\n    const focusByLineNumber = map(focus, (focus, key) => {\r\n        // we need to filter the lines that don't belong to the step\r\n        // for the case where focus == \"\"\r\n        const stepLines = key === \"prev\"\r\n            ? lines.filter(l => l.move !== \"enter\")\r\n            : lines.filter(l => l.move !== \"exit\");\r\n        return mapFocusToLineNumbers(focus, stepLines);\r\n    });\r\n    const splittedLines = lines.map(line => {\r\n        const { tokens } = line, rest = __rest(line, [\"tokens\"]);\r\n        const lineFocus = {\r\n            prev: line.lineNumber.prev\r\n                ? focusByLineNumber.prev[line.lineNumber.prev]\r\n                : false,\r\n            next: line.lineNumber.next\r\n                ? focusByLineNumber.next[line.lineNumber.next]\r\n                : false,\r\n        };\r\n        const lineAnnotations = {\r\n            prev: line.lineNumber.prev\r\n                ? annotations.prev[line.lineNumber.prev] || []\r\n                : [],\r\n            next: line.lineNumber.next\r\n                ? annotations.next[line.lineNumber.next] || []\r\n                : [],\r\n        };\r\n        return Object.assign({ focused: map(lineFocus, focus => !!focus), groups: getTokenGroups(tokens, lineFocus, lineAnnotations) }, rest);\r\n    });\r\n    const focusedLineNumbers = map(focusByLineNumber, focusByLineNumber => Object.keys(focusByLineNumber).map(k => Number(k)));\r\n    const firstFocusedLineNumber = map(focusedLineNumbers, focusedLineNumbers => Math.min(...focusedLineNumbers));\r\n    const lastFocusedLineNumber = map(focusedLineNumbers, focusedLineNumbers => Math.max(...focusedLineNumbers));\r\n    return Object.assign({ lines: splittedLines, firstFocusedLineNumber,\r\n        lastFocusedLineNumber }, mergedCodeRest);\r\n}\r\n/**\r\n * Get the least amount of groups where no consecutive groups have\r\n * the same combination of prevFocus, nextFocus, prevAnnotation, nextAnnotation.\r\n */\r\nfunction getTokenGroups(tokens, focus, annotations) {\r\n    const focusExtremes = map(focus, focus => Array.isArray(focus) ? focus : []);\r\n    const annotationExtremes = map(annotations, annotations => annotations.map(({ columnNumbers }) => columnNumbers));\r\n    const allExtremes = [\r\n        ...focusExtremes.prev,\r\n        ...focusExtremes.next,\r\n        ...annotationExtremes.prev,\r\n        ...annotationExtremes.next,\r\n    ];\r\n    const splittedTokens = splitTokens(tokens, allExtremes);\r\n    let startIndex = 0;\r\n    let currentGroup = null;\r\n    const groups = [];\r\n    splittedTokens.forEach(token => {\r\n        const newPrevFocus = isIn(startIndex, focus.prev);\r\n        const newNextFocus = isIn(startIndex, focus.next);\r\n        const newPrevAnnotation = getAnnotation(startIndex, annotations.prev);\r\n        const newNextAnnotation = getAnnotation(startIndex, annotations.next);\r\n        if (!currentGroup ||\r\n            currentGroup.focused.prev !== newPrevFocus ||\r\n            currentGroup.focused.next !== newNextFocus ||\r\n            currentGroup.annotation.prev !== newPrevAnnotation ||\r\n            currentGroup.annotation.next !== newNextAnnotation) {\r\n            currentGroup = {\r\n                focused: {\r\n                    prev: newPrevFocus,\r\n                    next: newNextFocus,\r\n                },\r\n                tokens: [],\r\n                annotation: {\r\n                    prev: newPrevAnnotation,\r\n                    next: newNextAnnotation,\r\n                },\r\n            };\r\n            groups.push(currentGroup);\r\n        }\r\n        currentGroup === null || currentGroup === void 0 ? void 0 : currentGroup.tokens.push(token);\r\n        startIndex += token.content.length;\r\n    });\r\n    return groups.map(group => ({\r\n        focused: group.focused,\r\n        tokens: group.tokens,\r\n        element: getGroupElement(group),\r\n    }));\r\n}\r\nfunction getGroupElement(group) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, group.tokens.map(({ content, props }, i) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", Object.assign({}, props, { key: i + 1 }), content)))));\r\n}\r\n/**\r\n * Split a list of tokens into a more fine-graned list of tokens\r\n *\r\n * tokens: [abc][defg]\r\n * extremes: [1:2,2:5]\r\n * result tokens: [ab][c][de][fg]\r\n *\r\n */\r\nfunction splitTokens(tokens, extremes) {\r\n    const splitIndexes = [\r\n        ...extremes.map(e => e.start - 1),\r\n        ...extremes.map(e => e.end),\r\n    ];\r\n    let oldTokens = tokens;\r\n    splitIndexes.forEach(splitIndex => {\r\n        const newTokens = [];\r\n        let i = 0;\r\n        oldTokens.forEach(token => {\r\n            const startIndex = i;\r\n            const endIndex = i + token.content.length;\r\n            const shouldSplit = startIndex < splitIndex && splitIndex < endIndex;\r\n            if (shouldSplit) {\r\n                const sliceIndex = splitIndex - startIndex;\r\n                const content0 = token.content.slice(0, sliceIndex);\r\n                const content1 = token.content.slice(sliceIndex);\r\n                newTokens.push(Object.assign(Object.assign({}, token), { content: content0 }));\r\n                newTokens.push(Object.assign(Object.assign({}, token), { content: content1 }));\r\n            }\r\n            else {\r\n                newTokens.push(token);\r\n            }\r\n            i = endIndex;\r\n        });\r\n        oldTokens = newTokens;\r\n    });\r\n    return oldTokens;\r\n}\r\nfunction isIn(index, intervals) {\r\n    if (!Array.isArray(intervals)) {\r\n        return intervals;\r\n    }\r\n    return intervals.some(({ start, end }) => start - 1 <= index && index < end);\r\n}\r\nfunction getAnnotation(index, annotations) {\r\n    return annotations.find(({ columnNumbers }) => columnNumbers.start - 1 <= index &&\r\n        index < columnNumbers.end);\r\n}\n\nfunction tween$1(params, t) {\r\n    // needs === true for typescript...\r\n    if (params.fixed === true) {\r\n        return params.value;\r\n    }\r\n    else {\r\n        const [start, end] = params.interval;\r\n        const [from, to] = params.extremes;\r\n        if (t < start)\r\n            return from;\r\n        if (t > end)\r\n            return to;\r\n        const x = (t - start) / (end - start);\r\n        const ease = params.ease || easing.linear;\r\n        return from + ease(x) * (to - from);\r\n    }\r\n}\r\nfunction stagger([start, end], index, count) {\r\n    if (count <= 1)\r\n        return [start, end];\r\n    const totalDuration = end - start;\r\n    const stepDuration = totalDuration / Math.pow(count, 1 / 8);\r\n    const tick = (totalDuration - stepDuration) / (count - 1);\r\n    const stepStart = start + tick * index;\r\n    const stepEnd = stepStart + stepDuration;\r\n    return [stepStart, stepEnd];\r\n}\r\nconst easing = {\r\n    linear: function (t) {\r\n        return t;\r\n    },\r\n    easeInQuad: function (t) {\r\n        return t * t;\r\n    },\r\n    easeOutQuad: function (t) {\r\n        return t * (2 - t);\r\n    },\r\n    easeInOutCubic: function (t) {\r\n        return t < 0.5\r\n            ? 4 * t * t * t\r\n            : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\r\n    },\r\n};\n\nfunction getLinesWithElements(lines, verticalInterval, enterCount, exitCount) {\r\n    // startY is the progress when we start moving vertically\r\n    // endY is when we stop\r\n    const [startY, endY] = verticalInterval;\r\n    return lines.map(line => {\r\n        const lineIndex = map(line.lineNumber, ln => ln && ln - 1);\r\n        const { enterIndex, exitIndex } = line;\r\n        const tweenY = line.move === \"exit\"\r\n            ? { fixed: true, value: lineIndex.prev }\r\n            : line.move === \"enter\"\r\n                ? { fixed: true, value: lineIndex.next }\r\n                : {\r\n                    fixed: false,\r\n                    extremes: [lineIndex.prev, lineIndex.next],\r\n                    interval: [startY, endY],\r\n                    ease: easing.easeInOutCubic,\r\n                };\r\n        const tweenX = line.move === \"exit\"\r\n            ? {\r\n                fixed: false,\r\n                extremes: [0, -1],\r\n                ease: easing.easeInQuad,\r\n                interval: stagger([0, startY], exitIndex, exitCount),\r\n            }\r\n            : line.move === \"enter\"\r\n                ? {\r\n                    fixed: false,\r\n                    extremes: [1, 0],\r\n                    ease: easing.easeOutQuad,\r\n                    interval: stagger([endY, 1], enterIndex, enterCount),\r\n                }\r\n                : { fixed: true, value: 0 };\r\n        return Object.assign(Object.assign({}, line), { tweenX,\r\n            tweenY });\r\n    });\r\n}\n\nfunction parseAnnotations(annotations, theme) {\r\n    // split annotations with multiple parts in the focus string\r\n    // \"1:2,3[4:5]\" becomes  two annotations \"1:2\" and \"3[4:5]\"\r\n    const expandedAnnotations = mapWithDefault(annotations, [], annotations => annotations.flatMap(annotation => splitParts(annotation.focus).map(part => (Object.assign(Object.assign({}, annotation), { focus: part })))));\r\n    const inlineCodeAnnotations = mapWithDefault(expandedAnnotations, [], annotations => annotations.filter(isInline));\r\n    const multilineCodeAnnotations = mapWithDefault(expandedAnnotations, [], annotations => annotations.filter(a => !isInline(a)));\r\n    return {\r\n        inlineAnnotations: map(inlineCodeAnnotations, annotations => parseInlineAnnotations(annotations, theme)),\r\n        multilineAnnotations: map(multilineCodeAnnotations, annotations => parseMultilineAnnotations(annotations, theme)),\r\n    };\r\n}\r\nfunction isInline(annotation) {\r\n    return hasColumns(annotation.focus);\r\n}\r\nfunction parseInlineAnnotations(annotations, theme) {\r\n    const annotationMap = {};\r\n    annotations.forEach(annotation => {\r\n        const focusMap = parsePartToObject(annotation.focus);\r\n        const lineNumber = +Object.keys(focusMap)[0];\r\n        const columnNumbersList = focusMap[lineNumber];\r\n        const lineAnnotations = annotationMap[lineNumber] || [];\r\n        lineAnnotations.push({\r\n            columnNumbers: columnNumbersList[0],\r\n            data: annotation.data,\r\n            theme: theme,\r\n            Component: annotation.Component ||\r\n                defaultInlineComponent(),\r\n        });\r\n        annotationMap[lineNumber] = lineAnnotations;\r\n    });\r\n    return annotationMap;\r\n}\r\nfunction defaultInlineComponent(annotation, theme) {\r\n    return ({ children }) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { style: { outline: \"red 1px solid\" } }, children));\r\n}\r\nfunction parseMultilineAnnotations(annotations, theme) {\r\n    return annotations.map(annotation => {\r\n        return {\r\n            lineNumbers: parseExtremes(annotation.focus),\r\n            data: annotation.data,\r\n            theme: theme,\r\n            Component: annotation.Component ||\r\n                defaultMultilineComponent(annotation, theme),\r\n        };\r\n    });\r\n}\r\nfunction defaultMultilineComponent(annotation, theme) {\r\n    // TODO handle missing bg\r\n    const bg = (theme.colors[\"editor.lineHighlightBackground\"] ||\r\n        theme.colors[\"editor.selectionHighlightBackground\"]);\r\n    return ({ children, style }) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: Object.assign(Object.assign({}, style), { background: bg, cursor: \"pointer\" }), onClick: _ => alert(\"clicked\"), className: \"ch-code-bg-annotation\" },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"ch-code-bg-annotation-border\", style: {\r\n                background: \"#00a2d3\",\r\n                width: \"3px\",\r\n                height: \"100%\",\r\n                position: \"absolute\",\r\n                left: 0,\r\n            } }),\r\n        children));\r\n}\r\n// --- multiline\r\nfunction annotateMultiline(lines, annotations) {\r\n    return {\r\n        prev: annotateMultilineSide(lines, annotations.prev, line => line.lineNumber.prev),\r\n        next: annotateMultilineSide(lines, annotations.next, line => line.lineNumber.next),\r\n    };\r\n}\r\nfunction annotateMultilineSide(lines, ogAnnotations, getLineNumber) {\r\n    const annotations = [...ogAnnotations];\r\n    annotations.sort((a, b) => a.lineNumbers.start - b.lineNumbers.start);\r\n    let lineIndex = 0;\r\n    const groups = [];\r\n    while (lineIndex < lines.length) {\r\n        const annotation = annotations[0];\r\n        let line = lines[lineIndex];\r\n        if (annotation &&\r\n            getLineNumber(line) > annotation.lineNumbers.start) {\r\n            throw \"Code Hike can't handle two annotations for the same line\";\r\n        }\r\n        if (annotation &&\r\n            getLineNumber(line) === annotation.lineNumbers.start) {\r\n            // create annotation group\r\n            const group = {\r\n                lines: [],\r\n                annotation,\r\n            };\r\n            while (line &&\r\n                (!getLineNumber(line) ||\r\n                    getLineNumber(line) <=\r\n                        annotation.lineNumbers.end)) {\r\n                group.lines.push(line);\r\n                line = lines[++lineIndex];\r\n            }\r\n            groups.push(group);\r\n            annotations.shift();\r\n        }\r\n        else if (!annotation) {\r\n            // create unannotated group until the end\r\n            groups.push({ lines: lines.slice(lineIndex) });\r\n            lineIndex = lines.length;\r\n        }\r\n        else {\r\n            // create unannotated group until next annotation\r\n            const group = {\r\n                lines: [],\r\n            };\r\n            while (line &&\r\n                (!getLineNumber(line) ||\r\n                    getLineNumber(line) <\r\n                        annotation.lineNumbers.start)) {\r\n                group.lines.push(line);\r\n                line = lines[++lineIndex];\r\n            }\r\n            groups.push(group);\r\n        }\r\n    }\r\n    return groups;\r\n}\r\n// --- inline\r\nfunction annotateInline(lines, inlineAnnotations) {\r\n    return lines.map((_a) => {\r\n        var { groups } = _a, line = __rest(_a, [\"groups\"]);\r\n        const { lineNumber } = line;\r\n        const annotations = {\r\n            prev: lineNumber.prev\r\n                ? inlineAnnotations.prev[lineNumber.prev] || []\r\n                : [],\r\n            next: lineNumber.next\r\n                ? inlineAnnotations.next[lineNumber.next] || []\r\n                : [],\r\n        };\r\n        return Object.assign(Object.assign({}, line), { annotatedGroups: annotateLineTokenGroups(groups, annotations) });\r\n    });\r\n}\r\n/**\r\n * Generate a list of annotated groups tweens\r\n * each annotated group contains a list of token groups and maybe an annotation.\r\n * The two annotated groups in a tween doesn't need to have the same token groups.\r\n */\r\nfunction annotateLineTokenGroups(tokenGroups, annotations) {\r\n    let prevTokenGroups = [...tokenGroups];\r\n    let nextTokenGroups = [...tokenGroups];\r\n    const prevAnnotations = [...annotations.prev];\r\n    const nextAnnotations = [...annotations.next];\r\n    const annotatedGroups = [];\r\n    let prevColumn = 1;\r\n    let nextColumn = 1;\r\n    // iterate until we consume both lists of token groups\r\n    while (prevTokenGroups.length > 0 ||\r\n        nextTokenGroups.length > 0) {\r\n        const prevAnnotation = prevAnnotations[0];\r\n        const nextAnnotation = nextAnnotations[0];\r\n        const isPrevAnnotationStarting = prevAnnotation &&\r\n            prevAnnotation.columnNumbers.start === prevColumn;\r\n        const isNextAnnotationStarting = nextAnnotation &&\r\n            nextAnnotation.columnNumbers.start === nextColumn;\r\n        if (prevColumn < nextColumn) {\r\n            // if the prev list is behind we consume from prevTokenGroups\r\n            if (isPrevAnnotationStarting) {\r\n                // if there is an annotation starting at this point we consume until the annotation ends\r\n                const end = prevAnnotation.columnNumbers.end + 1;\r\n                annotatedGroups.push({\r\n                    prev: {\r\n                        annotation: prevAnnotation,\r\n                        groups: shiftGroups(prevTokenGroups, prevColumn, end),\r\n                    },\r\n                });\r\n                prevColumn = end;\r\n                prevAnnotations.shift();\r\n            }\r\n            else {\r\n                // if there isn't we consume until we sync with the next list or an annotation starts\r\n                const end = Math.min(nextColumn, (prevAnnotation === null || prevAnnotation === void 0 ? void 0 : prevAnnotation.columnNumbers.start) || nextColumn);\r\n                annotatedGroups.push({\r\n                    prev: {\r\n                        groups: shiftGroups(prevTokenGroups, prevColumn, end),\r\n                    },\r\n                });\r\n                prevColumn = end;\r\n            }\r\n        }\r\n        else if (prevColumn > nextColumn) {\r\n            // if the next list is behind we consume from nextTokenGroups\r\n            if (isNextAnnotationStarting) {\r\n                // if there is an annotation starting at this point we consume until the annotation ends\r\n                const end = nextAnnotation.columnNumbers.end + 1;\r\n                annotatedGroups.push({\r\n                    next: {\r\n                        annotation: nextAnnotation,\r\n                        groups: shiftGroups(nextTokenGroups, nextColumn, end),\r\n                    },\r\n                });\r\n                nextColumn = end;\r\n                nextAnnotations.shift();\r\n            }\r\n            else {\r\n                // if there isn't we consume until we sync with the prev list or an annotation starts\r\n                const end = Math.min(prevColumn, (nextAnnotation === null || nextAnnotation === void 0 ? void 0 : nextAnnotation.columnNumbers.start) || prevColumn);\r\n                annotatedGroups.push({\r\n                    next: {\r\n                        groups: shiftGroups(nextTokenGroups, nextColumn, end),\r\n                    },\r\n                });\r\n                nextColumn = end;\r\n            }\r\n        }\r\n        else if (prevColumn == nextColumn) {\r\n            // if we are at the same column in both lists we have 5 different cases\r\n            if (isPrevAnnotationStarting &&\r\n                isNextAnnotationStarting &&\r\n                prevAnnotation.columnNumbers.end ===\r\n                    nextAnnotation.columnNumbers.end) {\r\n                // both annotations starts here and end at the same place, so we puth both in one tween annotated group\r\n                const end = nextAnnotation.columnNumbers.end + 1;\r\n                annotatedGroups.push({\r\n                    prev: {\r\n                        annotation: prevAnnotation,\r\n                        groups: shiftGroups(prevTokenGroups, prevColumn, end),\r\n                    },\r\n                    next: {\r\n                        annotation: nextAnnotation,\r\n                        groups: shiftGroups(nextTokenGroups, nextColumn, end),\r\n                    },\r\n                });\r\n                prevColumn = end;\r\n                nextColumn = end;\r\n                prevAnnotations.shift();\r\n                nextAnnotations.shift();\r\n            }\r\n            else if (isPrevAnnotationStarting) {\r\n                // if only the prev annotation starting at this point we consume until the annotation ends\r\n                const end = prevAnnotation.columnNumbers.end + 1;\r\n                annotatedGroups.push({\r\n                    prev: {\r\n                        annotation: prevAnnotation,\r\n                        groups: shiftGroups(prevTokenGroups, prevColumn, end),\r\n                    },\r\n                });\r\n                prevColumn = end;\r\n                prevAnnotations.shift();\r\n            }\r\n            else if (isNextAnnotationStarting) {\r\n                // same for the next annotation\r\n                const end = nextAnnotation.columnNumbers.end + 1;\r\n                annotatedGroups.push({\r\n                    next: {\r\n                        annotation: nextAnnotation,\r\n                        groups: shiftGroups(nextTokenGroups, nextColumn, end),\r\n                    },\r\n                });\r\n                nextColumn = end;\r\n                nextAnnotations.shift();\r\n            }\r\n            else if (!prevAnnotation && !nextAnnotation) {\r\n                // if there aren't any remaining annotation we add a last group\r\n                annotatedGroups.push({\r\n                    prev: { groups: prevTokenGroups },\r\n                    next: { groups: nextTokenGroups },\r\n                });\r\n                // this is the last iteration\r\n                prevTokenGroups = [];\r\n                nextTokenGroups = [];\r\n            }\r\n            else {\r\n                // if we still have annotations left we consume until the next one\r\n                const end = Math.min((prevAnnotation === null || prevAnnotation === void 0 ? void 0 : prevAnnotation.columnNumbers.start) ||\r\n                    Number.MAX_VALUE, (nextAnnotation === null || nextAnnotation === void 0 ? void 0 : nextAnnotation.columnNumbers.start) ||\r\n                    Number.MAX_VALUE);\r\n                annotatedGroups.push({\r\n                    prev: {\r\n                        groups: shiftGroups(prevTokenGroups, prevColumn, end),\r\n                    },\r\n                    next: {\r\n                        groups: shiftGroups(nextTokenGroups, nextColumn, end),\r\n                    },\r\n                });\r\n                prevColumn = end;\r\n                nextColumn = end;\r\n            }\r\n        }\r\n    }\r\n    return annotatedGroups;\r\n}\r\n/**\r\n * Remove and return some groups from the beggining of the array\r\n * startColumn is the column at which the array is starting\r\n * (because other groups has been already removed)\r\n * newStartColumn is the first column that should stay in the array\r\n */\r\nfunction shiftGroups(tokenGroups, startColumn, newStartColumn) {\r\n    const removedGroups = [];\r\n    let currentStartColumn = startColumn;\r\n    while (currentStartColumn < newStartColumn &&\r\n        tokenGroups.length > 0) {\r\n        const currentTokenGroup = tokenGroups.shift();\r\n        removedGroups.push(currentTokenGroup);\r\n        const length = currentTokenGroup.tokens.reduce((a, t) => a + t.content.length, 0);\r\n        currentStartColumn += length;\r\n    }\r\n    return removedGroups;\r\n}\n\nfunction useStepParser(input) {\r\n    const { highlightedLines, theme, focus } = input;\r\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => parse$1(input), [\r\n        highlightedLines.prev,\r\n        highlightedLines.next,\r\n        focus.prev,\r\n        focus.next,\r\n        theme,\r\n    ]);\r\n}\r\nfunction parse$1({ theme, focus, annotations, highlightedLines, lang, }) {\r\n    const normalCode = getCode(highlightedLines);\r\n    const mergedCode = merge(normalCode, highlightedLines);\r\n    const { inlineAnnotations, multilineAnnotations } = parseAllAnnotations(annotations, theme);\r\n    const focusedCode = splitLinesByFocus(mergedCode, withDefault(focus, null), inlineAnnotations);\r\n    const annotatedCode = addAnnotations(focusedCode, inlineAnnotations, multilineAnnotations);\r\n    const codeStep = addExtraStuff(annotatedCode, normalCode, lang);\r\n    // console.log({ codeStep })\r\n    return codeStep;\r\n}\r\n// 0 - normalize\r\nfunction getCode(highlightedLines) {\r\n    return map(highlightedLines, lines => lines\r\n        .map(line => line.tokens.map(t => t.content).join(\"\"))\r\n        .join(\"\\n\")\r\n        .trimEnd()\r\n        .concat(\"\\n\"));\r\n}\r\nfunction merge(code, highlightedLines) {\r\n    return mergeLines(code, highlightedLines);\r\n}\r\nfunction parseAllAnnotations(annotations, theme) {\r\n    return parseAnnotations(annotations, theme);\r\n}\r\nfunction splitLinesByFocus(mergedCode, focus, annotations) {\r\n    return splitByFocus(mergedCode, focus, annotations);\r\n}\r\nfunction addAnnotations(_a, inlineAnnotations, annotations) {\r\n    var { lines } = _a, focusedCode = __rest(_a, [\"lines\"]);\r\n    const annotatedLines = annotateInline(lines, inlineAnnotations);\r\n    const lineGroups = annotateMultiline(annotatedLines, annotations);\r\n    return Object.assign(Object.assign({}, focusedCode), { lineGroups: lineGroups, lineCount: {\r\n            prev: lines.filter(l => l.lineNumber.prev != null)\r\n                .length,\r\n            next: lines.filter(l => l.lineNumber.next != null)\r\n                .length,\r\n        } });\r\n}\r\nfunction addExtraStuff(codeStep, code, lang) {\r\n    const vInterval = verticalInterval(codeStep.enterCount, codeStep.exitCount);\r\n    const newGroups = map(codeStep.lineGroups, groups => groups.map(group => (Object.assign(Object.assign({}, group), { lines: getLinesWithElements(group.lines, vInterval, codeStep.enterCount, codeStep.exitCount) }))));\r\n    return Object.assign(Object.assign({}, codeStep), { groups: newGroups, verticalInterval: vInterval, code,\r\n        lang });\r\n}\r\nfunction verticalInterval(enterCount, exitCount) {\r\n    if (enterCount <= 0 && exitCount <= 0)\r\n        return [0, 1];\r\n    if (enterCount <= 0 && exitCount >= 1)\r\n        return [0.33, 1];\r\n    if (enterCount >= 1 && exitCount <= 0)\r\n        return [0, 0.67];\r\n    return [0.25, 0.75];\r\n}\n\nfunction SmoothContainer({ dimensions, codeStep, children, minZoom = 0, maxZoom = 1.2, center = false, progress, }) {\r\n    const { prev, next } = getTweenContentProps({\r\n        codeStep,\r\n        dimensions,\r\n        minZoom,\r\n        maxZoom,\r\n        horizontalCenter: center,\r\n    });\r\n    // all these tweens depends on annotations now (t instead of progress)\r\n    const zoom = tweenProp(prev.zoom, next.zoom, progress);\r\n    const dx = tweenProp(prev.dx, next.dx, progress);\r\n    const dy = tweenProp(prev.dy, next.dy, progress, codeStep.verticalInterval);\r\n    const focusHeight = tweenProp(prev.focusHeight, next.focusHeight, progress);\r\n    const focusWidth = tweenProp(prev.focusWidth, next.focusWidth, progress);\r\n    const lineNumberPad = ((dimensions === null || dimensions === void 0 ? void 0 : dimensions.lineNumberWidth) || 0) * zoom;\r\n    const leftPad = lineNumberPad || 16;\r\n    const width = Math.max(focusWidth + leftPad, dimensions.contentWidth);\r\n    const startX = leftPad / zoom;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Container, { width: dimensions.containerWidth, height: dimensions.containerHeight, lang: codeStep.lang },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(Content$1, { dx: dx, dy: dy, scale: zoom, height: Math.max(focusHeight, dimensions.contentHeight), width: width }, children(focusWidth, startX))));\r\n}\r\nfunction Container({ width, height, children, lang, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"code\", { style: {\r\n            width,\r\n            height,\r\n            position: \"relative\",\r\n            overflow: \"auto\",\r\n        }, className: \"ch-code-scroll-parent\", children: children, \"data-ch-lang\": lang }));\r\n}\r\nfunction Content$1({ dx, dy, scale, height, width, children, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: {\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            transformOrigin: \"top left\",\r\n            width: width,\r\n            height: height,\r\n            overflow: \"hidden\",\r\n        }, className: \"ch-code-scroll-content\" },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: {\r\n                position: \"absolute\",\r\n                top: 0,\r\n                left: 0,\r\n                transform: `translateX(${dx}px) translateY(${dy}px) scale(${scale})`,\r\n                transformOrigin: \"left top\",\r\n                width: width / scale,\r\n                height: (height - 2 * dy) / scale,\r\n                // outline: \"1px solid yellow\",\r\n            }, children: children })));\r\n}\r\nfunction getTweenContentProps(_a) {\r\n    var { codeStep } = _a, rest = __rest(_a, [\"codeStep\"]);\r\n    const { lineHeight, lineWidth } = rest.dimensions;\r\n    const paramTween = {\r\n        prev: {\r\n            extremes: [\r\n                codeStep.firstFocusedLineNumber.prev - 1,\r\n                codeStep.lastFocusedLineNumber.prev - 1,\r\n            ],\r\n            originalContentHeight: codeStep.lineCount.prev * lineHeight,\r\n            lineWidth: lineWidth[0],\r\n        },\r\n        next: {\r\n            extremes: [\r\n                codeStep.firstFocusedLineNumber.next - 1,\r\n                codeStep.lastFocusedLineNumber.next - 1,\r\n            ],\r\n            originalContentHeight: codeStep.lineCount.next * lineHeight,\r\n            lineWidth: lineWidth[1],\r\n        },\r\n    };\r\n    return map(paramTween, ({ extremes, originalContentHeight, lineWidth }) => getContentProps(Object.assign({ extremes,\r\n        originalContentHeight,\r\n        lineWidth }, rest)));\r\n}\r\nfunction getContentProps({ dimensions, lineWidth, minZoom, maxZoom, extremes, originalContentHeight, horizontalCenter, }) {\r\n    const { lineHeight } = dimensions;\r\n    const containerHeight = dimensions === null || dimensions === void 0 ? void 0 : dimensions.contentHeight;\r\n    const containerWidth = dimensions === null || dimensions === void 0 ? void 0 : dimensions.contentWidth;\r\n    const originalFocusHeight = (extremes[1] - extremes[0] + 3) * lineHeight;\r\n    const leftPadding = (dimensions === null || dimensions === void 0 ? void 0 : dimensions.lineNumberWidth) || 16;\r\n    const rightPadding = 16;\r\n    const zoom = Math.max(Math.min((containerWidth - leftPadding - rightPadding) /\r\n        lineWidth, containerHeight / originalFocusHeight, maxZoom), minZoom);\r\n    const contentHeight = originalContentHeight * zoom;\r\n    const focusStart = (extremes[0] - 1) * lineHeight * zoom;\r\n    const focusEnd = (extremes[1] + 2) * lineHeight * zoom;\r\n    const focusCenter = (focusEnd + focusStart) / 2;\r\n    const focusHeight = focusEnd - focusStart;\r\n    const dy = containerHeight > contentHeight\r\n        ? (containerHeight - contentHeight) / 2\r\n        : clamp$1(containerHeight / 2 - focusCenter, Math.max(containerHeight - contentHeight, -focusStart // to ensure first focus line is shown when focus is bigger than container\r\n        ), 0);\r\n    const dx = horizontalCenter\r\n        ? Math.max(containerWidth / 2 - (lineWidth * zoom) / 2, 0)\r\n        : 0;\r\n    return {\r\n        zoom,\r\n        dx,\r\n        dy,\r\n        focusHeight: focusHeight,\r\n        focusWidth: lineWidth * zoom,\r\n    };\r\n}\r\nfunction clamp$1(num, min, max) {\r\n    return num <= min ? min : num >= max ? max : num;\r\n}\r\nfunction tweenProp(start, end, progress, interval = [0, 1]) {\r\n    return tween$1({\r\n        fixed: false,\r\n        interval,\r\n        extremes: [start, end],\r\n        ease: easing.easeInOutCubic,\r\n    }, progress);\r\n}\n\nfunction SmoothLines(props) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(SmoothContainer, Object.assign({}, props), (focusWidth, startX) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Lines, { codeStep: props.codeStep, focusWidth: focusWidth, lineHeight: props.dimensions.lineHeight, progress: props.progress, theme: props.theme, startX: startX, lineNumberWidth: props.dimensions.lineNumberWidth }))));\r\n}\r\nfunction Lines({ codeStep, progress, focusWidth, lineHeight, startX, theme, lineNumberWidth, }) {\r\n    const groups = progress < 0.5\r\n        ? codeStep.groups.prev\r\n        : codeStep.groups.next;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, groups.map((group, i) => {\r\n        if (!group.annotation) {\r\n            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(LineGroup, { lines: group.lines, t: progress, focusWidth: focusWidth, lineHeight: lineHeight, startX: startX, key: i, theme: theme, lineNumberWidth: lineNumberWidth }));\r\n        }\r\n        const startY = tween$1(group.lines[0].tweenY, progress);\r\n        const lineCount = group.annotation.lineNumbers.end -\r\n            group.annotation.lineNumbers.start +\r\n            1;\r\n        const Component = group.annotation.Component;\r\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, { style: {\r\n                position: \"absolute\",\r\n                height: lineCount * lineHeight,\r\n                width: \"100%\",\r\n                transform: `translateY(${startY * lineHeight}px)`,\r\n            }, key: i, data: group.annotation.data, theme: group.annotation.theme, isInline: false },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(LineGroup, { lines: group.lines, t: progress, focusWidth: focusWidth, lineHeight: lineHeight, startY: startY, startX: startX, theme: theme, lineNumberWidth: lineNumberWidth })));\r\n    })));\r\n}\r\nfunction LineGroup({ lines, focusWidth, lineHeight, t, startX, startY = 0, theme, lineNumberWidth, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, lines.map((line, key) => {\r\n        const { tweenX, tweenY, focused } = line;\r\n        const dx = tween$1(tweenX, t);\r\n        const dy = tween$1(tweenY, t);\r\n        const opacity = getOpacity(focused, t, dx);\r\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: key },\r\n            lineNumberWidth ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"ch-code-line-number\", style: {\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    transform: `translate(${dx * focusWidth}px, ${(dy - startY) * lineHeight}px)`,\r\n                    width: lineNumberWidth,\r\n                    opacity,\r\n                    color: getColor(theme, ColorName.LineNumberForeground),\r\n                } }, t < 0.5\r\n                ? line.lineNumber.prev\r\n                : line.lineNumber.next)) : undefined,\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(LineContainer, { dx: startX + dx * focusWidth, dy: (dy - startY) * lineHeight, width: focusWidth, opacity: opacity },\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(LineContent, { line: line, progress: t, dx: dx }))));\r\n    })));\r\n}\r\nfunction LineContent({ line, progress, dx, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: {\r\n            display: \"inline-block\",\r\n            width: \"100%\",\r\n        } },\r\n        line.annotatedGroups.map((annotatedGroup, i) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(AnnotatedTokens, { annotatedGroup: annotatedGroup, progress: progress, dx: dx, key: i }))),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", null)));\r\n}\r\nfunction AnnotatedTokens({ annotatedGroup, progress, dx, }) {\r\n    var _a, _b, _c;\r\n    const annotated = progress < 0.5\r\n        ? annotatedGroup.prev\r\n        : annotatedGroup.next;\r\n    const tokenGroups = (annotated === null || annotated === void 0 ? void 0 : annotated.groups) || [];\r\n    const Component = (_a = annotated === null || annotated === void 0 ? void 0 : annotated.annotation) === null || _a === void 0 ? void 0 : _a.Component;\r\n    const children = tokenGroups.map((group, i) => {\r\n        const opacity = getOpacity(group.focused, progress, dx);\r\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { style: { opacity }, key: i + 1 }, group.element));\r\n    });\r\n    return Component ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, { children: children, data: (_b = annotated === null || annotated === void 0 ? void 0 : annotated.annotation) === null || _b === void 0 ? void 0 : _b.data, theme: (_c = annotated === null || annotated === void 0 ? void 0 : annotated.annotation) === null || _c === void 0 ? void 0 : _c.theme, isInline: true })) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children));\r\n}\r\nfunction LineContainer({ children, dx, dy, opacity, width, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: {\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            transform: `translate(${dx}px, ${dy}px)`,\r\n            width,\r\n            display: opacity <= 0 ? \"none\" : undefined,\r\n        } }, children));\r\n}\r\nconst OFF_OPACITY = 0.33;\r\nfunction getOpacity(focused, progress, dx) {\r\n    return (tween$1({\r\n        fixed: false,\r\n        extremes: [\r\n            focused.prev ? 0.99 : OFF_OPACITY,\r\n            focused.next ? 0.99 : OFF_OPACITY,\r\n        ],\r\n        interval: [0, 1],\r\n    }, progress) -\r\n        Math.abs(dx) * 1);\r\n}\n\nfunction CopyButton({ content, style, className, }) {\r\n    const [copied, setCopied] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { style: style, onClick: () => {\r\n            copyToClipboard(content);\r\n            setCopied(true);\r\n            setTimeout(() => {\r\n                setCopied(false);\r\n            }, 1200);\r\n        }, fill: \"none\", stroke: \"currentColor\", viewBox: \"0 0 24 24\", xmlns: \"http://www.w3.org/2000/svg\", className: className },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"title\", null, \"Copy\"),\r\n        copied ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 2, d: \"M5 13l4 4L19 7\" })) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: \"1.6px\", d: \"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" }))));\r\n}\r\nfunction copyToClipboard(text) {\r\n    if (!navigator.clipboard) {\r\n        fallbackCopyTextToClipboard(text);\r\n        return;\r\n    }\r\n    navigator.clipboard.writeText(text);\r\n}\r\nfunction fallbackCopyTextToClipboard(text) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n    // Avoid scrolling to bottom\r\n    textArea.style.top = \"0\";\r\n    textArea.style.left = \"0\";\r\n    textArea.style.position = \"fixed\";\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n    try {\r\n        var successful = document.execCommand(\"copy\");\r\n        // var msg = successful ? \"successful\" : \"unsuccessful\"\r\n        // console.log(\"Fallback: Copying text command was \" + msg)\r\n    }\r\n    catch (err) {\r\n        // console.error(\"Fallback: Oops, unable to copy\", err)\r\n    }\r\n    document.body.removeChild(textArea);\r\n}\n\nfunction useCodeShift({ tween, theme, }) {\r\n    return useStepParser({\r\n        highlightedLines: map(tween, tween => tween.code.lines),\r\n        theme,\r\n        focus: map(tween, tween => tween.focus),\r\n        annotations: map(tween, tween => tween.annotations),\r\n        lang: anyValue(tween, tween => { var _a; return (_a = tween === null || tween === void 0 ? void 0 : tween.code) === null || _a === void 0 ? void 0 : _a.lang; }),\r\n    });\r\n}\r\nconst DEFAULT_MIN_COLUMNS = 10;\r\nfunction CodeTween(_a) {\r\n    var { tween, progress, config } = _a, preProps = __rest(_a, [\"tween\", \"progress\", \"config\"]);\r\n    const stepInfo = useCodeShift({\r\n        tween,\r\n        theme: config.theme,\r\n    });\r\n    const { element, dimensions } = useDimensions(stepInfo.code, map(tween, tween => tween.focus), config.minColumns || DEFAULT_MIN_COLUMNS, config.lineNumbers || false, config.rows, [config.parentHeight]);\r\n    return !dimensions || config.debug ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(BeforeDimensions, { element: element, htmlProps: preProps, debug: config.debug })) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(AfterDimensions, { dimensions: dimensions, stepInfo: stepInfo, config: config, progress: progress, htmlProps: preProps }));\r\n}\r\nfunction BeforeDimensions({ element, htmlProps, debug, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, { htmlProps: htmlProps, style: { opacity: debug ? 0.9 : 0, overflow: \"auto\" } }, element));\r\n}\r\nfunction AfterDimensions({ config: { minZoom = 1, maxZoom = 1, horizontalCenter = false, theme, }, dimensions, stepInfo, progress, htmlProps, config, }) {\r\n    var _a;\r\n    const { bg, fg } = getCodeColors(theme);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper, { htmlProps: htmlProps, style: {\r\n            opacity: 1,\r\n            backgroundColor: bg,\r\n            color: fg,\r\n            [\"colorScheme\"]: getColorScheme(theme),\r\n            [\"--ch-selection-background\"]: getColor(theme, ColorName.SelectionBackground),\r\n        } },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(SmoothLines, { codeStep: stepInfo, progress: progress, dimensions: dimensions, \r\n            // TODO move to dimensions?\r\n            minZoom: minZoom, maxZoom: maxZoom, center: horizontalCenter, theme: theme }),\r\n        config.showCopyButton ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CopyButton, { className: \"ch-code-button\", content: (_a = stepInfo === null || stepInfo === void 0 ? void 0 : stepInfo.code) === null || _a === void 0 ? void 0 : _a.prev })) : undefined));\r\n}\r\nfunction Wrapper({ htmlProps, style, children, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", Object.assign({ className: \"ch-code-wrapper\" }, htmlProps, { style: Object.assign(Object.assign({ margin: 0, padding: 0, position: \"relative\", \r\n            // using this instead of <pre> because https://github.com/code-hike/codehike/issues/120\r\n            whiteSpace: \"pre\", \r\n            // to avoid resets using \"border-box\" that break the scrollbar https://github.com/code-hike/codehike/issues/240\r\n            boxSizing: \"content-box\" }, style), htmlProps === null || htmlProps === void 0 ? void 0 : htmlProps.style), children: children })));\r\n}\n\nfunction currentTime() {\n  if (typeof window !== \"undefined\") {\n    return performance.now();\n  } else {\n    return 0;\n  }\n}\n\nfunction useSpringInstance(target, config) {\n  var ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n\n  if (ref.current == null) {\n    ref.current = {\n      config: getConfigWithDefaults(target, config),\n      state: getInitialState(target, config)\n    };\n  }\n\n  return ref.current;\n}\nfunction getConfigWithDefaults(target, _ref) {\n  var stiffness = _ref.stiffness,\n      damping = _ref.damping,\n      mass = _ref.mass,\n      decimals = _ref.decimals,\n      teleport = _ref.teleport;\n  return {\n    X: target,\n    k: stiffness !== null && stiffness !== void 0 ? stiffness : 170,\n    c: damping !== null && damping !== void 0 ? damping : 26,\n    m: mass !== null && mass !== void 0 ? mass : 1,\n    teleport: teleport !== null && teleport !== void 0 ? teleport : false,\n    decimals: decimals !== null && decimals !== void 0 ? decimals : 2\n  };\n}\n\nfunction getInitialState(target, _ref2) {\n  var from = _ref2.from,\n      initialSpeed = _ref2.initialSpeed;\n  return {\n    x0: from !== null && from !== void 0 ? from : target,\n    v0: initialSpeed !== null && initialSpeed !== void 0 ? initialSpeed : 0,\n    t0: currentTime(),\n    raf: null\n  };\n}\n\nvar sqrt = Math.sqrt,\n    exp = Math.exp,\n    sin = Math.sin,\n    cos = Math.cos;\nfunction spring(_ref) {\n  var x0 = _ref.x0,\n      v0 = _ref.v0,\n      t0 = _ref.t0,\n      t = _ref.t,\n      k = _ref.k,\n      c = _ref.c,\n      m = _ref.m,\n      X = _ref.X;\n  var dx = x0 - X;\n  var dt = (t - t0) / 1000;\n  var radicand = c * c - 4 * k * m;\n\n  if (radicand > 0) {\n    var rp = (-c + sqrt(radicand)) / (2 * m);\n    var rn = (-c - sqrt(radicand)) / (2 * m);\n    var a = (dx * rp - v0) / (rp - rn);\n    var b = (v0 - dx * rn) / (rp - rn);\n    return {\n      x: X + a * exp(rn * dt) + b * exp(rp * dt),\n      v: a * rn * exp(rn * dt) + b * rp * exp(rp * dt)\n    };\n  } else if (radicand < 0) {\n    var r = -c / (2 * m);\n    var s = sqrt(-radicand) / (2 * m);\n    var _a = dx;\n\n    var _b = (v0 - r * dx) / s;\n\n    return {\n      x: X + exp(r * dt) * (_a * cos(s * dt) + _b * sin(s * dt)),\n      v: exp(r * dt) * ((_b * s + _a * r) * cos(s * dt) - (_a * s - _b * r) * sin(s * dt))\n    };\n  } else {\n    var _r = -c / (2 * m);\n\n    var _a2 = dx;\n\n    var _b2 = v0 - _r * dx;\n\n    return {\n      x: X + (_a2 + _b2 * dt) * exp(_r * dt),\n      v: (_b2 + _a2 * _r + _b2 * _r * dt) * exp(_r * dt)\n    };\n  }\n}\n\nvar nextFrameQueue = [];\nvar nextFrameId = null;\nfunction queueAnimationFrame(fn) {\n  var length = nextFrameQueue.push(fn);\n\n  if (length === 1) {\n    nextFrameId = requestAnimationFrame(runQueue);\n  }\n\n  return [nextFrameId, length - 1];\n}\nfunction unqueueAnimationFrame(_ref) {\n  var frameId = _ref[0],\n      index = _ref[1];\n\n  if (frameId === nextFrameId) {\n    delete nextFrameQueue[index];\n  }\n}\n\nfunction runQueue() {\n  var now = currentTime();\n  var queue = nextFrameQueue;\n  nextFrameQueue = [];\n  (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.unstable_batchedUpdates)(function () {\n    return queue.forEach(function (task) {\n      return task && task(now);\n    });\n  });\n}\n\nvar useLayoutEffect$3 = typeof window !== \"undefined\" ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction useSpring(target, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(),\n      forceUpdate = _React$useState[1];\n\n  var newConfig = getConfigWithDefaults(target, config);\n\n  var _useSpringInstance = useSpringInstance(target, config),\n      state = _useSpringInstance.state,\n      oldConfig = _useSpringInstance.config; // TODO all springs should use the same t in the same frame\n\n\n  var t = currentTime();\n  var x0 = state.x0,\n      v0 = state.v0,\n      t0 = state.t0;\n  var k = oldConfig.k,\n      c = oldConfig.c,\n      m = oldConfig.m,\n      X = oldConfig.X;\n\n  var _ref = newConfig.teleport ? {\n    x: X,\n    v: 0\n  } : spring({\n    x0: x0,\n    v0: v0,\n    t0: t0,\n    t: t,\n    k: k,\n    c: c,\n    m: m,\n    X: X\n  }),\n      x = _ref.x,\n      v = _ref.v;\n\n  var moving = isMoving(x, v, t, newConfig);\n  useLayoutEffect$3(function () {\n    Object.assign(oldConfig, newConfig);\n  }, [newConfig.X, newConfig.k, newConfig.c, newConfig.m, newConfig.teleport]);\n  useLayoutEffect$3(function () {\n    state.x0 = x;\n    state.v0 = v;\n    state.t0 = t;\n  }, [x, v, t]);\n  useLayoutEffect$3(function () {\n    var loop = function loop(now) {\n      var x0 = state.x0,\n          v0 = state.v0,\n          t0 = state.t0;\n      var k = oldConfig.k,\n          c = oldConfig.c,\n          m = oldConfig.m,\n          X = oldConfig.X,\n          decimals = oldConfig.decimals;\n\n      var _spring = spring({\n        x0: x0,\n        v0: v0,\n        t0: t0,\n        t: now,\n        k: k,\n        c: c,\n        m: m,\n        X: X\n      }),\n          nextX = _spring.x;\n\n      if (roundTo(nextX, decimals) !== roundTo(x0, decimals)) {\n        state.raf = null;\n        forceUpdate(now);\n      } else {\n        state.raf = queueAnimationFrame(loop);\n      }\n    };\n\n    if (moving && state.raf == null) {\n      state.raf = queueAnimationFrame(loop);\n    } else if (!moving && state.raf != null) {\n      unqueueAnimationFrame(state.raf);\n      state.raf = null;\n    }\n  });\n  useLayoutEffect$3(function () {\n    return function () {\n      if (state.raf != null) {\n        unqueueAnimationFrame(state.raf);\n      }\n    };\n  }, []);\n  return [roundTo(x, newConfig.decimals), moving];\n}\n\nfunction isMoving(x, v, t, _ref2) {\n  var decimals = _ref2.decimals,\n      X = _ref2.X,\n      k = _ref2.k,\n      c = _ref2.c,\n      m = _ref2.m;\n\n  if (roundTo(x, decimals) !== roundTo(X, decimals)) {\n    return true;\n  }\n\n  var nextT = t + 0.016;\n\n  var _spring2 = spring({\n    x0: x,\n    v0: v,\n    t0: t,\n    t: nextT,\n    k: k,\n    c: c,\n    m: m,\n    X: X\n  }),\n      nextX = _spring2.x;\n\n  return roundTo(nextX, decimals) !== roundTo(X, decimals);\n}\n\nfunction roundTo(x, decimals) {\n  var p = Math.pow(10, decimals);\n  return Math.round(x * p) / p;\n}\n\nconst defaultSpring$1 = {\r\n    stiffness: 120,\r\n    damping: 24,\r\n    mass: 0.2,\r\n    decimals: 3,\r\n};\r\nfunction CodeSpring(_a) {\r\n    var { step, config } = _a, htmlProps = __rest(_a, [\"step\", \"config\"]);\r\n    const { tween, t } = useStepSpring$1(step, config.spring);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeTween, Object.assign({ tween: tween, progress: t, config: config }, htmlProps)));\r\n}\r\nfunction useStepSpring$1(step, springConfig = defaultSpring$1) {\r\n    const [{ target, steps, index }, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\r\n        target: 2,\r\n        steps: [step, step, step],\r\n        index: 0,\r\n    });\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        const lastStep = steps[steps.length - 1];\r\n        if (lastStep != step) {\r\n            setState(s => updateStepSpring$1(s, step, progress));\r\n        }\r\n    }, [step]);\r\n    const [progress] = useSpring(target, springConfig);\r\n    const trioProgress = progress - index;\r\n    const result = trioProgress <= 1\r\n        ? {\r\n            tween: { prev: steps[0], next: steps[1] },\r\n            t: trioProgress,\r\n        }\r\n        : {\r\n            tween: { prev: steps[1], next: steps[2] },\r\n            t: trioProgress - 1,\r\n        };\r\n    return result;\r\n}\r\nfunction updateStepSpring$1(state, newStep, progress) {\r\n    const { steps, target, index } = state;\r\n    const stepsClone = steps.slice();\r\n    const trioProgress = progress - index;\r\n    if (trioProgress < 1) {\r\n        stepsClone[2] = newStep;\r\n        return Object.assign(Object.assign({}, state), { steps: stepsClone });\r\n    }\r\n    else {\r\n        stepsClone[0] = steps[1];\r\n        stepsClone[1] = steps[2];\r\n        stepsClone[2] = newStep;\r\n        return Object.assign(Object.assign({}, state), { steps: stepsClone, target: target + 1, index: index + 1 });\r\n    }\r\n}\n\nconst ClasserContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});\r\nfunction ClasserProvider({ classes, children, }) {\r\n    const outer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ClasserContext);\r\n    const mixed = useMerge(outer, classes);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ClasserContext.Provider, { value: mixed, children: children }));\r\n}\r\nfunction useClasser(libClassPrefix, innerClasses) {\r\n    const outerClasses = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ClasserContext);\r\n    const classes = useMerge(outerClasses, innerClasses);\r\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(getClasser(libClassPrefix, classes), [\r\n        libClassPrefix,\r\n        classes,\r\n    ]);\r\n}\r\nfunction getClasser(libClassPrefix, classes) {\r\n    return function classer(...libClassSuffixList) {\r\n        const libClassList = libClassSuffixList.map(libClassSuffix => libClassPrefix +\r\n            (libClassPrefix && libClassSuffix ? \"-\" : \"\") +\r\n            libClassSuffix);\r\n        const outputList = libClassList.slice();\r\n        libClassList.forEach(libClass => {\r\n            if (libClass in classes) {\r\n                outputList.push(classes[libClass]);\r\n            }\r\n        });\r\n        return outputList.join(\" \");\r\n    };\r\n}\r\nfunction useMerge(outer, inner) {\r\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (Object.assign(Object.assign({}, outer), inner)), [outer, inner]);\r\n}\n\nconst MiniFrame = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (_a, ref) {\r\n    var { title, children, titleBar, classes, theme, zoom = 1, overflow } = _a, props = __rest(_a, [\"title\", \"children\", \"titleBar\", \"classes\", \"theme\", \"zoom\", \"overflow\"]);\r\n    const c = useClasser(\"ch-frame\", classes);\r\n    const bar = titleBar || react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultTitleBar, { title: title });\r\n    const zoomStyle = {\r\n        \"--ch-frame-zoom\": zoom,\r\n        overflow,\r\n    };\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ClasserProvider, { classes: classes },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", Object.assign({}, props, { ref: ref }),\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"\") },\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"title-bar\"), style: {\r\n                        background: getColor(theme, ColorName.EditorGroupHeaderBackground),\r\n                    } }, bar),\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"content\") },\r\n                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"zoom\"), style: zoomStyle }, children))))));\r\n});\r\nreact__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (_a, ref) {\r\n    var { title, children, titleBar, classes, overflow } = _a, props = __rest(_a, [\"title\", \"children\", \"titleBar\", \"classes\", \"overflow\"]);\r\n    const c = useClasser(\"ch\", classes);\r\n    const bar = titleBar || react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultTitleBar, { title: title });\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ClasserProvider, { classes: classes },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", Object.assign({}, props, { ref: ref }),\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"simple-frame\") },\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"frame-title-bar\") }, bar),\r\n                children))));\r\n});\r\nfunction DefaultTitleBar({ title }) {\r\n    const c = useClasser(\"ch-frame\");\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"left-bar\") },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(FrameButtons, null)),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"middle-bar\") }, title),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"right-bar\") })));\r\n}\r\nfunction FrameButtons() {\r\n    const c = useClasser(\"ch-frame\");\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"buttons\") },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"button\", \"button-left\") }),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"button-space\") }),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"button\", \"button-middle\") }),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"button-space\") }),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: c(\"button\", \"button-right\") })));\r\n}\n\nconst EditorFrame = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function InnerEditorFrame(_a, ref) {\r\n    var _b;\r\n    var { northPanel, southPanel, terminalPanel, style, height, northButton, southButton, theme, className, onTabClick } = _a, rest = __rest(_a, [\"northPanel\", \"southPanel\", \"terminalPanel\", \"style\", \"height\", \"northButton\", \"southButton\", \"theme\", \"className\", \"onTabClick\"]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", Object.assign({ ref: ref }, rest, { className: \"ch-editor-frame\", style: Object.assign({ background: getColor(theme, ColorName.EditorBackground) }, style) }),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-frame-title-bar\", style: {\r\n                color: getColor(theme, ColorName.IconForeground),\r\n                background: getColor(theme, ColorName.EditorGroupHeaderBackground),\r\n            } },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(TabsContainer, { tabs: northPanel.tabs, showFrameButtons: true, button: northButton, panel: \"north\", theme: theme, onTabClick: onTabClick })),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { \"data-ch-panel\": \"north\", style: northPanel.style, children: northPanel.children }),\r\n        southPanel && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-frame-title-bar\", style: {\r\n                    transform: (_b = southPanel.style) === null || _b === void 0 ? void 0 : _b.transform,\r\n                    color: getColor(theme, ColorName.IconForeground),\r\n                    background: getColor(theme, ColorName.EditorGroupHeaderBackground),\r\n                } },\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(TabsContainer, { tabs: southPanel.tabs, showFrameButtons: false, button: southButton, topBorder: true, panel: \"south\", theme: theme, onTabClick: onTabClick })),\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { \"data-ch-panel\": \"south\", children: southPanel.children, style: southPanel.style })))));\r\n});\r\nfunction TabsContainer({ tabs, button, showFrameButtons, topBorder, panel, theme, onTabClick, }) {\r\n    const c = useClasser(\"ch-editor-tab\");\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n        topBorder && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: {\r\n                position: \"absolute\",\r\n                height: \"1px\",\r\n                background: getColor(theme, ColorName.EditorGroupBorder),\r\n                width: \"100%\",\r\n                top: 0,\r\n                zIndex: 1,\r\n            } })),\r\n        showFrameButtons ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(FrameButtons, null) : react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null),\r\n        tabs.map(({ title, active, style }) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { key: title, title: title, \"data-ch-tab\": panel, className: c(\"\", active ? \"active\" : \"inactive\"), style: Object.assign(Object.assign({}, style), { background: getColor(theme, active\r\n                    ? ColorName.ActiveTabBackground\r\n                    : ColorName.InactiveTabBackground), color: getColor(theme, active\r\n                    ? ColorName.ActiveTabForeground\r\n                    : ColorName.InactiveTabForeground), borderRightColor: getColor(theme, ColorName.TabBorder), borderBottomColor: getColor(theme, active\r\n                    ? ColorName.ActiveTabBottomBorder\r\n                    : ColorName.InactiveTabBackground) }), onClick: onTabClick && (() => onTabClick(title)) },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(TabTitle, { title: title })))),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { flex: 1, minWidth: \"0.8em\" } }),\r\n        button));\r\n}\r\nfunction TabTitle({ title }) {\r\n    if (!title) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null);\r\n    }\r\n    const separatorIndex = title.lastIndexOf(\"/\") + 1;\r\n    const filename = title.substring(separatorIndex);\r\n    const folder = title.substring(0, separatorIndex);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null,\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { style: { opacity: 0.5 } }, folder),\r\n        filename));\r\n}\n\nfunction getCommands(text) {\r\n    const [, ...lines] = text.split(/^\\$\\s*/gm);\r\n    const commands = lines.map((c) => {\r\n        const [run, ...outputLines] = c.split(/\\r?\\n/);\r\n        return {\r\n            run,\r\n            output: outputLines.length > 0 ? outputLines.join(\"\\n\") : null,\r\n        };\r\n    });\r\n    const lastCommand = commands[commands.length - 1];\r\n    const isRunning = commands.length > 0 && lastCommand.output != null;\r\n    const title = isRunning ? lastCommand.run.split(/(\\s+)/)[0] : \"bash\";\r\n    return {\r\n        title,\r\n        isRunning,\r\n        commands,\r\n    };\r\n}\n\nconst prompt = react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"ch-terminal-prompt\" }, \"$\");\r\nfunction TerminalContent({ text, progress = 1, style, }) {\r\n    const commands = parse(text, progress);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"pre\", { style: style, className: \"ch-terminal-content\" }, commands.map(({ run, output }, i) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: i },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null,\r\n            prompt,\r\n            \" \",\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, run)),\r\n        output && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-terminal-output\" }, output)))))));\r\n}\r\nfunction parse(text, progress) {\r\n    if (!text)\r\n        return [];\r\n    const chars = Math.round(text.length * progress);\r\n    const { commands } = getCommands(text.slice(0, chars));\r\n    return commands;\r\n}\n\nfunction InnerTerminalTransition({ prev = \"\", prevKey, next = \"\", nextKey, progress, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-terminal\" },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: {\r\n                position: \"relative\",\r\n                transform: `translateY(-${progress * 100}%)`,\r\n            } },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(TerminalContent, { text: prev, progress: 1, key: prevKey }),\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(TerminalContent, { style: { position: \"absolute\" }, text: next, progress: progress, key: nextKey }))));\r\n}\n\nfunction InnerTerminalTransitions({ steps, progress, }) {\r\n    const textSteps = steps.map((s) => s.text);\r\n    const stepProgress = progress % 1;\r\n    const prevIndex = clamp(Math.floor(progress), 0, steps.length - 1);\r\n    const nextIndex = prevIndex + 1;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerTerminalTransition, { prev: textSteps[prevIndex], prevKey: prevIndex, next: textSteps[nextIndex] || \"\", nextKey: nextIndex, progress: stepProgress }));\r\n}\r\nfunction clamp(x, min, max) {\r\n    return Math.min(Math.max(x, min), max);\r\n}\n\nfunction TerminalPanel({ prev, next, t, backward, }) {\r\n    const height = getHeight({ prev, next, t, backward });\r\n    return !height ? null : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-editor-terminal\", style: { height } },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-editor-terminal-tab\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, \"Terminal\")),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-editor-terminal-content\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerTerminalTransitions, { steps: [\r\n                    { text: prev || \"\" },\r\n                    { text: next || \"\" },\r\n                ], progress: t }),\r\n            \")\")));\r\n}\r\nfunction getHeight({ prev, next, t, backward, }) {\r\n    if (!prev && !next)\r\n        return 0;\r\n    if (!prev && next)\r\n        return MAX_HEIGHT * Math.min(t * 4, 1);\r\n    if (prev && !next)\r\n        return MAX_HEIGHT * Math.max(1 - t * 4, 0);\r\n    return MAX_HEIGHT;\r\n}\r\nconst MAX_HEIGHT = 150;\n\nfunction northConfig(codeConfig) {\r\n    if (Array.isArray(codeConfig.rows)) {\r\n        return Object.assign(Object.assign({}, codeConfig), { rows: codeConfig.rows[0] });\r\n    }\r\n    return codeConfig;\r\n}\r\nfunction southConfig(codeConfig) {\r\n    if (Array.isArray(codeConfig.rows)) {\r\n        return Object.assign(Object.assign({}, codeConfig), { rows: codeConfig.rows[1] });\r\n    }\r\n    return codeConfig;\r\n}\r\nfunction useTransition(ref, prev, next, t, backward, codeConfig) {\r\n    // prevSnapshot has the dimensions of the editor for t=0\r\n    // nextSnapshot has the dimensions of the editor for t=1\r\n    const { prevSnapshot, nextSnapshot } = useSnapshots(ref, prev, next);\r\n    // we return the default styles for t=0 until we measure the dimensions\r\n    if (!prevSnapshot) {\r\n        return startingPosition(prev, next, codeConfig);\r\n    }\r\n    // and the same for t=1\r\n    if (!nextSnapshot) {\r\n        return endingPosition(prev, next, codeConfig);\r\n    }\r\n    // TODO this should be commented\r\n    // if (t === 0) {\r\n    //   return startingPosition(prev, next, codeConfig)\r\n    // }\r\n    if (t === 1) {\r\n        return endingPosition(prev, next, codeConfig);\r\n    }\r\n    const inputSouthPanel = prev.southPanel || next.southPanel;\r\n    const { prevNorthFile, prevSouthFile, nextNorthFile, nextSouthFile, } = getStepFiles(prev, next, t == 0 || backward);\r\n    const { northStyle, southStyle } = getPanelStyles(prevSnapshot, nextSnapshot, t);\r\n    const { northTabs, southTabs } = getTabs(prevSnapshot, nextSnapshot, prevNorthFile.name, prevSouthFile === null || prevSouthFile === void 0 ? void 0 : prevSouthFile.name, t);\r\n    return {\r\n        northContent: getContentFromFile(nextNorthFile),\r\n        northPanel: {\r\n            tabs: northTabs,\r\n            style: northStyle,\r\n            children: (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeTransition, { codeConfig: northConfig(codeConfig), prevFile: prevNorthFile, nextFile: nextNorthFile, t: t, parentHeight: (northStyle.height ||\r\n                    northStyle.minHeight) })),\r\n        },\r\n        southContent: getContentFromFile(nextSouthFile),\r\n        southPanel: inputSouthPanel && {\r\n            tabs: southTabs,\r\n            style: southStyle,\r\n            children: (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeTransition, { codeConfig: southConfig(codeConfig), prevFile: prevSouthFile, nextFile: nextSouthFile, t: t, parentHeight: ((southStyle === null || southStyle === void 0 ? void 0 : southStyle.height) ||\r\n                    (southStyle === null || southStyle === void 0 ? void 0 : southStyle.minHeight)) })),\r\n        },\r\n    };\r\n}\r\n// Returns the t=0 state of the transition\r\nfunction startingPosition(prev, next, codeConfig) {\r\n    const inputNorthPanel = prev.northPanel;\r\n    const inputSouthPanel = prev.southPanel;\r\n    const { prevNorthFile, prevSouthFile, nextNorthFile, nextSouthFile, } = getStepFiles(prev, next, true);\r\n    return {\r\n        northContent: getContentFromFile(prevNorthFile),\r\n        northPanel: {\r\n            tabs: inputNorthPanel.tabs.map(title => ({\r\n                title,\r\n                active: title === inputNorthPanel.active,\r\n                style: {},\r\n            })),\r\n            style: {\r\n                flexGrow: 1,\r\n                overflow: \"hidden\",\r\n            },\r\n            children: (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeTransition, { codeConfig: northConfig(codeConfig), prevFile: prevNorthFile, nextFile: prevNorthFile, t: 0, parentHeight: \"0\" })),\r\n        },\r\n        southContent: getContentFromFile(prevSouthFile),\r\n        southPanel: inputSouthPanel && {\r\n            tabs: inputSouthPanel.tabs.map(title => ({\r\n                title,\r\n                active: title === inputSouthPanel.active,\r\n                style: {},\r\n            })),\r\n            style: {\r\n                flexGrow: 1,\r\n                overflow: \"hidden\",\r\n            },\r\n            children: (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeTransition, { codeConfig: southConfig(codeConfig), prevFile: prevSouthFile, nextFile: prevSouthFile, t: 0, parentHeight: \"0\" })),\r\n        },\r\n    };\r\n}\r\n// Returns the t=1 state of the transition\r\nfunction endingPosition(prev, next, codeConfig) {\r\n    var _a;\r\n    const inputNorthPanel = next.northPanel;\r\n    const inputSouthPanel = next.southPanel;\r\n    let { prevNorthFile, prevSouthFile, nextNorthFile, nextSouthFile, } = getStepFiles(prev, next, false);\r\n    // getStepFiles return the intermediate files, we need to patch the ending state (2to1south)\r\n    const isTwoToOneSouth = !inputSouthPanel &&\r\n        inputNorthPanel.active === ((_a = prev === null || prev === void 0 ? void 0 : prev.southPanel) === null || _a === void 0 ? void 0 : _a.active);\r\n    if (isTwoToOneSouth) {\r\n        nextNorthFile = nextSouthFile;\r\n    }\r\n    return {\r\n        northContent: getContentFromFile(nextNorthFile),\r\n        northPanel: {\r\n            tabs: inputNorthPanel.tabs.map(title => ({\r\n                title,\r\n                active: title === inputNorthPanel.active,\r\n                style: {},\r\n            })),\r\n            style: {\r\n                flexGrow: 1,\r\n                overflow: \"hidden\",\r\n            },\r\n            children: (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeTransition, { codeConfig: northConfig(codeConfig), prevFile: nextNorthFile, nextFile: nextNorthFile, t: 1, parentHeight: \"1\" })),\r\n        },\r\n        southContent: getContentFromFile(nextSouthFile),\r\n        southPanel: inputSouthPanel && {\r\n            tabs: inputSouthPanel.tabs.map(title => ({\r\n                title,\r\n                active: title === inputSouthPanel.active,\r\n                style: {},\r\n            })),\r\n            style: {\r\n                flexGrow: 1,\r\n                overflow: \"hidden\",\r\n            },\r\n            children: (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeTransition, { codeConfig: southConfig(codeConfig), prevFile: nextSouthFile, nextFile: nextSouthFile, t: 1, parentHeight: \"1\" })),\r\n        },\r\n    };\r\n}\r\nfunction CodeTransition({ prevFile, nextFile, t, codeConfig, parentHeight, }) {\r\n    var _a;\r\n    const htmlProps = Object.assign(Object.assign({}, codeConfig === null || codeConfig === void 0 ? void 0 : codeConfig.htmlProps), { style: Object.assign({ height: \"100%\" }, (_a = codeConfig === null || codeConfig === void 0 ? void 0 : codeConfig.htmlProps) === null || _a === void 0 ? void 0 : _a.style) });\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeTween, Object.assign({ progress: t, tween: { prev: prevFile, next: nextFile }, config: Object.assign(Object.assign({}, codeConfig), { parentHeight }) }, htmlProps)));\r\n}\r\nfunction getContentFromFile(file) {\r\n    return file ? codeToText(file.code) : \"\";\r\n}\r\n/**\r\n * Get the StepFiles for a transition\r\n * in each panel, if the prev and next active files are the same\r\n * we return the prev and next version of that panel\r\n * if the active files are different, we return the same file twice,\r\n * if backward is true we return the prev active file twice,\r\n * or else the next active file twice\r\n */\r\nfunction getStepFiles(prev, next, backward) {\r\n    var _a, _b;\r\n    // The active file in each panel before and after:\r\n    // +----+----+\r\n    // | pn | nn |\r\n    // +----+----+\r\n    // | ps | ns |\r\n    // +----+----+\r\n    //\r\n    const pn = prev.northPanel.active;\r\n    const nn = next.northPanel.active;\r\n    const ps = (_a = prev.southPanel) === null || _a === void 0 ? void 0 : _a.active;\r\n    const ns = (_b = next.southPanel) === null || _b === void 0 ? void 0 : _b.active;\r\n    const pnFile = prev.files.find(f => f.name === pn);\r\n    const nnFile = next.files.find(f => f.name === nn);\r\n    const psFile = ps\r\n        ? prev.files.find(f => f.name === ps)\r\n        : null;\r\n    const nsFile = ns\r\n        ? next.files.find(f => f.name === ns)\r\n        : null;\r\n    const oneToTwoSouth = !ps && pn === ns;\r\n    if (oneToTwoSouth) {\r\n        return {\r\n            prevNorthFile: nnFile,\r\n            nextNorthFile: nnFile,\r\n            prevSouthFile: pnFile,\r\n            nextSouthFile: nsFile,\r\n        };\r\n    }\r\n    const twoToOneSouth = !ns && nn === ps;\r\n    if (twoToOneSouth) {\r\n        return {\r\n            prevNorthFile: pnFile,\r\n            nextNorthFile: pnFile,\r\n            prevSouthFile: psFile,\r\n            nextSouthFile: nnFile,\r\n        };\r\n    }\r\n    const prevNorthFile = pn === nn ? pnFile : backward ? pnFile : nnFile;\r\n    const nextNorthFile = pn === nn ? nnFile : backward ? pnFile : nnFile;\r\n    const prevSouthFile = ps === ns\r\n        ? psFile\r\n        : backward\r\n            ? psFile || nsFile\r\n            : nsFile || psFile;\r\n    const nextSouthFile = ps === ns\r\n        ? nsFile\r\n        : backward\r\n            ? psFile || nsFile\r\n            : nsFile || psFile;\r\n    return {\r\n        prevNorthFile,\r\n        nextNorthFile,\r\n        prevSouthFile,\r\n        nextSouthFile,\r\n    };\r\n}\r\nfunction getPanelStyles(prev, next, t) {\r\n    // +---+---+\r\n    // | x | x |\r\n    // +---+---+\r\n    // |   |   |\r\n    // +---+---+\r\n    if (prev.southHeight === null &&\r\n        next.southHeight === null) {\r\n        return {\r\n            northStyle: {\r\n                minHeight: prev.northHeight,\r\n            },\r\n        };\r\n    }\r\n    // +---+---+\r\n    // | x | x |\r\n    // +---+---+\r\n    // | y |   |\r\n    // +---+---+\r\n    if (prev.southHeight !== null &&\r\n        next.southHeight === null &&\r\n        next.northKey !== prev.southKey) {\r\n        return {\r\n            northStyle: {\r\n                minHeight: tween(prev.northHeight, next.northHeight, t),\r\n            },\r\n            southStyle: {\r\n                minHeight: prev.southHeight,\r\n            },\r\n        };\r\n    }\r\n    // +---+---+\r\n    // | x | y |\r\n    // +---+---+\r\n    // | y |   |\r\n    // +---+---+\r\n    if (prev.southHeight !== null &&\r\n        next.southHeight === null &&\r\n        prev.southKey === next.northKey) {\r\n        return {\r\n            northStyle: {\r\n                minHeight: prev.northHeight,\r\n            },\r\n            southStyle: {\r\n                position: \"relative\",\r\n                minHeight: tween(prev.southHeight, next.northHeight, t),\r\n                transform: `translateY(${tween(0, -(prev.northHeight + prev.titleBarHeight), t)}px)`,\r\n            },\r\n        };\r\n    }\r\n    // +---+---+\r\n    // | x | x |\r\n    // +---+---+\r\n    // |   | y |\r\n    // +---+---+\r\n    if (prev.southHeight === null &&\r\n        next.southHeight !== null &&\r\n        prev.northKey !== next.southKey) {\r\n        return {\r\n            northStyle: {\r\n                minHeight: tween(prev.northHeight, next.northHeight, t),\r\n            },\r\n            southStyle: {\r\n                position: \"relative\",\r\n                minHeight: next.southHeight,\r\n            },\r\n        };\r\n    }\r\n    // +---+---+\r\n    // | y | x |\r\n    // +---+---+\r\n    // |   | y |\r\n    // +---+---+\r\n    if (prev.southHeight === null &&\r\n        next.southHeight !== null &&\r\n        prev.northKey === next.southKey) {\r\n        return {\r\n            northStyle: {\r\n                minHeight: next.northHeight,\r\n            },\r\n            southStyle: {\r\n                position: \"relative\",\r\n                minHeight: tween(prev.northHeight, next.southHeight, t),\r\n                transform: `translateY(${tween(-(next.northHeight + next.titleBarHeight), 0, t)}px)`,\r\n            },\r\n        };\r\n    }\r\n    // +---+---+\r\n    // | x | x |\r\n    // +---+---+\r\n    // | y | y |\r\n    // +---+---+\r\n    return {\r\n        northStyle: {\r\n            minHeight: tween(prev.northHeight, next.northHeight, t),\r\n        },\r\n        southStyle: {\r\n            minHeight: tween(prev.southHeight, next.southHeight, t),\r\n        },\r\n    };\r\n}\r\nfunction tween(a, b, t) {\r\n    return a + (b - a) * t;\r\n}\r\nfunction getTabs(prevSnapshot, nextSnapshot, northActive, southActive, t) {\r\n    // TODO simplify\r\n    if (!prevSnapshot.southTabs &&\r\n        isPresent(southActive, prevSnapshot.northTabs)) {\r\n        /// one to two south\r\n        return {\r\n            northTabs: getPanelTabs(nextSnapshot.northTabs, nextSnapshot.southTabs, prevSnapshot.southTabs, prevSnapshot.northTabs, northActive, t),\r\n            southTabs: getPanelTabs(nextSnapshot.southTabs, nextSnapshot.northTabs, prevSnapshot.northTabs, prevSnapshot.southTabs, southActive, t),\r\n        };\r\n    }\r\n    if (!nextSnapshot.southTabs &&\r\n        isPresent(southActive, nextSnapshot.northTabs)) {\r\n        /// two to one south\r\n        return {\r\n            northTabs: getPanelTabs(nextSnapshot.southTabs, nextSnapshot.northTabs, prevSnapshot.northTabs, prevSnapshot.southTabs, northActive, t),\r\n            southTabs: getPanelTabs(nextSnapshot.northTabs, nextSnapshot.southTabs, prevSnapshot.southTabs, prevSnapshot.northTabs, southActive, t),\r\n        };\r\n    }\r\n    return {\r\n        northTabs: getPanelTabs(nextSnapshot.northTabs, nextSnapshot.southTabs, prevSnapshot.northTabs, prevSnapshot.southTabs, northActive, t),\r\n        southTabs: getPanelTabs(nextSnapshot.southTabs, nextSnapshot.northTabs, prevSnapshot.southTabs, prevSnapshot.northTabs, southActive, t),\r\n    };\r\n}\r\nfunction getPanelTabs(nextSnapshot, otherNextSnapshot, prevSnapshot, otherPrevSnapshot, active, t) {\r\n    // For each tab bar there are four types of tabs\r\n    // - oldTabs: tabs that are present in both prev and next versions of the bar\r\n    // - totallyNewTabs: tabs that are totally new (present in next\r\n    // but not in any prev)\r\n    // - migratingTabs: tabs that are come from the other bar (present\r\n    // in next and in otherPrev)\r\n    // - disappearingTabs: present in prev but not in next or otherNext\r\n    const oldTabs = !nextSnapshot\r\n        ? []\r\n        : Object.keys(nextSnapshot)\r\n            .filter(filename => isPresent(filename, prevSnapshot) ||\r\n            !prevSnapshot)\r\n            .map(filename => {\r\n            const prev = prevSnapshot && prevSnapshot[filename];\r\n            const next = nextSnapshot[filename];\r\n            const dx = prev\r\n                ? prev.left + (next.left - prev.left) * t\r\n                : next.left;\r\n            const width = prev\r\n                ? prev.width + (next.width - prev.width) * t\r\n                : next.width;\r\n            return {\r\n                active: filename === active,\r\n                title: filename,\r\n                style: {\r\n                    position: \"absolute\",\r\n                    transform: `translateX(${dx}px)`,\r\n                    width,\r\n                },\r\n            };\r\n        });\r\n    const totallyNewTabs = !nextSnapshot\r\n        ? []\r\n        : Object.keys(nextSnapshot)\r\n            .filter(filename => prevSnapshot &&\r\n            !isPresent(filename, prevSnapshot)\r\n        // && !isPresent(filename, otherPrevSnapshot)\r\n        )\r\n            .map(filename => {\r\n            const next = nextSnapshot[filename];\r\n            return {\r\n                active: filename === active,\r\n                title: filename,\r\n                style: {\r\n                    position: \"absolute\",\r\n                    transform: `translateX(${next.left}px)`,\r\n                    opacity: t,\r\n                    width: next.width,\r\n                },\r\n            };\r\n        });\r\n    !nextSnapshot\r\n        ? []\r\n        : Object.keys(nextSnapshot)\r\n            .filter(filename => isPresent(filename, otherPrevSnapshot))\r\n            .map(filename => {\r\n            const prev = otherPrevSnapshot[filename];\r\n            const next = nextSnapshot[filename];\r\n            const dx = next.left - prev.left;\r\n            return {\r\n                active: filename === active,\r\n                title: filename,\r\n                style: {\r\n                    position: \"absolute\",\r\n                    transform: `translateX(${dx}px)`,\r\n                },\r\n            };\r\n        });\r\n    const disappearingTabs = !prevSnapshot\r\n        ? []\r\n        : Object.keys(prevSnapshot)\r\n            .filter(filename => !isPresent(filename, nextSnapshot)\r\n        // && !isPresent(filename, otherNextSnapshot)\r\n        )\r\n            .map(filename => {\r\n            const prev = prevSnapshot[filename];\r\n            return {\r\n                active: filename === active,\r\n                title: filename,\r\n                style: {\r\n                    position: \"absolute\",\r\n                    opacity: 1 - t,\r\n                    transform: `translateX(${prev.left}px)`,\r\n                    width: prev.width,\r\n                },\r\n            };\r\n        });\r\n    return [\r\n        ...totallyNewTabs,\r\n        // ...migratingTabs,\r\n        ...oldTabs,\r\n        ...disappearingTabs,\r\n    ];\r\n}\r\nfunction isPresent(filename, snapshot) {\r\n    return snapshot && filename && filename in snapshot;\r\n}\r\n// snapshots\r\nconst useLayoutEffect$2 = typeof window !== \"undefined\"\r\n    ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect\r\n    : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\r\nfunction useSnapshots(ref, prev, next) {\r\n    const [{ prevSnapshot, nextSnapshot }, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\r\n        prevSnapshot: null,\r\n        nextSnapshot: null,\r\n    });\r\n    useLayoutEffect$2(() => {\r\n        if (prevSnapshot || nextSnapshot) {\r\n            setState({\r\n                prevSnapshot: null,\r\n                nextSnapshot: null,\r\n            });\r\n        }\r\n    }, [prev, next]);\r\n    useLayoutEffect$2(() => {\r\n        if (!prevSnapshot) {\r\n            const parent = ref.current;\r\n            setState(s => (Object.assign(Object.assign({}, s), { prevSnapshot: Object.assign(Object.assign({}, getPanelSnapshot(parent, prev)), getTabsSnapshot(parent, prev)) })));\r\n        }\r\n        else if (!nextSnapshot) {\r\n            const parent = ref.current;\r\n            setState(s => (Object.assign(Object.assign({}, s), { nextSnapshot: Object.assign(Object.assign({}, getPanelSnapshot(parent, next)), getTabsSnapshot(parent, next)) })));\r\n        }\r\n    });\r\n    return { prevSnapshot, nextSnapshot };\r\n}\r\nfunction getPanelSnapshot(parent, step) {\r\n    var _a;\r\n    const northElement = parent.querySelector(\"[data-ch-panel='north']\");\r\n    const southElement = parent.querySelector(\"[data-ch-panel='south']\");\r\n    const bar = parent.querySelector(\".ch-frame-title-bar\");\r\n    return {\r\n        titleBarHeight: bar.getBoundingClientRect().height,\r\n        northHeight: northElement.getBoundingClientRect().height,\r\n        northKey: step.northPanel.active,\r\n        southHeight: (southElement === null || southElement === void 0 ? void 0 : southElement.getBoundingClientRect().height) || null,\r\n        southKey: (_a = step.southPanel) === null || _a === void 0 ? void 0 : _a.active,\r\n    };\r\n}\r\nfunction getTabsSnapshot(parent, step) {\r\n    var _a;\r\n    const northTabs = Array.from(parent.querySelectorAll(\"[data-ch-tab='north']\"));\r\n    const southTabs = Array.from(parent.querySelectorAll(\"[data-ch-tab='south']\"));\r\n    return {\r\n        northTabs: getTabsDimensions(northTabs, step.northPanel.active),\r\n        southTabs: getTabsDimensions(southTabs, (_a = step.southPanel) === null || _a === void 0 ? void 0 : _a.active),\r\n    };\r\n}\r\nfunction getTabsDimensions(tabElements, active) {\r\n    if (!tabElements[0]) {\r\n        return null;\r\n    }\r\n    const parent = tabElements[0].parentElement;\r\n    const parentLeft = parent.getBoundingClientRect().left;\r\n    const dimensions = {};\r\n    tabElements.forEach(child => {\r\n        const filename = child.getAttribute(\"title\");\r\n        const rect = child.getBoundingClientRect();\r\n        dimensions[filename] = {\r\n            left: rect.left - parentLeft,\r\n            width: rect.width,\r\n            active: filename === active,\r\n        };\r\n    });\r\n    return dimensions;\r\n}\n\nfunction CodeBrowser({ files, theme, startingFileName, }) {\r\n    const [activeFile, setActiveFile] = react__WEBPACK_IMPORTED_MODULE_0__.useState(() => files.find(f => f.name === startingFileName));\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-code-browser\", style: {\r\n            color: getColor(theme, ColorName.EditorForeground),\r\n        } },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(Sidebar, { files: files, theme: theme, activeFile: activeFile, setActiveFile: setActiveFile }),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(Content, { file: activeFile, theme: theme })));\r\n}\r\nfunction Sidebar({ theme, files, activeFile, setActiveFile, }) {\r\n    const tree = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => toFileTree(files), [files]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-code-browser-sidebar\", style: {\r\n            borderColor: getColor(theme, ColorName.SideBarBorder),\r\n            background: getColor(theme, ColorName.SideBarBackground),\r\n            color: getColor(theme, ColorName.SideBarForeground),\r\n            [\"--ch-list-selection-background\"]: getColor(theme, ColorName.ListActiveSelectionBackground),\r\n            [\"--ch-list-selection-foreground\"]: getColor(theme, ColorName.ListActiveSelectionForeground),\r\n            [\"--ch-hover-background\"]: getColor(theme, ColorName.ListHoverBackground),\r\n            [\"--ch-hover-foreground\"]: getColor(theme, ColorName.ListHoverForeground),\r\n        } },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(SidebarNodes, { tree: tree, activeFile: activeFile, setActiveFile: setActiveFile })));\r\n}\r\nfunction SidebarNodes({ tree, activeFile, setActiveFile, level = 0, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, tree.map(node => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(SidebarNode, { key: node.name, node: node, activeFile: activeFile, setActiveFile: setActiveFile, level: level })))));\r\n}\r\nfunction SidebarNode({ node, activeFile, setActiveFile, level, }) {\r\n    const isFolder = node.children && node.children.length > 0;\r\n    const isSelected = node.codeFile === activeFile;\r\n    if (isFolder) {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-code-browser-sidebar-folder\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { paddingLeft: level * 1.5 + \"ch\" } }, node.name)),\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(SidebarNodes, { tree: node.children, activeFile: activeFile, setActiveFile: setActiveFile, level: level + 1 })));\r\n    }\r\n    else {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-code-browser-sidebar-file\", onClick: () => setActiveFile(node.codeFile), style: isSelected\r\n                    ? {\r\n                        color: \"var(--ch-list-selection-foreground)\",\r\n                        background: \"var(--ch-list-selection-background)\",\r\n                    }\r\n                    : {} },\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { paddingLeft: level * 1.5 + \"ch\" } }, node.name))));\r\n    }\r\n}\r\nfunction Content({ file, theme, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-code-browser-content\", style: {\r\n            background: getColor(theme, ColorName.CodeBackground),\r\n            color: getColor(theme, ColorName.CodeForeground),\r\n            [\"--ch-selection-background\"]: getColor(theme, ColorName.SelectionBackground),\r\n            colorScheme: getColorScheme(theme),\r\n        } },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(CopyButton, { className: \"ch-code-browser-button\", content: codeToText(file.code) }),\r\n        file.code.lines.map((line, i) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { key: i }, line.tokens.length === 0 ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", null)) : (line.tokens.map((token, i) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", Object.assign({ key: i }, token.props), token.content)))))))));\r\n}\r\nfunction toFileTree(files) {\r\n    let tree = [];\r\n    for (const file of files) {\r\n        const parts = file.name.split(\"/\");\r\n        let current = tree;\r\n        for (let i = 0; i < parts.length; i++) {\r\n            const part = parts[i];\r\n            const isLastPart = i === parts.length - 1;\r\n            const index = current.findIndex(f => f.name === part);\r\n            if (index === -1) {\r\n                const sub = {\r\n                    name: part,\r\n                    children: [],\r\n                    codeFile: undefined,\r\n                };\r\n                if (isLastPart) {\r\n                    sub.codeFile = file;\r\n                }\r\n                current.push(sub);\r\n                current = sub.children;\r\n            }\r\n            else {\r\n                current = current[index].children;\r\n            }\r\n        }\r\n    }\r\n    tree = sortTree(tree);\r\n    return tree;\r\n}\r\nfunction sortTree(tree) {\r\n    for (const child of tree) {\r\n        child.children = sortTree(child.children);\r\n    }\r\n    return tree.sort((a, b) => {\r\n        const aIsFolder = a.children && a.children.length > 0;\r\n        const bIsFolder = b.children && b.children.length > 0;\r\n        if ((aIsFolder && bIsFolder) ||\r\n            (!aIsFolder && !bIsFolder)) {\r\n            return a.name.localeCompare(b.name);\r\n        }\r\n        if (aIsFolder) {\r\n            return -1;\r\n        }\r\n        return 1;\r\n    });\r\n}\n\nfunction ExpandButton({ style, step, theme, className, }) {\r\n    const [expanded, setExpanded] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\r\n    const [dialogSupported, setDialogSupported] = react__WEBPACK_IMPORTED_MODULE_0__.useState(true);\r\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\r\n    const files = step.files;\r\n    // check if <dialog /> is supported\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        if (ref.current && !ref.current.showModal) {\r\n            setDialogSupported(false);\r\n        }\r\n    }, []);\r\n    if (!dialogSupported) {\r\n        return null;\r\n    }\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ExpandIcon, { className: className, style: style, onClick: () => {\r\n                ref.current.showModal();\r\n                document.body.classList.add(\"ch-no-scroll\");\r\n                setExpanded(true);\r\n            } }),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"dialog\", { ref: ref, className: \"ch-expand-dialog\", onClose: () => {\r\n                setExpanded(false);\r\n            }, onClick: e => {\r\n                if (e.currentTarget === e.target) {\r\n                    ref.current.close();\r\n                    document.body.classList.remove(\"ch-no-scroll\");\r\n                }\r\n            } },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(CloseButton, { onClick: () => {\r\n                    ref.current.close();\r\n                    document.body.classList.remove(\"ch-no-scroll\");\r\n                } }),\r\n            expanded ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-expand-dialog-content\", style: {\r\n                    borderColor: getColor(theme, ColorName.SideBarBorder),\r\n                } },\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeBrowser, { files: files, theme: theme, startingFileName: step.northPanel.active }))) : undefined)));\r\n}\r\nfunction ExpandIcon({ onClick, style, className, }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { style: style, onClick: onClick, className: className, fill: \"none\", stroke: \"currentColor\", viewBox: \"0 0 24 24\", xmlns: \"http://www.w3.org/2000/svg\", role: \"button\" },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"title\", null, \"Expand\"),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 2, d: \"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\" })));\r\n}\r\nfunction CloseButton({ onClick }) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { onClick: onClick, className: \"ch-expand-close\", fill: \"none\", stroke: \"currentColor\", viewBox: \"0 0 24 24\", xmlns: \"http://www.w3.org/2000/svg\", role: \"button\" },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"title\", null, \"Close\"),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 2, d: \"M6 18L18 6M6 6l12 12\" })));\r\n}\n\nconst DEFAULT_STEP = {\r\n    files: [\r\n        {\r\n            code: { lines: [], lang: \"js\" },\r\n            focus: \"\",\r\n            name: \"\",\r\n        },\r\n    ],\r\n    northPanel: { active: \"\", tabs: [\"\"], heightRatio: 1 },\r\n};\r\nfunction EditorTween(_a) {\r\n    var { prev = DEFAULT_STEP, next, t, backward, codeConfig, frameProps = {} } = _a, divProps = __rest(_a, [\"prev\", \"next\", \"t\", \"backward\", \"codeConfig\", \"frameProps\"]);\r\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\r\n    const { showCopyButton, showExpandButton } = codeConfig, config = __rest(codeConfig, [\"showCopyButton\", \"showExpandButton\"]);\r\n    const { northPanel, southPanel, northContent, southContent, } = useTransition(ref, prev, next || prev, t, backward, config);\r\n    const [frozenHeight, freezeHeight] = react__WEBPACK_IMPORTED_MODULE_0__.useState(undefined);\r\n    useLayoutEffect$4(() => {\r\n        var _a;\r\n        const height = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().height;\r\n        freezeHeight(height);\r\n    }, []);\r\n    const framePropsWithHeight = Object.assign(Object.assign(Object.assign({}, frameProps), divProps), { style: Object.assign(Object.assign({}, frameProps === null || frameProps === void 0 ? void 0 : frameProps.style), divProps === null || divProps === void 0 ? void 0 : divProps.style) });\r\n    if (frozenHeight) {\r\n        framePropsWithHeight.style.height = frozenHeight;\r\n        framePropsWithHeight.style.maxHeight = frozenHeight;\r\n    }\r\n    const northButtons = (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n        showCopyButton ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CopyButton, { className: \"ch-editor-button\", content: northContent })) : undefined,\r\n        showExpandButton ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ExpandButton, { className: \"ch-editor-button\", step: next || prev, theme: codeConfig.theme })) : undefined));\r\n    const southCopyButton = showCopyButton ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(CopyButton, { className: \"ch-editor-button\", content: southContent })) : undefined;\r\n    const terminalPanel = (react__WEBPACK_IMPORTED_MODULE_0__.createElement(TerminalPanel, { prev: prev.terminal, next: (next || prev).terminal, t: t, backward: backward }));\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditorFrame, Object.assign({ ref: ref }, framePropsWithHeight, { northPanel: northPanel, southPanel: southPanel, terminalPanel: terminalPanel, theme: codeConfig.theme, northButton: northButtons, southButton: southCopyButton })));\r\n}\n\nconst defaultSpring = {\r\n    stiffness: 120,\r\n    damping: 24,\r\n    mass: 0.2,\r\n    decimals: 3,\r\n};\r\nfunction EditorSpring(_a) {\r\n    var { northPanel, southPanel, files, terminal, springConfig } = _a, props = __rest(_a, [\"northPanel\", \"southPanel\", \"files\", \"terminal\", \"springConfig\"]);\r\n    const step = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\r\n        return {\r\n            northPanel,\r\n            southPanel,\r\n            files,\r\n            terminal,\r\n        };\r\n    }, [northPanel, southPanel, files, terminal]);\r\n    const { prev, next, t } = useStepSpring(step, springConfig);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditorTween, Object.assign({ t: t, backward: false, prev: prev, next: next }, props)));\r\n}\r\nfunction useStepSpring(step, springConfig = defaultSpring) {\r\n    const [{ target, steps, index }, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\r\n        target: 2,\r\n        steps: [step, step, step],\r\n        index: 0,\r\n    });\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        const lastStep = steps[steps.length - 1];\r\n        if (lastStep != step) {\r\n            setState(s => updateStepSpring(s, step, progress));\r\n        }\r\n    }, [step]);\r\n    const [progress] = useSpring(target, springConfig);\r\n    const trioProgress = progress - index;\r\n    const result = trioProgress <= 1\r\n        ? {\r\n            prev: steps[0],\r\n            next: steps[1],\r\n            t: trioProgress,\r\n        }\r\n        : {\r\n            prev: steps[1],\r\n            next: steps[2],\r\n            t: trioProgress - 1,\r\n        };\r\n    return result;\r\n}\r\nfunction updateStepSpring(state, newStep, progress) {\r\n    const { steps, target, index } = state;\r\n    const stepsClone = steps.slice();\r\n    const trioProgress = progress - index;\r\n    if (trioProgress < 1) {\r\n        stepsClone[2] = newStep;\r\n        return Object.assign(Object.assign({}, state), { steps: stepsClone });\r\n    }\r\n    else {\r\n        stepsClone[0] = steps[1];\r\n        stepsClone[1] = steps[2];\r\n        stepsClone[2] = newStep;\r\n        return Object.assign(Object.assign({}, state), { steps: stepsClone, target: target + 1, index: index + 1 });\r\n    }\r\n}\n\nfunction Code(props) {\r\n    const [step, setStep] = react__WEBPACK_IMPORTED_MODULE_0__.useState(props);\r\n    function onTabClick(filename) {\r\n        const newStep = updateEditorStep(step, filename, null);\r\n        setStep(Object.assign(Object.assign({}, step), newStep));\r\n    }\r\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerCode, Object.assign({}, step, { onTabClick: onTabClick }));\r\n}\r\n// build the CodeConfig from props and props.codeConfig\r\nfunction mergeCodeConfig(props) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n    const { lineNumbers, showCopyButton, showExpandButton, minZoom, maxZoom } = props, rest = __rest(props, [\"lineNumbers\", \"showCopyButton\", \"showExpandButton\", \"minZoom\", \"maxZoom\"]);\r\n    const codeConfig = Object.assign(Object.assign({}, props.codeConfig), { maxZoom: maxZoom == null ? (_a = props.codeConfig) === null || _a === void 0 ? void 0 : _a.maxZoom : maxZoom, minZoom: minZoom == null ? (_b = props.codeConfig) === null || _b === void 0 ? void 0 : _b.minZoom : minZoom, horizontalCenter: (_d = (_c = props.codeConfig) === null || _c === void 0 ? void 0 : _c.horizontalCenter) !== null && _d !== void 0 ? _d : props.horizontalCenter, lineNumbers: lineNumbers == null\r\n            ? (_e = props.codeConfig) === null || _e === void 0 ? void 0 : _e.lineNumbers\r\n            : lineNumbers, showCopyButton: showCopyButton == null\r\n            ? (_f = props.codeConfig) === null || _f === void 0 ? void 0 : _f.showCopyButton\r\n            : showCopyButton, showExpandButton: showExpandButton == null\r\n            ? (_g = props.codeConfig) === null || _g === void 0 ? void 0 : _g.showExpandButton\r\n            : showExpandButton, rows: props.rows, debug: (_h = props.debug) !== null && _h !== void 0 ? _h : (_j = props.codeConfig) === null || _j === void 0 ? void 0 : _j.debug });\r\n    return Object.assign(Object.assign({}, rest), { codeConfig });\r\n}\r\nfunction InnerCode(_a) {\r\n    var { onTabClick } = _a, props = __rest(_a, [\"onTabClick\"]);\r\n    const _b = mergeCodeConfig(props), { className, style, codeConfig } = _b, editorProps = __rest(_b, [\"className\", \"style\", \"codeConfig\"]);\r\n    if (!props.southPanel &&\r\n        props.files.length === 1 &&\r\n        !props.files[0].name) {\r\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: `ch-codeblock not-prose ${className || \"\"}`, style: style },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(CodeSpring, { className: \"ch-code\", config: codeConfig, step: editorProps.files[0] })));\r\n    }\r\n    else {\r\n        const frameProps = Object.assign(Object.assign({}, editorProps === null || editorProps === void 0 ? void 0 : editorProps.frameProps), { onTabClick });\r\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: `ch-codegroup not-prose ${className || \"\"}`, style: style },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditorSpring, Object.assign({}, editorProps, { frameProps: frameProps, codeConfig: codeConfig }))));\r\n    }\r\n}\r\nfunction updateEditorStep(step, filename, focus) {\r\n    const name = filename || step.northPanel.active;\r\n    const newFiles = step.files.map((file) => file.name === name\r\n        ? Object.assign(Object.assign({}, file), { focus: focus === null ? file.focus : focus }) : file);\r\n    let northPanel = Object.assign({}, step.northPanel);\r\n    let southPanel = step.southPanel && Object.assign({}, step.southPanel);\r\n    if (step.northPanel.tabs.includes(name)) {\r\n        northPanel.active = name;\r\n    }\r\n    else if (southPanel) {\r\n        southPanel.active = name;\r\n    }\r\n    return { files: newFiles, northPanel, southPanel };\r\n}\n\nconst SectionContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext({\r\n    props: null,\r\n    setFocus: () => { },\r\n});\r\nfunction Section(_a) {\r\n    var { children, className, style } = _a, props = __rest(_a, [\"children\", \"className\", \"style\"]);\r\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(props);\r\n    const resetFocus = () => setState(props);\r\n    const setFocus = ({ fileName, focus, id, }) => {\r\n        const newStep = updateEditorStep(state, fileName, focus);\r\n        setState(Object.assign(Object.assign(Object.assign({}, state), newStep), { selectedId: id }));\r\n    };\r\n    const rest = __rest(state, [\"selectedId\"]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"section\", { className: `ch-section ${className || \"\"}`, style: style },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(SectionContext.Provider, { value: {\r\n                props: rest,\r\n                setFocus,\r\n            } },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(LinkableSection, { onActivation: setFocus, onReset: resetFocus }, children))));\r\n}\r\nfunction SectionCode(innerProps) {\r\n    const { props, setFocus } = react__WEBPACK_IMPORTED_MODULE_0__.useContext(SectionContext);\r\n    const onTabClick = (filename) => {\r\n        setFocus({ fileName: filename, focus: null, id: \"\" });\r\n    };\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerCode, Object.assign({}, innerProps, props, { onTabClick: onTabClick })));\r\n}\r\n// ---\r\nfunction SectionLink({ focus, file, children, id, }) {\r\n    const { activate, reset, activatedId } = react__WEBPACK_IMPORTED_MODULE_0__.useContext(LinkableContext);\r\n    const isSelected = activatedId === id;\r\n    // const handleClick = isSelected\r\n    //   ? resetFocus\r\n    //   : () => setFocus({ fileName: file, focus, id })\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"ch-section-link\", \"data-active\": isSelected, \r\n        // onClick={handleClick}\r\n        children: children, onMouseOver: () => activate({ fileName: file, focus, id }), onMouseOut: reset }));\r\n}\r\nconst LinkableContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext({\r\n    activatedId: undefined,\r\n    activate: () => { },\r\n    reset: () => { },\r\n});\r\nfunction LinkableSection({ onActivation, onReset, children, }) {\r\n    const [activatedId, setActivatedId] = react__WEBPACK_IMPORTED_MODULE_0__.useState(undefined);\r\n    const activate = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(x => {\r\n        setActivatedId(x.id);\r\n        onActivation(x);\r\n    }, [onActivation]);\r\n    const reset = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\r\n        setActivatedId(undefined);\r\n        onReset();\r\n    }, [onReset]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(LinkableContext.Provider, { value: {\r\n            activate,\r\n            reset,\r\n            activatedId,\r\n        } }, children));\r\n}\n\nfunction Back() {\r\n    const c = useClasser(\"ch-browser\");\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { fill: \"currentColor\", preserveAspectRatio: \"xMidYMid meet\", height: \"1em\", viewBox: \"13 10 14 23\", className: c(\"button\", \"back-button\") },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"m26.5 12.1q0 0.3-0.2 0.6l-8.8 8.7 8.8 8.8q0.2 0.2 0.2 0.5t-0.2 0.5l-1.1 1.1q-0.3 0.3-0.6 0.3t-0.5-0.3l-10.4-10.4q-0.2-0.2-0.2-0.5t0.2-0.5l10.4-10.4q0.3-0.2 0.5-0.2t0.6 0.2l1.1 1.1q0.2 0.2 0.2 0.5z\" }))));\r\n}\r\nfunction Forward() {\r\n    const c = useClasser(\"ch-browser\");\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { fill: \"currentColor\", preserveAspectRatio: \"xMidYMid meet\", height: \"1em\", viewBox: \"13 10 14 23\", className: c(\"button\", \"forward-button\") },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", null,\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"m26.3 21.4q0 0.3-0.2 0.5l-10.4 10.4q-0.3 0.3-0.6 0.3t-0.5-0.3l-1.1-1.1q-0.2-0.2-0.2-0.5t0.2-0.5l8.8-8.8-8.8-8.7q-0.2-0.3-0.2-0.6t0.2-0.5l1.1-1.1q0.3-0.2 0.5-0.2t0.6 0.2l10.4 10.4q0.2 0.2 0.2 0.5z\" }))));\r\n}\r\nfunction Open({ href, style, }) {\r\n    const c = useClasser(\"ch-browser\");\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", { className: c(\"button\", \"open-button\"), title: \"Open in new tab\", href: href, style: style, target: \"_blank\", rel: \"noopener noreferrer\" },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { stroke: \"currentColor\", fill: \"currentColor\", strokeWidth: \"0\", viewBox: \"3 3 18 18\", height: \"1em\", width: \"1em\", className: c(\"open-icon\"), xmlns: \"http://www.w3.org/2000/svg\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\" }))));\r\n}\n\nfunction TitleBar({ url, linkUrl, theme, }) {\r\n    const inputBorder = getColor(theme, ColorName.InputBorder);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(FrameButtons, null),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(Back, null),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(Forward, null),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", { value: url || \"\", readOnly: true, style: {\r\n                background: getColor(theme, ColorName.InputBackground),\r\n                color: getColor(theme, ColorName.InputForeground),\r\n                border: inputBorder\r\n                    ? `1px solid ${inputBorder}`\r\n                    : undefined,\r\n            } }),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(Open, { href: linkUrl, style: {\r\n                color: getColor(theme, ColorName.EditorForeground),\r\n            } })));\r\n}\n\nfunction useSteps$1(steps) {\r\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\r\n        if (!steps) {\r\n            return [{ zoom: 1 }];\r\n        }\r\n        return steps.map(step => {\r\n            const { displayUrl, loadUrl } = transformUrl(step.url, step.loadUrl, step.prependOrigin);\r\n            return {\r\n                zoom: step.zoom || 1,\r\n                displayUrl,\r\n                loadUrl,\r\n                children: step.children,\r\n            };\r\n        });\r\n    }, [steps]);\r\n}\r\nfunction transformUrl(url, loadUrl, prependOrigin) {\r\n    const currentOrigin = typeof window !== \"undefined\" ? window.origin : \"\";\r\n    const displayUrl = url && prependOrigin === true\r\n        ? currentOrigin + url\r\n        : url;\r\n    return { displayUrl, loadUrl: loadUrl || displayUrl };\r\n}\n\nconst MiniBrowserHike = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(MiniBrowserWithRef);\r\nfunction MiniBrowserWithRef(_a, ref) {\r\n    var { progress = 0, backward = false, steps: ogSteps, transition = \"none\", classes, theme } = _a, props = __rest(_a, [\"progress\", \"backward\", \"steps\", \"transition\", \"classes\", \"theme\"]);\r\n    const c = useClasser(\"ch-mini-browser\", classes);\r\n    const steps = useSteps$1(ogSteps);\r\n    const stepIndex = Math.round(progress);\r\n    const { zoom, displayUrl, loadUrl, children } = steps[stepIndex];\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(MiniFrame, Object.assign({}, props, { zoom: zoom, className: `${c(\"\")} ${props.className || \"\"}`, style: Object.assign(Object.assign({}, transitionStyle({ progress, transition })), props.style), classes: classes, titleBar: react__WEBPACK_IMPORTED_MODULE_0__.createElement(TitleBar, { url: displayUrl, linkUrl: loadUrl, theme: theme }), theme: theme }), children || react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", { ref: ref, src: loadUrl })));\r\n}\r\nfunction transitionStyle({ progress, transition, }) {\r\n    if (transition === \"slide\") {\r\n        const X = 50;\r\n        const t = progress - Math.floor(progress);\r\n        const x = t <= 0.5 ? -X * t : X - X * t;\r\n        const o = Math.abs(t - 0.5) * 2;\r\n        return {\r\n            transform: `translateX(${x}px)`,\r\n            opacity: o * o,\r\n        };\r\n    }\r\n    return {};\r\n}\n\nfunction MiniBrowser(_a) {\r\n    var { url, loadUrl, prependOrigin, children, zoom } = _a, rest = __rest(_a, [\"url\", \"loadUrl\", \"prependOrigin\", \"children\", \"zoom\"]);\r\n    const [steps, progress] = useSteps({\r\n        url,\r\n        loadUrl,\r\n        prependOrigin,\r\n        children,\r\n        zoom,\r\n    });\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(MiniBrowserHike, Object.assign({}, rest, { steps: steps, progress: progress })));\r\n}\r\nfunction useSteps({ url, loadUrl, prependOrigin, children, zoom, }) {\r\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\r\n        target: 0,\r\n        steps: [\r\n            { url, loadUrl, prependOrigin, children, zoom },\r\n        ],\r\n    });\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        const last = state.steps[state.steps.length - 1];\r\n        if (last.url !== url ||\r\n            last.loadUrl !== loadUrl ||\r\n            last.prependOrigin !== prependOrigin ||\r\n            last.children !== children) {\r\n            setState(s => ({\r\n                target: s.target + 1,\r\n                steps: [\r\n                    ...s.steps,\r\n                    { url, loadUrl, prependOrigin, children, zoom },\r\n                ],\r\n            }));\r\n        }\r\n    }, [url, loadUrl, prependOrigin, children, zoom]);\r\n    const [progress] = useSpring(state.target, {\r\n        stiffness: 100,\r\n        decimals: 3,\r\n    });\r\n    return [state.steps, progress];\r\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nvar templates = {};\n\nObject.defineProperty(templates, \"__esModule\", { value: true });\nfunction getMainFile(template) {\n    if (template === \"vue-cli\") {\n        return \"src/main.js\";\n    }\n    if (template === \"angular-cli\") {\n        return \"src/main.ts\";\n    }\n    if (template === \"create-react-app-typescript\") {\n        return \"src/index.tsx\";\n    }\n    if (template === \"parcel\") {\n        return \"index.html\";\n    }\n    if (template === \"gatsby\") {\n        return \"src/pages/index.js\";\n    }\n    if (template === \"nuxt\") {\n        // Wildcard, because nuxt is not specific on this\n        return \"package.json\";\n    }\n    if (template === \"next\") {\n        // Wildcard, because next is not specific on this\n        return \"package.json\";\n    }\n    if (template === \"apollo\") {\n        // Wildcard, because apollo is not specific on this\n        return \"package.json\";\n    }\n    if (template === \"reason\") {\n        // Wildcard, because reason is not specific on this\n        return \"package.json\";\n    }\n    if (template === \"sapper\") {\n        // Wildcard, because sapper is not specific on this\n        return \"package.json\";\n    }\n    if (template === \"nest\") {\n        return \"src/main.ts\";\n    }\n    if (template === \"static\") {\n        return \"index.html\";\n    }\n    return \"src/index.js\";\n}\ntemplates.getMainFile = getMainFile;\nvar SANDBOX_CONFIG = \"sandbox.config.json\";\nfunction getTemplate(packageJSONPackage, modules) {\n    var sandboxConfig = modules[SANDBOX_CONFIG] || modules[\"/\" + SANDBOX_CONFIG];\n    if (sandboxConfig) {\n        try {\n            var config = JSON.parse(sandboxConfig.content);\n            if (config.template) {\n                return config.template;\n            }\n        }\n        catch (e) { }\n    }\n    var _a = packageJSONPackage.dependencies, dependencies = _a === void 0 ? {} : _a, _b = packageJSONPackage.devDependencies, devDependencies = _b === void 0 ? {} : _b;\n    var totalDependencies = Object.keys(dependencies).concat(Object.keys(devDependencies));\n    var nuxt = [\"nuxt\", \"nuxt-edge\"];\n    if (totalDependencies.some(function (dep) { return nuxt.indexOf(dep) > -1; })) {\n        return \"nuxt\";\n    }\n    if (totalDependencies.indexOf(\"next\") > -1) {\n        return \"next\";\n    }\n    var apollo = [\n        \"apollo-server\",\n        \"apollo-server-express\",\n        \"apollo-server-hapi\",\n        \"apollo-server-koa\",\n        \"apollo-server-lambda\",\n        \"apollo-server-micro\"\n    ];\n    if (totalDependencies.some(function (dep) { return apollo.indexOf(dep) > -1; })) {\n        return \"apollo\";\n    }\n    if (totalDependencies.indexOf(\"ember-cli\") > -1) {\n        return \"ember\";\n    }\n    if (totalDependencies.indexOf(\"sapper\") > -1) {\n        return \"sapper\";\n    }\n    var moduleNames = Object.keys(modules);\n    if (moduleNames.some(function (m) { return m.endsWith(\".vue\"); })) {\n        return \"vue-cli\";\n    }\n    if (moduleNames.some(function (m) { return m.endsWith(\".re\"); })) {\n        return \"reason\";\n    }\n    if (totalDependencies.indexOf(\"gatsby\") > -1) {\n        return \"gatsby\";\n    }\n    if (totalDependencies.indexOf(\"parcel-bundler\") > -1) {\n        return \"parcel\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts\") > -1) {\n        return \"create-react-app\";\n    }\n    if (totalDependencies.indexOf(\"react-scripts-ts\") > -1) {\n        return \"create-react-app-typescript\";\n    }\n    if (totalDependencies.indexOf(\"@angular/core\") > -1) {\n        return \"angular-cli\";\n    }\n    if (totalDependencies.indexOf(\"preact-cli\") > -1) {\n        return \"preact-cli\";\n    }\n    if (totalDependencies.indexOf(\"svelte\") > -1) {\n        return \"svelte\";\n    }\n    if (totalDependencies.indexOf(\"vue\") > -1) {\n        return \"vue-cli\";\n    }\n    var dojo = [\"@dojo/core\", \"@dojo/framework\"];\n    if (totalDependencies.some(function (dep) { return dojo.indexOf(dep) > -1; })) {\n        return \"@dojo/cli-create-app\";\n    }\n    if (totalDependencies.indexOf(\"cx\") > -1) {\n        return \"cxjs\";\n    }\n    if (totalDependencies.indexOf(\"@nestjs/core\") > -1 ||\n        totalDependencies.indexOf(\"@nestjs/common\") > -1) {\n        return \"nest\";\n    }\n    return undefined;\n}\nvar getTemplate_1 = templates.getTemplate = getTemplate;\n\nvar lodash_isequal = {exports: {}};\n\n/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n(function (module, exports) {\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n}(lodash_isequal, lodash_isequal.exports));\n\nvar isEqual = lodash_isequal.exports;\n\n// src/client.ts\n\n// src/file-resolver-protocol.ts\nvar generateId = () => Math.floor(Math.random() * 1e6 + Math.random() * 1e6);\nvar getConstructorName = (x) => {\n  try {\n    return x.constructor.name;\n  } catch (e) {\n    return \"\";\n  }\n};\nvar Protocol = class {\n  constructor(type, handleMessage, target) {\n    this.type = type;\n    this.handleMessage = handleMessage;\n    this.target = target;\n    this.outgoingMessages = new Set();\n    this._messageListener = async (e) => {\n      var _a;\n      const { data } = e;\n      if (data.$type !== this.getTypeId()) {\n        return;\n      }\n      if (this.outgoingMessages.has(data.$id)) {\n        return;\n      }\n      let returnMessage = {\n        $originId: this.internalId,\n        $type: this.getTypeId(),\n        $id: data.$id\n      };\n      try {\n        const result = await this.handleMessage(data.$data);\n        returnMessage.$data = result;\n      } catch (err) {\n        if (!err.message) {\n          console.error(err);\n        }\n        returnMessage.$error = { message: (_a = err.message) != null ? _a : \"Unknown error\" };\n      }\n      if (e.source) {\n        e.source.postMessage(returnMessage, \"*\");\n      } else {\n        this._postMessage(returnMessage);\n      }\n    };\n    this.createConnection();\n    this.internalId = generateId();\n    this.isWorker = getConstructorName(target) === \"Worker\";\n  }\n  getTypeId() {\n    return `p-${this.type}`;\n  }\n  createConnection() {\n    self.addEventListener(\"message\", this._messageListener);\n  }\n  dispose() {\n    self.removeEventListener(\"message\", this._messageListener);\n  }\n  sendMessage(data) {\n    return new Promise((resolve) => {\n      const messageId = generateId();\n      const message = {\n        $originId: this.internalId,\n        $type: this.getTypeId(),\n        $data: data,\n        $id: messageId\n      };\n      this.outgoingMessages.add(messageId);\n      const listenFunction = (e) => {\n        const { data: data2 } = e;\n        if (data2.$type === this.getTypeId() && data2.$id === messageId && data2.$originId !== this.internalId) {\n          resolve(data2.$data);\n          self.removeEventListener(\"message\", listenFunction);\n        }\n      };\n      self.addEventListener(\"message\", listenFunction);\n      this._postMessage(message);\n    });\n  }\n  _postMessage(m) {\n    if (this.isWorker || typeof DedicatedWorkerGlobalScope !== \"undefined\" && this.target instanceof DedicatedWorkerGlobalScope) {\n      this.target.postMessage(m);\n    } else {\n      this.target.postMessage(m, \"*\");\n    }\n  }\n};\n\n// src/iframe-protocol.ts\nvar IFrameProtocol = class {\n  constructor(iframe, origin) {\n    this.globalListeners = {};\n    this.globalListenersCount = 0;\n    this.channelListeners = {};\n    this.channelListenersCount = 0;\n    this.channelId = Math.floor(Math.random() * 1e6);\n    this.frameWindow = iframe.contentWindow;\n    this.origin = origin;\n    this.globalListeners = [];\n    this.channelListeners = [];\n    this.eventListener = this.eventListener.bind(this);\n    if (typeof window !== \"undefined\") {\n      window.addEventListener(\"message\", this.eventListener);\n    }\n  }\n  cleanup() {\n    window.removeEventListener(\"message\", this.eventListener);\n    this.globalListeners = {};\n    this.channelListeners = {};\n    this.globalListenersCount = 0;\n    this.channelListenersCount = 0;\n  }\n  register() {\n    if (!this.frameWindow) {\n      return;\n    }\n    this.frameWindow.postMessage({\n      type: \"register-frame\",\n      origin: document.location.origin,\n      id: this.channelId\n    }, this.origin);\n  }\n  dispatch(message) {\n    if (!this.frameWindow) {\n      return;\n    }\n    this.frameWindow.postMessage({\n      $id: this.channelId,\n      codesandbox: true,\n      ...message\n    }, this.origin);\n  }\n  globalListen(listener) {\n    if (typeof listener !== \"function\") {\n      return () => {\n        return;\n      };\n    }\n    const listenerId = this.globalListenersCount;\n    this.globalListeners[listenerId] = listener;\n    this.globalListenersCount++;\n    return () => {\n      delete this.globalListeners[listenerId];\n    };\n  }\n  channelListen(listener) {\n    if (typeof listener !== \"function\") {\n      return () => {\n        return;\n      };\n    }\n    const listenerId = this.channelListenersCount;\n    this.channelListeners[listenerId] = listener;\n    this.channelListenersCount++;\n    return () => {\n      delete this.channelListeners[listenerId];\n    };\n  }\n  eventListener(evt) {\n    if (evt.source !== this.frameWindow) {\n      return;\n    }\n    const message = evt.data;\n    if (!message.codesandbox) {\n      return;\n    }\n    Object.values(this.globalListeners).forEach((listener) => listener(message));\n    if (message.$id !== this.channelId) {\n      return;\n    }\n    Object.values(this.channelListeners).forEach((listener) => listener(message));\n  }\n};\n\n// src/utils.ts\nfunction createPackageJSON(dependencies = {}, devDependencies = {}, entry = \"/index.js\") {\n  return JSON.stringify({\n    name: \"sandpack-project\",\n    main: entry,\n    dependencies,\n    devDependencies\n  }, null, 2);\n}\nfunction addPackageJSONIfNeeded(files, dependencies, devDependencies, entry) {\n  const newFiles = { ...files };\n  if (!newFiles[\"/package.json\"]) {\n    if (!dependencies) {\n      throw new Error(\"No dependencies specified, please specify either a package.json or dependencies.\");\n    }\n    if (!entry) {\n      throw new Error(\"Missing 'entry' parameter. Either specify an entry point, or pass in a package.json with the 'main' field set.\");\n    }\n    newFiles[\"/package.json\"] = {\n      code: createPackageJSON(dependencies, devDependencies, entry)\n    };\n  }\n  return newFiles;\n}\nfunction extractErrorDetails(msg) {\n  if (msg.title === \"SyntaxError\") {\n    const { title, path, message, line, column } = msg;\n    return { title, path, message, line, column };\n  }\n  const relevantStackFrame = getRelevantStackFrame(msg.payload.frames);\n  if (!relevantStackFrame) {\n    return { message: msg.message };\n  }\n  const errorInCode = getErrorInOriginalCode(relevantStackFrame);\n  const errorLocation = getErrorLocation(relevantStackFrame);\n  const errorMessage = formatErrorMessage(relevantStackFrame._originalFileName, msg.message, errorLocation, errorInCode);\n  return {\n    message: errorMessage,\n    title: msg.title,\n    path: relevantStackFrame._originalFileName,\n    line: relevantStackFrame._originalLineNumber,\n    column: relevantStackFrame._originalColumnNumber\n  };\n}\nfunction getRelevantStackFrame(frames) {\n  if (!frames) {\n    return;\n  }\n  return frames.find((frame) => !!frame._originalFileName);\n}\nfunction getErrorLocation(errorFrame) {\n  return errorFrame ? ` (${errorFrame._originalLineNumber}:${errorFrame._originalColumnNumber})` : ``;\n}\nfunction getErrorInOriginalCode(errorFrame) {\n  const lastScriptLine = errorFrame._originalScriptCode[errorFrame._originalScriptCode.length - 1];\n  const numberOfLineNumberCharacters = lastScriptLine.lineNumber.toString().length;\n  const leadingCharacterOffset = 2;\n  const barSeparatorCharacterOffset = 3;\n  const extraLineLeadingSpaces = leadingCharacterOffset + numberOfLineNumberCharacters + barSeparatorCharacterOffset + errorFrame._originalColumnNumber;\n  return errorFrame._originalScriptCode.reduce((result, scriptLine) => {\n    const leadingChar = scriptLine.highlight ? \">\" : \" \";\n    const lineNumber = scriptLine.lineNumber.toString().length === numberOfLineNumberCharacters ? `${scriptLine.lineNumber}` : ` ${scriptLine.lineNumber}`;\n    const extraLine = scriptLine.highlight ? \"\\n\" + \" \".repeat(extraLineLeadingSpaces) + \"^\" : \"\";\n    return result + \"\\n\" + leadingChar + \" \" + lineNumber + \" | \" + scriptLine.content + extraLine;\n  }, \"\");\n}\nfunction formatErrorMessage(filePath, message, location, errorInCode) {\n  return `${filePath}: ${message}${location}\n${errorInCode}`;\n}\n\n// src/client.ts\nvar BUNDLER_URL = `https://${\"0.19.0\".replace(/\\./g, \"-\")}-sandpack.codesandbox.io/`;\nvar SandpackClient = class {\n  constructor(selector, sandboxInfo, options = {}) {\n    this.getTranspilerContext = () => new Promise((resolve) => {\n      const unsubscribe = this.listen((message) => {\n        if (message.type === \"transpiler-context\") {\n          resolve(message.data);\n          unsubscribe();\n        }\n      });\n      this.dispatch({ type: \"get-transpiler-context\" });\n    });\n    var _a;\n    this.options = options;\n    this.sandboxInfo = sandboxInfo;\n    this.bundlerURL = options.bundlerURL || BUNDLER_URL;\n    this.bundlerState = void 0;\n    this.errors = [];\n    this.status = \"initializing\";\n    if (typeof selector === \"string\") {\n      this.selector = selector;\n      const element = document.querySelector(selector);\n      if (!element) {\n        throw new Error(`No element found for selector '${selector}'`);\n      }\n      this.element = element;\n      this.iframe = document.createElement(\"iframe\");\n      this.initializeElement();\n    } else {\n      this.element = selector;\n      this.iframe = selector;\n    }\n    if (!this.iframe.getAttribute(\"sandbox\")) {\n      this.iframe.setAttribute(\"sandbox\", \"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\");\n    }\n    const urlSource = options.startRoute ? new URL(options.startRoute, this.bundlerURL).toString() : this.bundlerURL;\n    (_a = this.iframe.contentWindow) == null ? void 0 : _a.location.replace(urlSource);\n    this.iframeProtocol = new IFrameProtocol(this.iframe, this.bundlerURL);\n    this.unsubscribeGlobalListener = this.iframeProtocol.globalListen((mes) => {\n      if (mes.type !== \"initialized\" || !this.iframe.contentWindow) {\n        return;\n      }\n      this.iframeProtocol.register();\n      if (this.options.fileResolver) {\n        this.fileResolverProtocol = new Protocol(\"file-resolver\", async (data) => {\n          if (data.m === \"isFile\") {\n            return this.options.fileResolver.isFile(data.p);\n          }\n          return this.options.fileResolver.readFile(data.p);\n        }, this.iframe.contentWindow);\n      }\n      this.updatePreview(this.sandboxInfo, true);\n    });\n    this.unsubscribeChannelListener = this.iframeProtocol.channelListen((mes) => {\n      switch (mes.type) {\n        case \"start\": {\n          this.errors = [];\n          break;\n        }\n        case \"status\": {\n          this.status = mes.status;\n          break;\n        }\n        case \"action\": {\n          if (mes.action === \"show-error\") {\n            this.errors = [...this.errors, extractErrorDetails(mes)];\n          }\n          break;\n        }\n        case \"state\": {\n          this.bundlerState = mes.state;\n          break;\n        }\n      }\n    });\n  }\n  cleanup() {\n    this.unsubscribeChannelListener();\n    this.unsubscribeGlobalListener();\n    this.iframeProtocol.cleanup();\n  }\n  updateOptions(options) {\n    if (!isEqual(this.options, options)) {\n      this.options = options;\n      this.updatePreview();\n    }\n  }\n  updatePreview(sandboxInfo = this.sandboxInfo, isInitializationCompile) {\n    var _a, _b, _c, _d;\n    this.sandboxInfo = {\n      ...this.sandboxInfo,\n      ...sandboxInfo\n    };\n    const files = this.getFiles();\n    const modules = Object.keys(files).reduce((prev, next) => ({\n      ...prev,\n      [next]: {\n        code: files[next].code,\n        path: next\n      }\n    }), {});\n    let packageJSON = JSON.parse(createPackageJSON(this.sandboxInfo.dependencies, this.sandboxInfo.devDependencies, this.sandboxInfo.entry));\n    try {\n      packageJSON = JSON.parse(files[\"/package.json\"].code);\n    } catch (e) {\n      console.error(\"Could not parse package.json file: \" + e.message);\n    }\n    const normalizedModules = Object.keys(files).reduce((prev, next) => ({\n      ...prev,\n      [next]: {\n        content: files[next].code,\n        path: next\n      }\n    }), {});\n    this.dispatch({\n      type: \"compile\",\n      codesandbox: true,\n      version: 3,\n      isInitializationCompile,\n      modules,\n      reactDevTools: this.options.reactDevTools,\n      externalResources: this.options.externalResources || [],\n      hasFileResolver: Boolean(this.options.fileResolver),\n      disableDependencyPreprocessing: this.sandboxInfo.disableDependencyPreprocessing,\n      template: this.sandboxInfo.template || getTemplate_1(packageJSON, normalizedModules),\n      showOpenInCodeSandbox: (_a = this.options.showOpenInCodeSandbox) != null ? _a : true,\n      showErrorScreen: (_b = this.options.showErrorScreen) != null ? _b : true,\n      showLoadingScreen: (_c = this.options.showLoadingScreen) != null ? _c : true,\n      skipEval: this.options.skipEval || false,\n      clearConsoleDisabled: !this.options.clearConsoleOnFirstCompile,\n      logLevel: (_d = this.options.logLevel) != null ? _d : SandpackLogLevel.Info\n    });\n  }\n  dispatch(message) {\n    this.iframeProtocol.dispatch(message);\n  }\n  listen(listener) {\n    return this.iframeProtocol.channelListen(listener);\n  }\n  getCodeSandboxURL() {\n    const files = this.getFiles();\n    const paramFiles = Object.keys(files).reduce((prev, next) => ({\n      ...prev,\n      [next.replace(\"/\", \"\")]: {\n        content: files[next].code,\n        isBinary: false\n      }\n    }), {});\n    return fetch(\"https://codesandbox.io/api/v1/sandboxes/define?json=1\", {\n      method: \"POST\",\n      body: JSON.stringify({ files: paramFiles }),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    }).then((x) => x.json()).then((res) => ({\n      sandboxId: res.sandbox_id,\n      editorUrl: `https://codesandbox.io/s/${res.sandbox_id}`,\n      embedUrl: `https://codesandbox.io/embed/${res.sandbox_id}`\n    }));\n  }\n  getFiles() {\n    const { sandboxInfo } = this;\n    if (sandboxInfo.files[\"/package.json\"] === void 0) {\n      return addPackageJSONIfNeeded(sandboxInfo.files, sandboxInfo.dependencies, sandboxInfo.devDependencies, sandboxInfo.entry);\n    }\n    return this.sandboxInfo.files;\n  }\n  initializeElement() {\n    this.iframe.style.border = \"0\";\n    this.iframe.style.width = this.options.width || \"100%\";\n    this.iframe.style.height = this.options.height || \"100%\";\n    this.iframe.style.overflow = \"hidden\";\n    if (!this.element.parentNode) {\n      throw new Error(\"Given element does not have a parent.\");\n    }\n    this.element.parentNode.replaceChild(this.iframe, this.element);\n  }\n};\n\n// src/types.ts\nvar SandpackLogLevel;\n(function(SandpackLogLevel2) {\n  SandpackLogLevel2[SandpackLogLevel2[\"None\"] = 0] = \"None\";\n  SandpackLogLevel2[SandpackLogLevel2[\"Error\"] = 10] = \"Error\";\n  SandpackLogLevel2[SandpackLogLevel2[\"Warning\"] = 20] = \"Warning\";\n  SandpackLogLevel2[SandpackLogLevel2[\"Info\"] = 30] = \"Info\";\n  SandpackLogLevel2[SandpackLogLevel2[\"Debug\"] = 40] = \"Debug\";\n})(SandpackLogLevel || (SandpackLogLevel = {}));\n\nfunction Preview(_a) {\r\n    var { className, files, presetConfig, show, children, codeConfig, style, frameless } = _a, rest = __rest(_a, [\"className\", \"files\", \"presetConfig\", \"show\", \"children\", \"codeConfig\", \"style\", \"frameless\"]);\r\n    const kids = presetConfig ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(SandpackPreview, { files: files, presetConfig: presetConfig })) : (children);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-preview\" + (className ? \" \" + className : \"\"), style: style }, frameless ? (kids) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(MiniBrowser, Object.assign({ loadUrl: show, theme: codeConfig.theme }, rest, { children: kids })))));\r\n}\r\nfunction SandpackPreview({ files, presetConfig, }) {\r\n    const iframeRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\r\n    const clientRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        clientRef.current = new SandpackClient(iframeRef.current, Object.assign(Object.assign({}, presetConfig), { files: mergeFiles(presetConfig.files, files) }), {\r\n            showOpenInCodeSandbox: false,\r\n            // showErrorScreen: false,\r\n            // showLoadingScreen: false,\r\n        });\r\n    }, []);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        if (clientRef.current) {\r\n            clientRef.current.updatePreview(Object.assign(Object.assign({}, presetConfig), { files: mergeFiles(presetConfig.files, files) }));\r\n        }\r\n    }, [files]);\r\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", { ref: iframeRef });\r\n}\r\nfunction mergeFiles(csbFiles, chFiles) {\r\n    const result = Object.assign({}, csbFiles);\r\n    chFiles.forEach(file => {\r\n        result[\"/\" + file.name] = {\r\n            code: file.code.lines\r\n                .map(l => l.tokens.map(t => t.content).join(\"\"))\r\n                .join(\"\\n\"),\r\n        };\r\n    });\r\n    return result;\r\n}\n\nfunction extractPreviewSteps(children, hasPreviewSteps) {\r\n    const allChildren = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(children);\r\n    const stepsChildren = hasPreviewSteps\r\n        ? allChildren.slice(0, allChildren.length / 2)\r\n        : allChildren;\r\n    const previewChildren = hasPreviewSteps\r\n        ? allChildren.slice(allChildren.length / 2)\r\n        : undefined;\r\n    return { stepsChildren, previewChildren };\r\n}\n\nfunction Spotlight(_a) {\r\n    var _b;\r\n    var { children, editorSteps, codeConfig, start = 0, presetConfig, className, style, hasPreviewSteps } = _a, rest = __rest(_a, [\"children\", \"editorSteps\", \"codeConfig\", \"start\", \"presetConfig\", \"className\", \"style\", \"hasPreviewSteps\"]);\r\n    const { stepsChildren, previewChildren } = extractPreviewSteps(children, hasPreviewSteps);\r\n    const withPreview = presetConfig || hasPreviewSteps;\r\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\r\n        stepIndex: start,\r\n        step: editorSteps[start],\r\n    });\r\n    const tab = state.step;\r\n    function onTabClick(filename) {\r\n        const newStep = updateEditorStep(state.step, filename, null);\r\n        setState(Object.assign(Object.assign({}, state), { step: newStep }));\r\n    }\r\n    const headerElement = stepsChildren[0];\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"section\", { className: `ch-spotlight ${withPreview ? \"ch-spotlight-with-preview\" : \"\"} ${className || \"\"}`, style: style },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-spotlight-tabs\" },\r\n            ((_b = headerElement === null || headerElement === void 0 ? void 0 : headerElement.props) === null || _b === void 0 ? void 0 : _b.children) ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, stepsChildren[0])) : null,\r\n            stepsChildren.map((children, i) => i === 0 ? null : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { key: i, onClick: () => setState({\r\n                    stepIndex: i,\r\n                    step: editorSteps[i],\r\n                }), className: \"ch-spotlight-tab\", \"data-selected\": i === state.stepIndex ? \"true\" : undefined }, children)))),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-spotlight-sticker\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerCode, Object.assign({}, rest, tab, { codeConfig: codeConfig, onTabClick: onTabClick })),\r\n            presetConfig ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Preview, { className: \"ch-spotlight-preview\", files: tab.files, presetConfig: presetConfig, codeConfig: codeConfig })) : hasPreviewSteps ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Preview, Object.assign({ className: \"ch-spotlight-preview\" }, previewChildren[state.stepIndex][\"props\"]))) : null)));\r\n}\n\nfunction debugEntries(entries) {\r\n    entries.forEach(showEntry);\r\n}\r\nfunction showEntry(entry) {\r\n    var _a;\r\n    const rootHeight = ((_a = entry.rootBounds) === null || _a === void 0 ? void 0 : _a.height) || 0;\r\n    addFlashingRect(entry.rootBounds, {\r\n        border: `${Math.min(10, rootHeight / 2)}px solid ${iodOptions.rootColor}`,\r\n        overflow: \"hidden\",\r\n        boxSizing: \"border-box\",\r\n    });\r\n    addFlashingRect(entry.boundingClientRect, {\r\n        border: `${Math.min(10, entry.boundingClientRect.height / 2)}px solid ${entry.isIntersecting\r\n            ? iodOptions.enterColor\r\n            : iodOptions.exitColor}`,\r\n        overflow: \"hidden\",\r\n        boxSizing: \"border-box\",\r\n    });\r\n    addFlashingRect(entry.intersectionRect, {\r\n        backgroundColor: iodOptions.interColor,\r\n        zIndex: 2,\r\n    });\r\n}\r\nfunction addFlashingRect(bounds, style = {}) {\r\n    const { width, left, height, top } = bounds;\r\n    const div = document.createElement(\"div\");\r\n    div.style.position = \"fixed\";\r\n    div.style.width = width + \"px\";\r\n    div.style.left = left + \"px\";\r\n    div.style.top = top + \"px\";\r\n    div.style.height = height + \"px\";\r\n    div.style.pointerEvents = \"none\";\r\n    div.style.transition = \"opacity 2s ease-in\";\r\n    Object.assign(div.style, style);\r\n    requestAnimationFrame(() => requestAnimationFrame(() => {\r\n        div.style.opacity = \"0\";\r\n    }));\r\n    div.addEventListener(\"transitionend\", () => {\r\n        document.body.removeChild(div);\r\n    });\r\n    document.body.appendChild(div);\r\n    return div;\r\n}\r\nconst iodOptions = {\r\n    rootColor: \"#9428AB\",\r\n    enterColor: \"#B35C00\",\r\n    exitColor: \"#035570\",\r\n    interColor: \"#9CAF00BB\",\r\n};\n\nconst useLayoutEffect$1 = typeof window !== \"undefined\"\r\n    ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect\r\n    : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\r\nfunction useWindowHeight() {\r\n    const isClient = typeof window === \"object\";\r\n    function getHeight() {\r\n        return isClient\r\n            ? document.documentElement.clientHeight\r\n            : undefined;\r\n    }\r\n    const [windowHeight, setWindowHeight] = react__WEBPACK_IMPORTED_MODULE_0__.useState(getHeight);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        function handleResize() {\r\n            setWindowHeight(getHeight());\r\n        }\r\n        window.addEventListener(\"resize\", handleResize);\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n    useLayoutEffect$1(() => {\r\n        // FIX when a horizontal scrollbar is added after the first layout\r\n        setWindowHeight(getHeight());\r\n    }, []);\r\n    return windowHeight;\r\n}\n\nconst ObserverContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(undefined);\r\nconst useLayoutEffect = typeof window !== \"undefined\"\r\n    ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect\r\n    : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\r\nfunction Scroller({ onStepChange, children, getRootMargin = defaultRootMargin, debug = false, }) {\r\n    const [observer, setObserver,] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\r\n    const vh = useWindowHeight();\r\n    useLayoutEffect(() => {\r\n        const windowHeight = vh || 0;\r\n        const handleIntersect = entries => {\r\n            if (debug || window.chDebugScroller) {\r\n                debugEntries(entries);\r\n            }\r\n            entries.forEach(entry => {\r\n                if (entry.intersectionRatio > 0) {\r\n                    const stepElement = entry.target;\r\n                    onStepChange(+stepElement.stepIndex);\r\n                }\r\n            });\r\n        };\r\n        const observer = newIntersectionObserver(handleIntersect, getRootMargin(windowHeight));\r\n        setObserver(observer);\r\n        return () => observer.disconnect();\r\n    }, [vh]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ObserverContext.Provider, { value: observer }, children));\r\n}\r\nfunction Step(_a) {\r\n    var { as = \"section\", index } = _a, props = __rest(_a, [\"as\", \"index\"]);\r\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\r\n    const observer = react__WEBPACK_IMPORTED_MODULE_0__.useContext(ObserverContext);\r\n    useLayoutEffect(() => {\r\n        if (observer) {\r\n            observer.observe(ref.current);\r\n        }\r\n        return () => observer && observer.unobserve(ref.current);\r\n    }, [observer]);\r\n    useLayoutEffect(() => {\r\n        const stepElement = ref.current;\r\n        stepElement.stepIndex = index;\r\n    }, [index]);\r\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(as, Object.assign(Object.assign({}, props), { ref }));\r\n}\r\nfunction newIntersectionObserver(handleIntersect, rootMargin) {\r\n    return new IntersectionObserver(handleIntersect, {\r\n        rootMargin,\r\n        threshold: 0.000001,\r\n        root: null,\r\n    });\r\n}\r\nfunction defaultRootMargin(vh) {\r\n    return `-${vh / 2 - 2}px 0px`;\r\n}\n\n// server-side-media-queries-for-react\r\nlet suffixCounter = 0;\r\n/**\r\n * @typedef SwapProps\r\n * @prop {[string, JSX.Element][]} match\r\n */\r\n/**\r\n * Swap between different components depending on the media queries\r\n * @param {SwapProps} props\r\n */\r\nfunction Swap({ match }) {\r\n    const queries = match.map(([q]) => q);\r\n    const { isServer, matchedIndex } = useMedia(queries);\r\n    const mainClassName = isServer\r\n        ? \"ssmq-\" + suffixCounter++\r\n        : \"\";\r\n    return isServer ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"style\", { className: mainClassName, dangerouslySetInnerHTML: {\r\n                __html: getStyle(queries, mainClassName),\r\n            } }),\r\n        match.map(([query, element]) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { key: query, className: `${mainClassName} ${getClassName(query)}` }, element))),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"script\", { className: mainClassName, dangerouslySetInnerHTML: {\r\n                __html: getScript(match, mainClassName),\r\n            } }))) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, match[matchedIndex][1])));\r\n}\r\nfunction getStyle(queries, mainClass) {\r\n    const reversedQueries = queries.slice().reverse();\r\n    const style = reversedQueries\r\n        .map(query => {\r\n        const currentStyle = `.${mainClass}.${getClassName(query)}{display:block}`;\r\n        const otherStyle = `.${mainClass}:not(.${getClassName(query)}){display: none;}`;\r\n        if (query === \"default\") {\r\n            return `${currentStyle}${otherStyle}`;\r\n        }\r\n        else {\r\n            return `@media ${query}{${currentStyle}${otherStyle}}`;\r\n        }\r\n    })\r\n        .join(\"\\n\");\r\n    return style;\r\n}\r\nfunction getScript(match, mainClass) {\r\n    const queries = match.map(([query]) => query);\r\n    const classes = queries.map(getClassName);\r\n    return `(function() {\n  var qs = ${JSON.stringify(queries)};\n  var clss = ${JSON.stringify(classes)};\n  var mainCls = \"${mainClass}\";\n\n  var scrEls = document.getElementsByTagName(\"script\");\n  var scrEl = scrEls[scrEls.length - 1];\n  var parent = scrEl.parentNode;\n\n  var el = null;\n  for (var i = 0; i < qs.length - 1; i++) {\n    if (window.matchMedia(qs[i]).matches) {\n      el = parent.querySelector(\":scope > .\" + mainCls + \".\" + clss[i]);\n      break;\n    }\n  }\n  if (!el) {\n    var defaultClass = clss.pop();\n    el = parent.querySelector(\":scope > .\" + mainCls + \".\" + defaultClass);\n  }\n  el.removeAttribute(\"class\");\n\n  parent.querySelectorAll(\":scope > .\" + mainCls).forEach(function (e) {\n    parent.removeChild(e);\n  });\n})();`;\r\n}\r\nfunction getClassName(string) {\r\n    return (\"ssmq-\" +\r\n        string\r\n            .replace(/[!\\\"#$%&'\\(\\)\\*\\+,\\.\\/:;<=>\\?\\@\\[\\\\\\]\\^`\\{\\|\\}~\\s]/g, \"\")\r\n            .toLowerCase());\r\n}\r\nfunction useMedia(queries) {\r\n    const isServer = typeof window === \"undefined\";\r\n    const allQueries = queries.slice(0, -1);\r\n    if (queries[queries.length - 1] !== \"default\") {\r\n        console.warn(\"last media query should be 'default'\");\r\n    }\r\n    const [, setValue] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\r\n    const mediaQueryLists = isServer\r\n        ? []\r\n        : allQueries.map(q => window.matchMedia(q));\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        const handler = () => setValue(x => x + 1);\r\n        mediaQueryLists.forEach(mql => mql.addListener(handler));\r\n        return () => mediaQueryLists.forEach(mql => mql.removeListener(handler));\r\n    }, []);\r\n    const matchedIndex = mediaQueryLists.findIndex(mql => mql.matches);\r\n    return {\r\n        isServer,\r\n        matchedIndex: matchedIndex < 0 ? queries.length - 1 : matchedIndex,\r\n    };\r\n}\n\nfunction CodeSlot() {\r\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(StaticStepContext);\r\n    if (!context) {\r\n        return null;\r\n    }\r\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerCodeSlot, Object.assign({}, context));\r\n}\r\nfunction InnerCodeSlot({ editorStep, setFocus }) {\r\n    const onTabClick = (filename) => {\r\n        setFocus({ fileName: filename, focus: null, id: \"\" });\r\n    };\r\n    const props = __rest(editorStep, [\"preset\", \"presetConfig\"]);\r\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerCode, Object.assign({}, props, { onTabClick: onTabClick }));\r\n}\r\nfunction PreviewSlot() {\r\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(StaticStepContext);\r\n    if (!context) {\r\n        return null;\r\n    }\r\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerPreviewSlot, Object.assign({}, context));\r\n}\r\nfunction InnerPreviewSlot({ previewStep, allProps, editorStep, }) {\r\n    const props = __rest(allProps, [\"preset\"]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Preview, Object.assign({ className: \"ch-scrollycoding-preview\" }, props, previewStep === null || previewStep === void 0 ? void 0 : previewStep.props, { files: editorStep.files })));\r\n}\r\nconst StaticStepContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\n\nfunction Scrollycoding(props) {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Swap, { match: [\r\n            [\r\n                props.codeConfig.staticMediaQuery,\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(StaticScrollycoding, Object.assign({}, props)),\r\n            ],\r\n            [\"default\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(DynamicScrollycoding, Object.assign({}, props))],\r\n        ] }));\r\n}\r\nfunction StaticScrollycoding(_a) {\r\n    var { children, hasPreviewSteps, editorSteps } = _a, rest = __rest(_a, [\"children\", \"hasPreviewSteps\", \"editorSteps\"]);\r\n    const { stepsChildren, previewChildren } = extractPreviewSteps(children, hasPreviewSteps);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"section\", { className: `ch-scrollycoding-static` }, stepsChildren.map((children, i) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(StaticSection, { key: i, editorStep: editorSteps[i], previewStep: previewChildren && previewChildren[i], allProps: rest }, children)))));\r\n}\r\nfunction StaticSection({ editorStep, previewStep, allProps, children, }) {\r\n    const [step, setStep] = react__WEBPACK_IMPORTED_MODULE_0__.useState(Object.assign(Object.assign({}, editorStep), allProps));\r\n    const resetFocus = () => setStep(Object.assign(Object.assign({}, editorStep), allProps));\r\n    const setFocus = ({ fileName, focus, id, }) => {\r\n        const newStep = updateEditorStep(step, fileName, focus);\r\n        setStep(Object.assign(Object.assign(Object.assign({}, step), newStep), { selectedId: id }));\r\n    };\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(StaticStepContext.Provider, { value: {\r\n            editorStep: step,\r\n            previewStep: previewStep,\r\n            allProps,\r\n            setFocus,\r\n        } },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(LinkableSection, { onActivation: setFocus, onReset: resetFocus }, children)));\r\n}\r\nfunction DynamicScrollycoding(_a) {\r\n    var { children, editorSteps, codeConfig, presetConfig, start = 0, className, style, hasPreviewSteps } = _a, rest = __rest(_a, [\"children\", \"editorSteps\", \"codeConfig\", \"presetConfig\", \"start\", \"className\", \"style\", \"hasPreviewSteps\"]);\r\n    const { stepsChildren, previewChildren } = extractPreviewSteps(children, hasPreviewSteps);\r\n    const withPreview = presetConfig || hasPreviewSteps;\r\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\r\n        stepIndex: start,\r\n        step: editorSteps[start],\r\n    });\r\n    const tab = state.step;\r\n    function onStepChange(index) {\r\n        setState({ stepIndex: index, step: editorSteps[index] });\r\n    }\r\n    function onTabClick(filename) {\r\n        const newStep = updateEditorStep(state.step, filename, null);\r\n        setState(Object.assign(Object.assign({}, state), { step: newStep }));\r\n    }\r\n    function onLinkActivation(stepIndex, filename, focus) {\r\n        const newStep = updateEditorStep(editorSteps[stepIndex], filename, focus);\r\n        setState(Object.assign(Object.assign({}, state), { stepIndex, step: newStep }));\r\n    }\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"section\", { className: `ch-scrollycoding ${withPreview ? \"ch-scrollycoding-with-preview\" : \"\"} ${className || \"\"}`, style: style },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-scrollycoding-content\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(Scroller, { onStepChange: onStepChange }, stepsChildren.map((children, i) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Step, { as: \"div\", key: i, index: i, onClick: () => onStepChange(i), className: \"ch-scrollycoding-step-content\", \"data-selected\": i === state.stepIndex ? \"true\" : undefined },\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(LinkableSection, { onActivation: ({ fileName, focus }) => {\r\n                        onLinkActivation(i, fileName, focus);\r\n                    }, onReset: () => {\r\n                        onStepChange(i);\r\n                    } }, children)))))),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-scrollycoding-sticker\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerCode, Object.assign({ showExpandButton: true }, rest, tab, { codeConfig: codeConfig, onTabClick: onTabClick })),\r\n            presetConfig ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Preview, { className: \"ch-scrollycoding-preview\", files: tab.files, presetConfig: presetConfig, codeConfig: codeConfig })) : hasPreviewSteps ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Preview, Object.assign({ className: \"ch-scrollycoding-preview\" }, previewChildren[state.stepIndex][\"props\"]))) : null)));\r\n}\n\nfunction Slideshow(_a) {\r\n    var { children, className, code, codeConfig, editorSteps, autoFocus, hasPreviewSteps, \r\n    // Set the initial slide index\r\n    start = 0, \r\n    // Called when the slideshow state changes and returns the current state object\r\n    onChange: onSlideshowChange = () => { }, presetConfig, style, autoPlay, loop = false } = _a, rest = __rest(_a, [\"children\", \"className\", \"code\", \"codeConfig\", \"editorSteps\", \"autoFocus\", \"hasPreviewSteps\", \"start\", \"onChange\", \"presetConfig\", \"style\", \"autoPlay\", \"loop\"]);\r\n    const { stepsChildren, previewChildren } = extractPreviewSteps(children, hasPreviewSteps);\r\n    const withPreview = presetConfig || hasPreviewSteps;\r\n    const hasNotes = stepsChildren.some((child) => { var _a; return (_a = child.props) === null || _a === void 0 ? void 0 : _a.children; });\r\n    const maxSteps = editorSteps.length - 1;\r\n    const [state, setState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(() => {\r\n        const startIndex = clamp$2(start, 0, maxSteps);\r\n        return {\r\n            stepIndex: startIndex,\r\n            step: editorSteps[startIndex],\r\n        };\r\n    });\r\n    const { stepIndex: currentIndex, step: tab } = state;\r\n    const atSlideshowEnd = currentIndex === maxSteps;\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        onSlideshowChange({ index: currentIndex });\r\n    }, [currentIndex]);\r\n    function onTabClick(filename) {\r\n        const newStep = updateEditorStep(tab, filename, null);\r\n        setState(Object.assign(Object.assign({}, state), { step: newStep }));\r\n    }\r\n    function setIndex(newIndex) {\r\n        const stepIndex = clamp$2(newIndex, 0, maxSteps);\r\n        setState({ stepIndex, step: editorSteps[stepIndex] });\r\n    }\r\n    function nextSlide() {\r\n        setState(s => {\r\n            const stepIndex = loop\r\n                ? (s.stepIndex + 1) % (maxSteps + 1)\r\n                : clamp$2(s.stepIndex + 1, 0, maxSteps);\r\n            return {\r\n                stepIndex,\r\n                step: editorSteps[stepIndex],\r\n            };\r\n        });\r\n    }\r\n    useInterval(nextSlide, autoPlay);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: `ch-slideshow ${withPreview ? \"ch-slideshow-with-preview\" : \"\"} ${className || \"\"}`, style: style },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-slideshow-slide\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(InnerCode, Object.assign({}, rest, tab, { codeConfig: Object.assign(Object.assign({}, codeConfig), code), onTabClick: onTabClick })),\r\n            presetConfig ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Preview, { className: \"ch-slideshow-preview\", files: tab.files, presetConfig: presetConfig, codeConfig: codeConfig })) : hasPreviewSteps ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Preview, Object.assign({ className: \"ch-slideshow-preview\" }, previewChildren[currentIndex][\"props\"]))) : null),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-slideshow-notes\" },\r\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-slideshow-range\" },\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { onClick: () => setIndex(currentIndex - 1), disabled: currentIndex === 0 }, \"Prev\"),\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", { max: maxSteps, min: 0, step: 1, type: \"range\", value: currentIndex, onChange: e => setIndex(+e.target.value), ref: useAutoFocusRef(autoFocus), autoFocus: autoFocus }),\r\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { onClick: nextSlide, disabled: atSlideshowEnd }, \"Next\")),\r\n            hasNotes && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"ch-slideshow-note\" }, stepsChildren[currentIndex])))));\r\n}\r\nfunction useAutoFocusRef(autoFocus) {\r\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n        autoFocus && ref.current.focus();\r\n    }, []);\r\n    return ref;\r\n}\n\nfunction Annotation() {\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, \"\\\"error: code hike remark plugin not running or annotation isn't at the right place\\\"\"));\r\n}\r\nconst annotationsMap = {\r\n    box: Box,\r\n    bg: MultilineMark,\r\n    label: Label,\r\n    link: CodeLink,\r\n    mark: Mark,\r\n    withClass: WithClass,\r\n};\r\nfunction Mark(props) {\r\n    if (props.isInline) {\r\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(InlineMark, Object.assign({}, props));\r\n    }\r\n    else {\r\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MultilineMark, Object.assign({}, props));\r\n    }\r\n}\r\nfunction MultilineMark({ children, data, style, theme, }) {\r\n    const className = `ch-code-multiline-mark ` + (data !== null && data !== void 0 ? data : \"\");\r\n    const bg = getColor(theme, ColorName.RangeHighlightBackground);\r\n    const border = getColor(theme, ColorName.EditorInfoForeground);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: Object.assign(Object.assign({}, style), { background: bg }), className: className },\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"ch-code-multiline-mark-border\", style: { background: border } }),\r\n        children));\r\n}\r\nfunction InlineMark({ children, data, theme, }) {\r\n    const bg = tryGuessColor(children) ||\r\n        transparent(getColor(theme, ColorName.CodeForeground), 0.2);\r\n    const className = \"ch-code-inline-mark \" + (data !== null && data !== void 0 ? data : \"\");\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: className, style: { background: bg } }, children));\r\n}\r\nfunction tryGuessColor(children) {\r\n    var _a, _b, _c;\r\n    const child = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(children)[0];\r\n    const grandChild = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(((_a = child === null || child === void 0 ? void 0 : child.props) === null || _a === void 0 ? void 0 : _a.children) || [])[0];\r\n    const grandGrandChild = react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(((_b = grandChild === null || grandChild === void 0 ? void 0 : grandChild.props) === null || _b === void 0 ? void 0 : _b.children) || [])[0];\r\n    const { color } = ((_c = grandGrandChild === null || grandGrandChild === void 0 ? void 0 : grandGrandChild.props) === null || _c === void 0 ? void 0 : _c.style) || {};\r\n    if (color) {\r\n        return transparent(color, 0.2);\r\n    }\r\n    return undefined;\r\n}\r\nfunction Box({ children, data, theme, }) {\r\n    var _a, _b;\r\n    const border = typeof data === \"string\"\r\n        ? data\r\n        : ((_b = (_a = theme.tokenColors.find((tc) => { var _a; return (_a = tc.scope) === null || _a === void 0 ? void 0 : _a.includes(\"string\"); })) === null || _a === void 0 ? void 0 : _a.settings) === null || _b === void 0 ? void 0 : _b.foreground) || \"yellow\";\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"ch-code-box-annotation\", style: { outline: `2px solid ${border}` } }, children));\r\n}\r\nfunction WithClass({ children, data, style, theme, }) {\r\n    const className = data;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { style: style, className: className }, children));\r\n}\r\nfunction Label({ children, data, style, theme, }) {\r\n    const bg = (theme.colors[\"editor.lineHighlightBackground\"] ||\r\n        theme.colors[\"editor.selectionHighlightBackground\"]);\r\n    const [hover, setHover] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: Object.assign(Object.assign({}, style), { background: hover ? bg : undefined }), onMouseEnter: () => setHover(true), onMouseLeave: () => setHover(false) },\r\n        children,\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: {\r\n                position: \"absolute\",\r\n                right: 0,\r\n                paddingRight: 16,\r\n                display: hover ? \"block\" : \"none\",\r\n                opacity: 0.7,\r\n            } }, (data === null || data === void 0 ? void 0 : data.children) || data)));\r\n}\r\nfunction CodeLink({ children, isInline, style, data, }) {\r\n    const url = (data === null || data === void 0 ? void 0 : data.url) || data;\r\n    const title = data === null || data === void 0 ? void 0 : data.title;\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", { href: url, title: title, className: isInline ? \"ch-code-inline-link\" : \"ch-code-link\", style: style }, children));\r\n}\n\nfunction InlineCode(_a) {\r\n    var { className, codeConfig, children, code } = _a, rest = __rest(_a, [\"className\", \"codeConfig\", \"children\", \"code\"]);\r\n    const { theme } = codeConfig;\r\n    const { lines } = code;\r\n    const allTokens = lines.flatMap(line => line.tokens);\r\n    const foreground = getColor(theme, ColorName.CodeForeground);\r\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", Object.assign({ className: \"ch-inline-code not-prose\" +\r\n            (className ? \" \" + className : \"\") }, rest),\r\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"code\", { style: {\r\n                [\"--ch-code-foreground\"]: foreground,\r\n                background: transparent(getColor(theme, ColorName.CodeBackground), 0.9),\r\n                color: foreground,\r\n            } }, allTokens.map((token, j) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", Object.assign({ key: j }, token.props), token.content))))));\r\n}\n\nconst CH = {\r\n    Code,\r\n    Section,\r\n    SectionLink,\r\n    SectionCode,\r\n    Spotlight,\r\n    Scrollycoding,\r\n    Preview,\r\n    annotations: annotationsMap,\r\n    Annotation,\r\n    Slideshow,\r\n    InlineCode,\r\n    CodeSlot,\r\n    PreviewSlot,\r\n};\r\nconst internal = {\r\n    MiniBrowser,\r\n    EditorSpring,\r\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGNvZGUtaGlrZS9tZHgvZGlzdC9jb21wb25lbnRzLmVzbS5tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0U7QUFDM0I7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLElBQUksRUFBRSxJQUFJO0FBQ3RELHNFQUFzRSxFQUFFLFdBQVc7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQSxlQUFlLGdDQUFnQyxFQUFFO0FBQ2pEO0FBQ0EsMEJBQTBCLEVBQUU7QUFDNUI7QUFDQSwwQkFBMEIsRUFBRTtBQUM1QjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCLHlCQUF5Qix5QkFBeUI7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsV0FBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxPQUFPO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4QkFBOEI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFD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QTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLEdBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFB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QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsVUFBVTtBQUNyQixXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBOztBQUU2TCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGNvZGUtaGlrZS9tZHgvZGlzdC9jb21wb25lbnRzLmVzbS5tanM/OGM2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyB9IGZyb20gJ3JlYWN0LWRvbSc7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XG5cbi8vIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzUzOTM2NjIzLzEzMjU2NDZcclxuY29uc3QgaXNWYWxpZEhleCA9IChoZXgpID0+IC9eIyhbQS1GYS1mMC05XXszLDR9KXsxLDJ9JC8udGVzdChoZXgpO1xyXG5jb25zdCBnZXRDaHVua3NGcm9tU3RyaW5nID0gKHN0LCBjaHVua1NpemUpID0+IHN0Lm1hdGNoKG5ldyBSZWdFeHAoYC57JHtjaHVua1NpemV9fWAsIFwiZ1wiKSk7XHJcbmNvbnN0IGNvbnZlcnRIZXhVbml0VG8yNTYgPSAoaGV4KSA9PiBwYXJzZUludChoZXgucmVwZWF0KDIgLyBoZXgubGVuZ3RoKSwgMTYpO1xyXG5mdW5jdGlvbiBnZXRBbHBoYUZsb2F0KGEsIGFscGhhKSB7XHJcbiAgICBpZiAodHlwZW9mIGEgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICByZXR1cm4gYSAvIDI1NTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgYWxwaGEgIT0gXCJudW1iZXJcIiB8fCBhbHBoYSA8IDAgfHwgYWxwaGEgPiAxKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYWxwaGE7XHJcbn1cclxuZnVuY3Rpb24gaGV4VG9PYmplY3QoaGV4KSB7XHJcbiAgICBpZiAoIWhleCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzVmFsaWRIZXgoaGV4KSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29sb3Igc3RyaW5nLCBtdXN0IGJlIGEgdmFsaWQgaGV4IGNvbG9yXCIpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY2h1bmtTaXplID0gTWF0aC5mbG9vcigoaGV4Lmxlbmd0aCAtIDEpIC8gMyk7XHJcbiAgICBjb25zdCBoZXhBcnIgPSBnZXRDaHVua3NGcm9tU3RyaW5nKGhleC5zbGljZSgxKSwgY2h1bmtTaXplKTtcclxuICAgIGNvbnN0IFtyLCBnLCBiLCBhXSA9IGhleEFyci5tYXAoY29udmVydEhleFVuaXRUbzI1Nik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHIsXHJcbiAgICAgICAgZyxcclxuICAgICAgICBiLFxyXG4gICAgICAgIGE6IGdldEFscGhhRmxvYXQoYSwgMSksXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIG9iamVjdFRvSGV4KG9iamVjdCkge1xyXG4gICAgaWYgKCFvYmplY3QpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgeyByLCBnLCBiLCBhIH0gPSBvYmplY3Q7XHJcbiAgICBjb25zdCBhbHBoYSA9IE1hdGgucm91bmQoYSAqIDI1NSk7XHJcbiAgICByZXR1cm4gYCMke3IudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKX0ke2dcclxuICAgICAgICAudG9TdHJpbmcoMTYpXHJcbiAgICAgICAgLnBhZFN0YXJ0KDIsIFwiMFwiKX0ke2JcclxuICAgICAgICAudG9TdHJpbmcoMTYpXHJcbiAgICAgICAgLnBhZFN0YXJ0KDIsIFwiMFwiKX0ke2FscGhhXHJcbiAgICAgICAgLnRvU3RyaW5nKDE2KVxyXG4gICAgICAgIC5wYWRTdGFydCgyLCBcIjBcIil9YDtcclxufVxyXG5mdW5jdGlvbiB0cmFuc3BhcmVudChjb2xvciwgb3BhY2l0eSkge1xyXG4gICAgaWYgKCFjb2xvcikge1xyXG4gICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgIH1cclxuICAgIGNvbnN0IHsgciwgZywgYiwgYSB9ID0gaGV4VG9PYmplY3QoY29sb3IpO1xyXG4gICAgcmV0dXJuIG9iamVjdFRvSGV4KHsgciwgZywgYiwgYTogYSAqIG9wYWNpdHkgfSk7XHJcbn1cblxuZnVuY3Rpb24gbWFwKHR3ZWVuLCBmbikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwcmV2OiBmbih0d2Vlbi5wcmV2LCBcInByZXZcIiksXHJcbiAgICAgICAgbmV4dDogZm4odHdlZW4ubmV4dCwgXCJuZXh0XCIpLFxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiB3aXRoRGVmYXVsdCh0LCBkZWZ0KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHByZXY6ICh0ID09PSBudWxsIHx8IHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHQucHJldikgPT09IHVuZGVmaW5lZCA/IGRlZnQgOiB0LnByZXYsXHJcbiAgICAgICAgbmV4dDogKHQgPT09IG51bGwgfHwgdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdC5uZXh0KSA9PT0gdW5kZWZpbmVkID8gZGVmdCA6IHQubmV4dCxcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gbWFwV2l0aERlZmF1bHQodHdlZW4sIGRlZnQsIGZuKSB7XHJcbiAgICByZXR1cm4gbWFwKHdpdGhEZWZhdWx0KHR3ZWVuLCBkZWZ0KSwgZm4pO1xyXG59XHJcbmZ1bmN0aW9uIGFueVZhbHVlKHR3ZWVuLCBmbikge1xyXG4gICAgcmV0dXJuIGZuKHR3ZWVuLnByZXYpIHx8IGZuKHR3ZWVuLm5leHQpO1xyXG59XG5cbmZ1bmN0aW9uIGNvZGVUb1RleHQoY29kZSkge1xyXG4gICAgcmV0dXJuIGNvZGUubGluZXNcclxuICAgICAgICAubWFwKGxpbmUgPT4gbGluZS50b2tlbnMubWFwKHRva2VuID0+IHRva2VuLmNvbnRlbnQpLmpvaW4oXCJcIikpXHJcbiAgICAgICAgLmpvaW4oXCJcXG5cIik7XHJcbn1cblxuZnVuY3Rpb24gbWFwRm9jdXNUb0xpbmVOdW1iZXJzKGZvY3VzLCBsaW5lcykge1xyXG4gICAgaWYgKCFmb2N1cykge1xyXG4gICAgICAgIC8vIGZvY3VzIGFsbCBsaW5lc1xyXG4gICAgICAgIHJldHVybiBtZXJnZVRvT2JqZWN0KFsuLi5saW5lcy5rZXlzKCldLm1hcChsaW5lSW5kZXggPT4gKHtcclxuICAgICAgICAgICAgW2xpbmVJbmRleCArIDFdOiB0cnVlLFxyXG4gICAgICAgIH0pKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbWVyZ2VUb09iamVjdChzcGxpdFBhcnRzKGZvY3VzKS5tYXAocGFyc2VQYXJ0VG9PYmplY3QpKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBzcGxpdFBhcnRzKGZvY3VzKSB7XHJcbiAgICByZXR1cm4gZm9jdXMuc3BsaXQoLywoPyFbXlxcW10qXFxdKS9nKTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZVRvT2JqZWN0KGVudHJpZXMpIHtcclxuICAgIHJldHVybiBlbnRyaWVzLnJlZHVjZSgoYWNjLCBvYmopID0+IE9iamVjdC5hc3NpZ24oYWNjLCBvYmopLCB7fSk7XHJcbn1cclxuZnVuY3Rpb24gaGFzQ29sdW1ucyhwYXJ0KSB7XHJcbiAgICByZXR1cm4gISFwYXJ0Lm1hdGNoKC8oXFxkKylcXFsoLispXFxdLyk7XHJcbn1cclxuZnVuY3Rpb24gcGFyc2VQYXJ0VG9PYmplY3QocGFydCkge1xyXG4gICAgLy8gYSBwYXJ0IGNvdWxkIGJlXHJcbiAgICAvLyAtIGEgbGluZSBudW1iZXI6IFwiMlwiXHJcbiAgICAvLyAtIGEgbGluZSByYW5nZTogXCI1OjlcIlxyXG4gICAgLy8gLSBhIGxpbmUgbnVtYmVyIHdpdGggYSBjb2x1bW4gc2VsZWN0b3I6IFwiMlsxLDM6NSw5XVwiXHJcbiAgICBjb25zdCBjb2x1bW5zTWF0Y2ggPSBwYXJ0Lm1hdGNoKC8oXFxkKylcXFsoLispXFxdLyk7XHJcbiAgICBpZiAoY29sdW1uc01hdGNoKSB7XHJcbiAgICAgICAgY29uc3QgWywgbGluZSwgY29sdW1uc10gPSBjb2x1bW5zTWF0Y2g7XHJcbiAgICAgICAgY29uc3QgY29sdW1uc0xpc3QgPSBjb2x1bW5zXHJcbiAgICAgICAgICAgIC5zcGxpdChcIixcIilcclxuICAgICAgICAgICAgLm1hcChwYXJzZUV4dHJlbWVzKTtcclxuICAgICAgICBjb25zdCBsaW5lTnVtYmVyID0gTnVtYmVyKGxpbmUpO1xyXG4gICAgICAgIHJldHVybiB7IFtsaW5lTnVtYmVyXTogY29sdW1uc0xpc3QgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBtZXJnZVRvT2JqZWN0KGV4cGFuZFN0cmluZyhwYXJ0KS5tYXAobGluZU51bWJlciA9PiAoe1xyXG4gICAgICAgICAgICBbbGluZU51bWJlcl06IHRydWUsXHJcbiAgICAgICAgfSkpKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBwYXJzZUV4dHJlbWVzKHBhcnQpIHtcclxuICAgIC8vIFRyYW5zZm9ybXMgc29tZXRoaW5nIGxpa2VcclxuICAgIC8vIC0gXCIxOjNcIiB0byB7c3RhcnQ6MSwgZW5kOiAzfVxyXG4gICAgLy8gLSBcIjRcIiB0byB7c3RhcnQ6NCwgZW5kOjR9XHJcbiAgICBjb25zdCBbc3RhcnQsIGVuZF0gPSBwYXJ0LnNwbGl0KFwiOlwiKTtcclxuICAgIGlmICghaXNOYXR1cmFsTnVtYmVyKHN0YXJ0KSkge1xyXG4gICAgICAgIHRocm93IG5ldyBGb2N1c051bWJlckVycm9yKHN0YXJ0KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0YXJ0TnVtYmVyID0gTnVtYmVyKHN0YXJ0KTtcclxuICAgIGlmIChzdGFydE51bWJlciA8IDEpIHtcclxuICAgICAgICB0aHJvdyBuZXcgTGluZU9yQ29sdW1uTnVtYmVyRXJyb3IoKTtcclxuICAgIH1cclxuICAgIGlmICghZW5kKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IHN0YXJ0TnVtYmVyLCBlbmQ6IHN0YXJ0TnVtYmVyIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoIWlzTmF0dXJhbE51bWJlcihlbmQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBGb2N1c051bWJlckVycm9yKGVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IHN0YXJ0OiBzdGFydE51bWJlciwgZW5kOiArZW5kIH07XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgZmlyc3QgYW5kIGxhc3QgaW5kZXhlcyB0byBmb2N1cywgYm90aCBpbmNsdWRlZFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Rm9jdXNFeHRyZW1lcyhmb2N1cywgbGluZXMpIHtcclxuICAgIGlmICghZm9jdXMpIHtcclxuICAgICAgICByZXR1cm4gWzAsIGxpbmVzLmxlbmd0aCAtIDFdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VGb2N1cyhmb2N1cyk7XHJcbiAgICAgICAgY29uc3QgZm9jdXNlZEluZGV4ZXMgPSBPYmplY3Qua2V5cyhwYXJzZWQpLm1hcChpID0+IHBhcnNlSW50KGksIDEwKSk7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgTWF0aC5taW4oLi4uZm9jdXNlZEluZGV4ZXMpLFxyXG4gICAgICAgICAgICBNYXRoLm1heCguLi5mb2N1c2VkSW5kZXhlcyksXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRGb2N1c0luZGV4ZXMoZm9jdXMsIGxpbmVzKSB7XHJcbiAgICBpZiAoIWZvY3VzKSB7XHJcbiAgICAgICAgcmV0dXJuIFsuLi5saW5lcy5rZXlzKCldO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VGb2N1cyhmb2N1cyk7XHJcbiAgICAgICAgY29uc3QgZm9jdXNlZEluZGV4ZXMgPSBPYmplY3Qua2V5cyhwYXJzZWQpLm1hcChpID0+IHBhcnNlSW50KGksIDEwKSk7XHJcbiAgICAgICAgcmV0dXJuIGZvY3VzZWRJbmRleGVzO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBhcnNlRm9jdXMoZm9jdXMpIHtcclxuICAgIGlmICghZm9jdXMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGb2N1cyBjYW5ub3QgYmUgZW1wdHlcIik7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gZm9jdXNcclxuICAgICAgICAgICAgLnNwbGl0KC8sKD8hW15cXFtdKlxcXSkvZylcclxuICAgICAgICAgICAgLm1hcChwYXJzZVBhcnQpO1xyXG4gICAgICAgIHJldHVybiBmcm9tRW50cmllcyhwYXJ0cy5mbGF0KCkpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgLy8gVE9ETyBlbmhhbmNlIGVycm9yXHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcGFyc2VQYXJ0KHBhcnQpIHtcclxuICAgIC8vIGEgcGFydCBjb3VsZCBiZVxyXG4gICAgLy8gLSBhIGxpbmUgbnVtYmVyOiBcIjJcIlxyXG4gICAgLy8gLSBhIGxpbmUgcmFuZ2U6IFwiNTo5XCJcclxuICAgIC8vIC0gYSBsaW5lIG51bWJlciB3aXRoIGEgY29sdW1uIHNlbGVjdG9yOiBcIjJbMSwzOjUsOV1cIlxyXG4gICAgY29uc3QgY29sdW1uc01hdGNoID0gcGFydC5tYXRjaCgvKFxcZCspXFxbKC4rKVxcXS8pO1xyXG4gICAgaWYgKGNvbHVtbnNNYXRjaCkge1xyXG4gICAgICAgIGNvbnN0IFssIGxpbmUsIGNvbHVtbnNdID0gY29sdW1uc01hdGNoO1xyXG4gICAgICAgIGNvbnN0IGNvbHVtbnNMaXN0ID0gY29sdW1ucy5zcGxpdChcIixcIikubWFwKGV4cGFuZFN0cmluZyk7XHJcbiAgICAgICAgY29uc3QgbGluZUluZGV4ID0gTnVtYmVyKGxpbmUpIC0gMTtcclxuICAgICAgICBjb25zdCBjb2x1bW5JbmRleGVzID0gY29sdW1uc0xpc3QuZmxhdCgpLm1hcChjID0+IGMgLSAxKTtcclxuICAgICAgICByZXR1cm4gW1tsaW5lSW5kZXgsIGNvbHVtbkluZGV4ZXNdXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBleHBhbmRTdHJpbmcocGFydCkubWFwKGxpbmVOdW1iZXIgPT4gW1xyXG4gICAgICAgICAgICBsaW5lTnVtYmVyIC0gMSxcclxuICAgICAgICAgICAgdHJ1ZSxcclxuICAgICAgICBdKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBleHBhbmRTdHJpbmcocGFydCkge1xyXG4gICAgLy8gVHJhbnNmb3JtcyBzb21ldGhpbmcgbGlrZVxyXG4gICAgLy8gLSBcIjE6M1wiIHRvIFsxLDIsM11cclxuICAgIC8vIC0gXCI0XCIgdG8gWzRdXHJcbiAgICBjb25zdCBbc3RhcnQsIGVuZF0gPSBwYXJ0LnNwbGl0KFwiOlwiKTtcclxuICAgIGlmICghaXNOYXR1cmFsTnVtYmVyKHN0YXJ0KSkge1xyXG4gICAgICAgIHRocm93IG5ldyBGb2N1c051bWJlckVycm9yKHN0YXJ0KTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN0YXJ0TnVtYmVyID0gTnVtYmVyKHN0YXJ0KTtcclxuICAgIGlmIChzdGFydE51bWJlciA8IDEpIHtcclxuICAgICAgICB0aHJvdyBuZXcgTGluZU9yQ29sdW1uTnVtYmVyRXJyb3IoKTtcclxuICAgIH1cclxuICAgIGlmICghZW5kKSB7XHJcbiAgICAgICAgcmV0dXJuIFtzdGFydE51bWJlcl07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoIWlzTmF0dXJhbE51bWJlcihlbmQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBGb2N1c051bWJlckVycm9yKGVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxpc3QgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnROdW1iZXI7IGkgPD0gK2VuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxpc3QucHVzaChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNOYXR1cmFsTnVtYmVyKG4pIHtcclxuICAgIG4gPSBuLnRvU3RyaW5nKCk7IC8vIGZvcmNlIHRoZSB2YWx1ZSBpbiBjYXNlIGl0IGlzIG5vdFxyXG4gICAgdmFyIG4xID0gTWF0aC5hYnMobiksIG4yID0gcGFyc2VJbnQobiwgMTApO1xyXG4gICAgcmV0dXJuICFpc05hTihuMSkgJiYgbjIgPT09IG4xICYmIG4xLnRvU3RyaW5nKCkgPT09IG47XHJcbn1cclxuY2xhc3MgTGluZU9yQ29sdW1uTnVtYmVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihgSW52YWxpZCBsaW5lIG9yIGNvbHVtbiBudW1iZXIgaW4gZm9jdXMgc3RyaW5nYCk7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBGb2N1c051bWJlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IobnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoYEludmFsaWQgbnVtYmVyIFwiJHtudW1iZXJ9XCIgaW4gZm9jdXMgc3RyaW5nYCk7XHJcbiAgICAgICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIG5ldy50YXJnZXQucHJvdG90eXBlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBmcm9tRW50cmllcyhwYWlycykge1xyXG4gICAgY29uc3QgcmVzdWx0ID0ge307XHJcbiAgICBsZXQgaW5kZXggPSAtMSwgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGg7XHJcbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xyXG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xyXG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XG5cbnZhciBDb2xvck5hbWU7XHJcbihmdW5jdGlvbiAoQ29sb3JOYW1lKSB7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiQ29kZUZvcmVncm91bmRcIl0gPSAwXSA9IFwiQ29kZUZvcmVncm91bmRcIjtcclxuICAgIENvbG9yTmFtZVtDb2xvck5hbWVbXCJDb2RlQmFja2dyb3VuZFwiXSA9IDFdID0gXCJDb2RlQmFja2dyb3VuZFwiO1xyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIkVkaXRvckZvcmVncm91bmRcIl0gPSAyXSA9IFwiRWRpdG9yRm9yZWdyb3VuZFwiO1xyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIkVkaXRvckJhY2tncm91bmRcIl0gPSAzXSA9IFwiRWRpdG9yQmFja2dyb3VuZFwiO1xyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIkZvY3VzQm9yZGVyXCJdID0gNF0gPSBcIkZvY3VzQm9yZGVyXCI7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiQWN0aXZlVGFiQmFja2dyb3VuZFwiXSA9IDVdID0gXCJBY3RpdmVUYWJCYWNrZ3JvdW5kXCI7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiQWN0aXZlVGFiRm9yZWdyb3VuZFwiXSA9IDZdID0gXCJBY3RpdmVUYWJGb3JlZ3JvdW5kXCI7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiSW5hY3RpdmVUYWJCYWNrZ3JvdW5kXCJdID0gN10gPSBcIkluYWN0aXZlVGFiQmFja2dyb3VuZFwiO1xyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIkluYWN0aXZlVGFiRm9yZWdyb3VuZFwiXSA9IDhdID0gXCJJbmFjdGl2ZVRhYkZvcmVncm91bmRcIjtcclxuICAgIENvbG9yTmFtZVtDb2xvck5hbWVbXCJFZGl0b3JHcm91cEJvcmRlclwiXSA9IDldID0gXCJFZGl0b3JHcm91cEJvcmRlclwiO1xyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIkVkaXRvckdyb3VwSGVhZGVyQmFja2dyb3VuZFwiXSA9IDEwXSA9IFwiRWRpdG9yR3JvdXBIZWFkZXJCYWNrZ3JvdW5kXCI7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiVGFiQm9yZGVyXCJdID0gMTFdID0gXCJUYWJCb3JkZXJcIjtcclxuICAgIENvbG9yTmFtZVtDb2xvck5hbWVbXCJBY3RpdmVUYWJCb3R0b21Cb3JkZXJcIl0gPSAxMl0gPSBcIkFjdGl2ZVRhYkJvdHRvbUJvcmRlclwiO1xyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIkxpbmVOdW1iZXJGb3JlZ3JvdW5kXCJdID0gMTNdID0gXCJMaW5lTnVtYmVyRm9yZWdyb3VuZFwiO1xyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIklucHV0Rm9yZWdyb3VuZFwiXSA9IDE0XSA9IFwiSW5wdXRGb3JlZ3JvdW5kXCI7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiSW5wdXRCYWNrZ3JvdW5kXCJdID0gMTVdID0gXCJJbnB1dEJhY2tncm91bmRcIjtcclxuICAgIENvbG9yTmFtZVtDb2xvck5hbWVbXCJJbnB1dEJvcmRlclwiXSA9IDE2XSA9IFwiSW5wdXRCb3JkZXJcIjtcclxuICAgIENvbG9yTmFtZVtDb2xvck5hbWVbXCJTZWxlY3Rpb25CYWNrZ3JvdW5kXCJdID0gMTddID0gXCJTZWxlY3Rpb25CYWNrZ3JvdW5kXCI7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiSWNvbkZvcmVncm91bmRcIl0gPSAxOF0gPSBcIkljb25Gb3JlZ3JvdW5kXCI7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiTGlzdEFjdGl2ZVNlbGVjdGlvbkJhY2tncm91bmRcIl0gPSAxOV0gPSBcIkxpc3RBY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kXCI7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiTGlzdEFjdGl2ZVNlbGVjdGlvbkZvcmVncm91bmRcIl0gPSAyMF0gPSBcIkxpc3RBY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kXCI7XHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiTGlzdEhvdmVyQmFja2dyb3VuZFwiXSA9IDIxXSA9IFwiTGlzdEhvdmVyQmFja2dyb3VuZFwiO1xyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIkxpc3RIb3ZlckZvcmVncm91bmRcIl0gPSAyMl0gPSBcIkxpc3RIb3ZlckZvcmVncm91bmRcIjtcclxuICAgIENvbG9yTmFtZVtDb2xvck5hbWVbXCJTaWRlQmFyQmFja2dyb3VuZFwiXSA9IDIzXSA9IFwiU2lkZUJhckJhY2tncm91bmRcIjtcclxuICAgIENvbG9yTmFtZVtDb2xvck5hbWVbXCJTaWRlQmFyRm9yZWdyb3VuZFwiXSA9IDI0XSA9IFwiU2lkZUJhckZvcmVncm91bmRcIjtcclxuICAgIENvbG9yTmFtZVtDb2xvck5hbWVbXCJTaWRlQmFyQm9yZGVyXCJdID0gMjVdID0gXCJTaWRlQmFyQm9yZGVyXCI7XHJcbiAgICAvLyBCYWNrZ3JvdW5kIGNvbG9yIGZvciB0aGUgaGlnaGxpZ2h0IG9mIGxpbmUgYXQgdGhlIGN1cnNvciBwb3NpdGlvblxyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIkxpbmVIaWdobGlnaHRCYWNrZ3JvdW5kXCJdID0gMjZdID0gXCJMaW5lSGlnaGxpZ2h0QmFja2dyb3VuZFwiO1xyXG4gICAgLy8gQmFja2dyb3VuZCBjb2xvciBvZiBoaWdobGlnaHRlZCByYW5nZXMsIGxpa2UgYnkgcXVpY2sgb3BlbiBhbmQgZmluZCBmZWF0dXJlc1xyXG4gICAgQ29sb3JOYW1lW0NvbG9yTmFtZVtcIlJhbmdlSGlnaGxpZ2h0QmFja2dyb3VuZFwiXSA9IDI3XSA9IFwiUmFuZ2VIaWdobGlnaHRCYWNrZ3JvdW5kXCI7XHJcbiAgICAvLyBGb3JlZ3JvdW5kIGNvbG9yIG9mIGluZm8gc3F1aWdnbGllcyBpbiB0aGUgZWRpdG9yXHJcbiAgICBDb2xvck5hbWVbQ29sb3JOYW1lW1wiRWRpdG9ySW5mb0ZvcmVncm91bmRcIl0gPSAyOF0gPSBcIkVkaXRvckluZm9Gb3JlZ3JvdW5kXCI7XHJcbn0pKENvbG9yTmFtZSB8fCAoQ29sb3JOYW1lID0ge30pKTtcclxuY29uc3QgY29udHJhc3RCb3JkZXIgPSBcIiM2RkMzREZcIjtcclxuLy8gZGVmYXVsdHMgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvYmxvYi9tYWluL3NyYy92cy93b3JrYmVuY2gvY29tbW9uL3RoZW1lLnRzXHJcbi8vIGFuZDogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvYmxvYi9tYWluL3NyYy92cy9lZGl0b3IvY29tbW9uL2NvcmUvZWRpdG9yQ29sb3JSZWdpc3RyeS50c1xyXG4vLyBhbmQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2Jsb2IvbWFpbi9zcmMvdnMvcGxhdGZvcm0vdGhlbWUvY29tbW9uL2NvbG9yUmVnaXN0cnkudHNcclxuLy8ga2V5cyBmcm9tIDogaHR0cHM6Ly9jb2RlLnZpc3VhbHN0dWRpby5jb20vYXBpL3JlZmVyZW5jZXMvdGhlbWUtY29sb3IjZWRpdG9yLWdyb3Vwcy10YWJzXHJcbmZ1bmN0aW9uIGdldENvbG9yKHRoZW1lLCBjb2xvck5hbWUpIHtcclxuICAgIHZhciBfYSwgX2I7XHJcbiAgICBjb25zdCBjb2xvcnMgPSB0aGVtZS5jb2xvcnMgfHwge307XHJcbiAgICBzd2l0Y2ggKGNvbG9yTmFtZSkge1xyXG4gICAgICAgIGNhc2UgQ29sb3JOYW1lLkNvZGVGb3JlZ3JvdW5kOlxyXG4gICAgICAgICAgICByZXR1cm4gKCgoX2EgPSBnZXRHbG9iYWxTZXR0aW5ncyh0aGVtZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JlZ3JvdW5kKSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5FZGl0b3JGb3JlZ3JvdW5kKSk7XHJcbiAgICAgICAgY2FzZSBDb2xvck5hbWUuQ29kZUJhY2tncm91bmQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoKChfYiA9IGdldEdsb2JhbFNldHRpbmdzKHRoZW1lKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJhY2tncm91bmQpIHx8XHJcbiAgICAgICAgICAgICAgICBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLkVkaXRvckJhY2tncm91bmQpKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5FZGl0b3JCYWNrZ3JvdW5kOlxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbG9yc1tcImVkaXRvci5iYWNrZ3JvdW5kXCJdIHx8XHJcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0KHRoZW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IFwiI2ZmZmZmZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IFwiIzFFMUUxRVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5FZGl0b3JGb3JlZ3JvdW5kOlxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbG9yc1tcImVkaXRvci5mb3JlZ3JvdW5kXCJdIHx8XHJcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0KHRoZW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IFwiIzMzMzMzM1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IFwiI0JCQkJCQlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjOiBcIiNmZmZmZmVcIixcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5Gb2N1c0JvcmRlcjpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJmb2N1c0JvcmRlclwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0RGVmYXVsdCh0aGVtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiBcIiMwMDkwRjFcIixcclxuICAgICAgICAgICAgICAgICAgICBkYXJrOiBcIiMwMDdGRDRcIixcclxuICAgICAgICAgICAgICAgICAgICBoYzogY29udHJhc3RCb3JkZXIsXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgY2FzZSBDb2xvck5hbWUuQWN0aXZlVGFiQmFja2dyb3VuZDpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJ0YWIuYWN0aXZlQmFja2dyb3VuZFwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5FZGl0b3JCYWNrZ3JvdW5kKSk7XHJcbiAgICAgICAgY2FzZSBDb2xvck5hbWUuQWN0aXZlVGFiRm9yZWdyb3VuZDpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJ0YWIuYWN0aXZlRm9yZWdyb3VuZFwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0RGVmYXVsdCh0aGVtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiBcIiMzMzMzMzNcIixcclxuICAgICAgICAgICAgICAgICAgICBoYzogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgY2FzZSBDb2xvck5hbWUuSW5hY3RpdmVUYWJCYWNrZ3JvdW5kOlxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbG9yc1tcInRhYi5pbmFjdGl2ZUJhY2tncm91bmRcIl0gfHxcclxuICAgICAgICAgICAgICAgIGdldERlZmF1bHQodGhlbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXJrOiBcIiMyRDJEMkRcIixcclxuICAgICAgICAgICAgICAgICAgICBsaWdodDogXCIjRUNFQ0VDXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5JbmFjdGl2ZVRhYkZvcmVncm91bmQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1widGFiLmluYWN0aXZlRm9yZWdyb3VuZFwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0RGVmYXVsdCh0aGVtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IHRyYW5zcGFyZW50KGdldENvbG9yKHRoZW1lLCBDb2xvck5hbWUuQWN0aXZlVGFiRm9yZWdyb3VuZCksIDAuNSksXHJcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IHRyYW5zcGFyZW50KGdldENvbG9yKHRoZW1lLCBDb2xvck5hbWUuQWN0aXZlVGFiRm9yZWdyb3VuZCksIDAuNyksXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIGNhc2UgQ29sb3JOYW1lLlRhYkJvcmRlcjpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJ0YWIuYm9yZGVyXCJdIHx8XHJcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0KHRoZW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFyazogXCIjMjUyNTI2XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IFwiI0YzRjNGM1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjOiBjb250cmFzdEJvcmRlcixcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5BY3RpdmVUYWJCb3R0b21Cb3JkZXI6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1widGFiLmFjdGl2ZUJvcmRlclwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5BY3RpdmVUYWJCYWNrZ3JvdW5kKSk7XHJcbiAgICAgICAgY2FzZSBDb2xvck5hbWUuRWRpdG9yR3JvdXBCb3JkZXI6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1wiZWRpdG9yR3JvdXAuYm9yZGVyXCJdIHx8XHJcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0KHRoZW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFyazogXCIjNDQ0NDQ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IFwiI0U3RTdFN1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjOiBjb250cmFzdEJvcmRlcixcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5FZGl0b3JHcm91cEhlYWRlckJhY2tncm91bmQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1wiZWRpdG9yR3JvdXBIZWFkZXIudGFic0JhY2tncm91bmRcIl0gfHxcclxuICAgICAgICAgICAgICAgIGdldERlZmF1bHQodGhlbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXJrOiBcIiMyNTI1MjZcIixcclxuICAgICAgICAgICAgICAgICAgICBsaWdodDogXCIjRjNGM0YzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5MaW5lTnVtYmVyRm9yZWdyb3VuZDpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJlZGl0b3JMaW5lTnVtYmVyLmZvcmVncm91bmRcIl0gfHxcclxuICAgICAgICAgICAgICAgIGdldERlZmF1bHQodGhlbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXJrOiBcIiM4NTg1ODVcIixcclxuICAgICAgICAgICAgICAgICAgICBsaWdodDogXCIjMjM3ODkzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IFwiI2ZmZmZmZVwiLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIGNhc2UgQ29sb3JOYW1lLklucHV0QmFja2dyb3VuZDpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJpbnB1dC5iYWNrZ3JvdW5kXCJdIHx8XHJcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0KHRoZW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFyazogXCIjM0MzQzNDXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IFwiI2ZmZmZmZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5JbnB1dEZvcmVncm91bmQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1wiaW5wdXQuZm9yZWdyb3VuZFwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5FZGl0b3JGb3JlZ3JvdW5kKSk7XHJcbiAgICAgICAgY2FzZSBDb2xvck5hbWUuSW5wdXRCb3JkZXI6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1wiaW5wdXQuYm9yZGVyXCJdIHx8XHJcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0KHRoZW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFyazogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IGNvbnRyYXN0Qm9yZGVyLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIGNhc2UgQ29sb3JOYW1lLlNlbGVjdGlvbkJhY2tncm91bmQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1wiZWRpdG9yLnNlbGVjdGlvbkJhY2tncm91bmRcIl0gfHxcclxuICAgICAgICAgICAgICAgIGdldERlZmF1bHQodGhlbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICBsaWdodDogXCIjQURENkZGXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGFyazogXCIjMjY0Rjc4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IFwiI2YzZjUxOFwiLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIGNhc2UgQ29sb3JOYW1lLkljb25Gb3JlZ3JvdW5kOlxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbG9yc1tcImljb24uZm9yZWdyb3VuZFwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0RGVmYXVsdCh0aGVtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IFwiI0M1QzVDNVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiBcIiM0MjQyNDJcIixcclxuICAgICAgICAgICAgICAgICAgICBoYzogXCIjRkZGRkZGXCIsXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgY2FzZSBDb2xvck5hbWUuU2lkZUJhckJhY2tncm91bmQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1wic2lkZUJhci5iYWNrZ3JvdW5kXCJdIHx8XHJcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0KHRoZW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFyazogXCIjMjUyNTI2XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IFwiI0YzRjNGM1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjOiBcIiMwMDAwMDBcIixcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5TaWRlQmFyRm9yZWdyb3VuZDpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJzaWRlQmFyLmZvcmVncm91bmRcIl0gfHxcclxuICAgICAgICAgICAgICAgIGdldENvbG9yKHRoZW1lLCBDb2xvck5hbWUuRWRpdG9yRm9yZWdyb3VuZCkpO1xyXG4gICAgICAgIGNhc2UgQ29sb3JOYW1lLlNpZGVCYXJCb3JkZXI6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1wic2lkZUJhci5ib3JkZXJcIl0gfHxcclxuICAgICAgICAgICAgICAgIGdldENvbG9yKHRoZW1lLCBDb2xvck5hbWUuU2lkZUJhckJhY2tncm91bmQpKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5MaXN0QWN0aXZlU2VsZWN0aW9uQmFja2dyb3VuZDpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJsaXN0LmFjdGl2ZVNlbGVjdGlvbkJhY2tncm91bmRcIl0gfHxcclxuICAgICAgICAgICAgICAgIGdldERlZmF1bHQodGhlbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXJrOiBcIiMwOTQ3NzFcIixcclxuICAgICAgICAgICAgICAgICAgICBsaWdodDogXCIjMDA2MEMwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IFwiIzAwMDAwMFwiLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIGNhc2UgQ29sb3JOYW1lLkxpc3RBY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kOlxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbG9yc1tcImxpc3QuYWN0aXZlU2VsZWN0aW9uRm9yZWdyb3VuZFwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0RGVmYXVsdCh0aGVtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IFwiI2ZmZmZmZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiBcIiNmZmZmZmVcIixcclxuICAgICAgICAgICAgICAgICAgICBoYzogXCIjZmZmZmZlXCIsXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgY2FzZSBDb2xvck5hbWUuTGlzdEhvdmVyQmFja2dyb3VuZDpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJsaXN0LmhvdmVyQmFja2dyb3VuZFwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0RGVmYXVsdCh0aGVtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IFwiIzJBMkQyRVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiBcIiNGMEYwRjBcIixcclxuICAgICAgICAgICAgICAgICAgICBoYzogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIGNhc2UgQ29sb3JOYW1lLkxpc3RIb3ZlckZvcmVncm91bmQ6XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbXCJsaXN0LmhvdmVyRm9yZWdyb3VuZFwiXSB8fCB1bmRlZmluZWQ7XHJcbiAgICAgICAgY2FzZSBDb2xvck5hbWUuTGluZUhpZ2hsaWdodEJhY2tncm91bmQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1wiZWRpdG9yLmxpbmVIaWdobGlnaHRCYWNrZ3JvdW5kXCJdIHx8XHJcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0KHRoZW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGFyazogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5SYW5nZUhpZ2hsaWdodEJhY2tncm91bmQ6XHJcbiAgICAgICAgICAgIHJldHVybiAoY29sb3JzW1wiZWRpdG9yLnJhbmdlSGlnaGxpZ2h0QmFja2dyb3VuZFwiXSB8fFxyXG4gICAgICAgICAgICAgICAgZ2V0RGVmYXVsdCh0aGVtZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IFwiI2ZmZmZmZjBiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IFwiI2ZkZmYwMDMzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICBjYXNlIENvbG9yTmFtZS5FZGl0b3JJbmZvRm9yZWdyb3VuZDpcclxuICAgICAgICAgICAgcmV0dXJuIChjb2xvcnNbXCJlZGl0b3IuaW5mb0ZvcmVncm91bmRcIl0gfHxcclxuICAgICAgICAgICAgICAgIGdldERlZmF1bHQodGhlbWUsIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXJrOiBcIiMzNzk0RkZcIixcclxuICAgICAgICAgICAgICAgICAgICBsaWdodDogXCIjMWE4NWZmXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGM6IFwiIzM3OTRGRlwiLFxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBcIiNmMDBcIjtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRDb2xvclNjaGVtZSh0aGVtZSkge1xyXG4gICAgY29uc3QgdGhlbWVUeXBlID0gZ2V0VGhlbWVUeXBlKHRoZW1lKTtcclxuICAgIGlmICh0aGVtZVR5cGUgPT09IFwiZGFya1wiKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiZGFya1wiO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodGhlbWVUeXBlID09PSBcImxpZ2h0XCIpIHtcclxuICAgICAgICByZXR1cm4gXCJsaWdodFwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxufVxyXG5mdW5jdGlvbiBnZXREZWZhdWx0KHRoZW1lLCBkZWZhdWx0cykge1xyXG4gICAgcmV0dXJuIGRlZmF1bHRzW2dldFRoZW1lVHlwZSh0aGVtZSldO1xyXG59XHJcbmZ1bmN0aW9uIGdldFRoZW1lVHlwZSh0aGVtZSkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgcmV0dXJuICh0aGVtZS50eXBlXHJcbiAgICAgICAgPyB0aGVtZS50eXBlXHJcbiAgICAgICAgOiAoKF9hID0gdGhlbWUubmFtZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJsaWdodFwiKSlcclxuICAgICAgICAgICAgPyBcImxpZ2h0XCJcclxuICAgICAgICAgICAgOiBcImRhcmtcIik7XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q29kZUNvbG9ycyh0aGVtZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBmZzogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5Db2RlRm9yZWdyb3VuZCksXHJcbiAgICAgICAgYmc6IGdldENvbG9yKHRoZW1lLCBDb2xvck5hbWUuQ29kZUJhY2tncm91bmQpLFxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZXRHbG9iYWxTZXR0aW5ncyh0aGVtZSkge1xyXG4gICAgbGV0IHNldHRpbmdzID0gdGhlbWUuc2V0dGluZ3NcclxuICAgICAgICA/IHRoZW1lLnNldHRpbmdzXHJcbiAgICAgICAgOiB0aGVtZS50b2tlbkNvbG9ycztcclxuICAgIGNvbnN0IGdsb2JhbFNldHRpbmcgPSBzZXR0aW5nc1xyXG4gICAgICAgID8gc2V0dGluZ3MuZmluZChzID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuICFzLm5hbWUgJiYgIXMuc2NvcGU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIHJldHVybiBnbG9iYWxTZXR0aW5nID09PSBudWxsIHx8IGdsb2JhbFNldHRpbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdsb2JhbFNldHRpbmcuc2V0dGluZ3M7XHJcbn1cblxuY29uc3QgdXNlTGF5b3V0RWZmZWN0JDQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICA/IFJlYWN0LnVzZUxheW91dEVmZmVjdFxyXG4gICAgOiBSZWFjdC51c2VFZmZlY3Q7XHJcbi8vIGZvciBkZWJ1Z2dpbmc6XHJcbi8vIGV4cG9ydCBjb25zdCB1c2VMYXlvdXRFZmZlY3QgPSAoXHJcbi8vICAgZWZmZWN0OiBhbnksXHJcbi8vICAgZGVwcz86IGFueVxyXG4vLyApID0+IHt9XHJcbi8vIGZyb20gaHR0cHM6Ly9vdmVycmVhY3RlZC5pby9tYWtpbmctc2V0aW50ZXJ2YWwtZGVjbGFyYXRpdmUtd2l0aC1yZWFjdC1ob29rcy9cclxuZnVuY3Rpb24gdXNlSW50ZXJ2YWwoY2FsbGJhY2ssIGRlbGF5KSB7XHJcbiAgICBjb25zdCBzYXZlZENhbGxiYWNrID0gUmVhY3QudXNlUmVmKGNhbGxiYWNrKTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgc2F2ZWRDYWxsYmFjay5jdXJyZW50ID0gY2FsbGJhY2s7XHJcbiAgICB9LCBbY2FsbGJhY2tdKTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFkZWxheSAmJiBkZWxheSAhPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpZCA9IHNldEludGVydmFsKCgpID0+IHNhdmVkQ2FsbGJhY2suY3VycmVudCgpLCBkZWxheSk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaWQpO1xyXG4gICAgfSwgW2RlbGF5XSk7XHJcbn1cblxuZnVuY3Rpb24gY2xhbXAkMih4LCBtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHgsIG1pbiksIG1heCk7XHJcbn1cblxuY29uc3QgREVGQVVMVF9XSURUSCA9IDIwMDtcclxuLy8gdHlwZSBEaW1lbnNpb25zUmVzdWx0ID0ge1xyXG4vLyAgIHdpZHRoOiBudW1iZXJcclxuLy8gICBoZWlnaHQ6IG51bWJlclxyXG4vLyAgIGxpbmVXaWR0aHM6IHsgcHJldjogbnVtYmVyOyBuZXh0OiBudW1iZXIgfVxyXG4vLyAgIGxpbmVIZWlnaHQ6IG51bWJlclxyXG4vLyAgIGNvbFdpZHRoOiBudW1iZXJcclxuLy8gfVxyXG5mdW5jdGlvbiB1c2VEaW1lbnNpb25zKGNvZGUsIGZvY3VzLCBtaW5Db2x1bW5zLCBsaW5lTnVtYmVycywgcm93cywgZGVwcykge1xyXG4gICAgY29uc3QgW2RpbWVuc2lvbnMsIHNldERpbWVuc2lvbnNdID0gUmVhY3QudXNlU3RhdGUobnVsbCk7XHJcbiAgICBjb25zdCB3aW5kb3dXaWR0aCA9IHVzZVdpbmRvd1dpZHRoKCk7XHJcbiAgICBjb25zdCBwcmV2TGluZVJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcclxuICAgIGNvbnN0IHsgcHJldkxvbmdlc3RMaW5lLCBuZXh0TG9uZ2VzdExpbmUsIGVsZW1lbnQgfSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHByZXZMb25nZXN0TGluZSA9IGdldExvbmdlc3RMaW5lKGNvZGUucHJldiwgZm9jdXMucHJldik7XHJcbiAgICAgICAgY29uc3QgbmV4dExvbmdlc3RMaW5lID0gZ2V0TG9uZ2VzdExpbmUoY29kZS5uZXh0LCBmb2N1cy5uZXh0KTtcclxuICAgICAgICBjb25zdCBsaW5lcyA9IChjb2RlLnByZXYgfHwgY29kZS5uZXh0KVxyXG4gICAgICAgICAgICAudHJpbUVuZCgpXHJcbiAgICAgICAgICAgIC5zcGxpdChuZXdsaW5lUmUpO1xyXG4gICAgICAgIGNvbnN0IGxhcmdlc3RMaW5lTnVtYmVyID0gTWF0aC5tYXgobGluZXMubGVuZ3RoLCAxMCk7XHJcbiAgICAgICAgaWYgKHJvd3MpIHtcclxuICAgICAgICAgICAgLy8gbWFrZSB0aGUgbGluZXMgbWF0Y2ggdGhlIHJlcXVlc3RlZCBudW1iZXIgb2Ygcm93c1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHRJbkxpbmVzID0gcm93cyA9PT0gXCJmb2N1c1wiXHJcbiAgICAgICAgICAgICAgICA/IGZvY3VzSGVpZ2h0SW5MaW5lcyhmb2N1cywgbGluZXMpXHJcbiAgICAgICAgICAgICAgICA6IHJvd3M7XHJcbiAgICAgICAgICAgIGxldCBpID0gbGluZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA8IGhlaWdodEluTGluZXMpIHtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2goXCJcIik7XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGV4dHJhIGxpbmVzIHRvIG1hdGNoIHRoZSByZXF1ZXN0ZWQgcm93c1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA+IGhlaWdodEluTGluZXMpIHtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIHdlIHJlbW92ZWQgcHJldkxvbmdlc3RMaW5lLCBhZGQgaXQgYmFja1xyXG4gICAgICAgICAgICBpZiAocHJldkxvbmdlc3RMaW5lICYmXHJcbiAgICAgICAgICAgICAgICAhbGluZXMuaW5jbHVkZXMocHJldkxvbmdlc3RMaW5lKSkge1xyXG4gICAgICAgICAgICAgICAgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0gPSBwcmV2TG9uZ2VzdExpbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYXZvZCBzZXR0aW5nIHRoZSByZWYgbW9yZSB0aGFuIG9uY2UgaHR0cHM6Ly9naXRodWIuY29tL2NvZGUtaGlrZS9jb2RlaGlrZS9pc3N1ZXMvMjMyXHJcbiAgICAgICAgbGV0IHByZXZMaW5lUmVmU2V0ID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiY29kZVwiLCB7IGNsYXNzTmFtZTogXCJjaC1jb2RlLXNjcm9sbC1wYXJlbnRcIiB9LFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCksXHJcbiAgICAgICAgICAgIGxpbmVzLm1hcCgobGluZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVmID0gIXByZXZMaW5lUmVmU2V0ICYmIGxpbmUgPT09IHByZXZMb25nZXN0TGluZVxyXG4gICAgICAgICAgICAgICAgICAgID8gcHJldkxpbmVSZWZcclxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHByZXZMaW5lUmVmU2V0ID0gcHJldkxpbmVSZWZTZXQgfHwgcmVmICE9IG51bGw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHJlZiwga2V5OiBpIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcnMgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2gtY29kZS1saW5lLW51bWJlclwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiX1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXJnZXN0TGluZU51bWJlcikpIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlZnRQYWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IDE2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIGxpbmUpKSkpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpKSk7XHJcbiAgICAgICAgcmV0dXJuIHsgcHJldkxvbmdlc3RMaW5lLCBuZXh0TG9uZ2VzdExpbmUsIGVsZW1lbnQgfTtcclxuICAgIH0sIFtjb2RlXSk7XHJcbiAgICBjb25zdCBhbGxEZXBzID0gW1xyXG4gICAgICAgIC4uLmRlcHMsXHJcbiAgICAgICAgd2luZG93V2lkdGgsXHJcbiAgICAgICAgcHJldkxvbmdlc3RMaW5lLFxyXG4gICAgICAgIG5leHRMb25nZXN0TGluZSxcclxuICAgICAgICBtaW5Db2x1bW5zLFxyXG4gICAgXTtcclxuICAgIHVzZUxheW91dEVmZmVjdCQ0KCgpID0+IHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgaWYgKHByZXZMaW5lUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgY29uc3QgcGxsID0gcHJldkxpbmVSZWYuY3VycmVudDtcclxuICAgICAgICAgICAgY29uc3QgY29udGVudEVsZW1lbnQgPSBwbGwgPT09IG51bGwgfHwgcGxsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwbGwucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgY29kZUVsZW1lbnQgPSBjb250ZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAvLyBUT0RPIGlzIGl0IGNsaWVudFdpZHRoIG9yIGNsaWVudFJlY3Q/XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVDb250ZW50RGl2ID0gcGxsID09PSBudWxsIHx8IHBsbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxsLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgPiBkaXZcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVOdW1iZXJTcGFuID0gcGxsID09PSBudWxsIHx8IHBsbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGxsLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgPiBzcGFuXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBsbncgPSBsaW5lTnVtYmVyU3BhblxyXG4gICAgICAgICAgICAgICAgPyBnZXRXaWR0aFdpdGhQYWRkaW5nKGxpbmVOdW1iZXJTcGFuKVxyXG4gICAgICAgICAgICAgICAgOiAwO1xyXG4gICAgICAgICAgICBjb25zdCBwbHcgPSBnZXRXaWR0aFdpdGhvdXRQYWRkaW5nKGxpbmVDb250ZW50RGl2KTtcclxuICAgICAgICAgICAgY29uc3QgY29sV2lkdGggPSBwbHcgLyBwcmV2TG9uZ2VzdExpbmUubGVuZ3RoIHx8IDE7XHJcbiAgICAgICAgICAgIGNvbnN0IG5sdyA9IG5leHRMb25nZXN0TGluZS5sZW5ndGggKiBjb2xXaWR0aDtcclxuICAgICAgICAgICAgY29uc3QgbGluZUhlaWdodCA9IChfYSA9IGdldEhlaWdodFdpdGhvdXRQYWRkaW5nKGxpbmVDb250ZW50RGl2KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMjA7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXJXaWR0aDogZ2V0V2lkdGhXaXRob3V0UGFkZGluZyhjb2RlRWxlbWVudC5wYXJlbnRFbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckhlaWdodDogZ2V0SGVpZ2h0V2l0aG91dFBhZGRpbmcoY29kZUVsZW1lbnQucGFyZW50RWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICBjb250ZW50V2lkdGg6IGdldFdpZHRoV2l0aG91dFBhZGRpbmcoY29udGVudEVsZW1lbnQucGFyZW50RWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICBjb250ZW50SGVpZ2h0OiBnZXRIZWlnaHRXaXRob3V0UGFkZGluZyhjb250ZW50RWxlbWVudC5wYXJlbnRFbGVtZW50KSxcclxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBwbHcgfHwgbmx3IHx8IERFRkFVTFRfV0lEVEgsXHJcbiAgICAgICAgICAgICAgICAgICAgbmx3IHx8IHBsdyB8fCBERUZBVUxUX1dJRFRILFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogW1xyXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHBsdyB8fCBubHcgfHwgREVGQVVMVF9XSURUSCwgY29sV2lkdGggKiBtaW5Db2x1bW5zKSxcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChubHcgfHwgcGx3IHx8IERFRkFVTFRfV0lEVEgsIGNvbFdpZHRoICogbWluQ29sdW1ucyksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodCxcclxuICAgICAgICAgICAgICAgIGNvbFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgbGluZU51bWJlcldpZHRoOiBsbncsXHJcbiAgICAgICAgICAgICAgICBkZXBzOiBhbGxEZXBzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzZXREaW1lbnNpb25zKGQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIGFsbERlcHMpO1xyXG4gICAgaWYgKCFkaW1lbnNpb25zIHx8XHJcbiAgICAgICAgZGVwc0NoYW5nZWQoZGltZW5zaW9ucy5kZXBzLCBhbGxEZXBzKSkge1xyXG4gICAgICAgIHJldHVybiB7IGVsZW1lbnQsIGRpbWVuc2lvbnM6IG51bGwgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7IGVsZW1lbnQsIGRpbWVuc2lvbnMgfTtcclxuICAgIH1cclxufVxyXG5jb25zdCBuZXdsaW5lUmUgPSAvXFxyXFxufFxccnxcXG4vO1xyXG5mdW5jdGlvbiBnZXRMb25nZXN0TGluZShjb2RlLCBmb2N1cykge1xyXG4gICAgY29uc3QgbGluZXMgPSBjb2RlID8gY29kZS5zcGxpdChuZXdsaW5lUmUpIDogW1wiXCJdO1xyXG4gICAgY29uc3QgZm9jdXNJbmRleGVzID0gZ2V0Rm9jdXNJbmRleGVzKGZvY3VzLCBsaW5lcyk7XHJcbiAgICBsZXQgbG9uZ2VzdExpbmUgPSBcIlwiO1xyXG4gICAgbGluZXMuZm9yRWFjaCgobGluZSwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZm9jdXNJbmRleGVzLmluY2x1ZGVzKGluZGV4KSAmJlxyXG4gICAgICAgICAgICBsaW5lLmxlbmd0aCA+IGxvbmdlc3RMaW5lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsb25nZXN0TGluZSA9IGxpbmU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbG9uZ2VzdExpbmU7XHJcbn1cclxuZnVuY3Rpb24gZ2V0V2lkdGhXaXRob3V0UGFkZGluZyhlbGVtZW50KSB7XHJcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcclxuICAgIHJldHVybiAocGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLndpZHRoKSAtXHJcbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLnBhZGRpbmdMZWZ0KSAtXHJcbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLnBhZGRpbmdSaWdodCkpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFdpZHRoV2l0aFBhZGRpbmcoZWxlbWVudCkge1xyXG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XHJcbiAgICByZXR1cm4gcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLndpZHRoKTtcclxufVxyXG5mdW5jdGlvbiBnZXRIZWlnaHRXaXRob3V0UGFkZGluZyhlbGVtZW50KSB7XHJcbiAgICBpZiAoIWVsZW1lbnQpXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcclxuICAgIHJldHVybiAocGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLmhlaWdodCkgLVxyXG4gICAgICAgIHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZS5wYWRkaW5nVG9wKSAtXHJcbiAgICAgICAgcGFyc2VGbG9hdChjb21wdXRlZFN0eWxlLnBhZGRpbmdCb3R0b20pKTtcclxufVxyXG5mdW5jdGlvbiBkZXBzQ2hhbmdlZChvbGREZXBzLCBuZXdEZXBzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZERlcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAob2xkRGVwc1tpXSAhPT0gbmV3RGVwc1tpXSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gdXNlV2luZG93V2lkdGgoKSB7XHJcbiAgICBjb25zdCBbd2lkdGgsIHNldFdpZHRoXSA9IFJlYWN0LnVzZVN0YXRlKHVuZGVmaW5lZCk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZSgpIHtcclxuICAgICAgICAgICAgc2V0V2lkdGgod2luZG93LmlubmVyV2lkdGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xyXG4gICAgfSwgW10pO1xyXG4gICAgcmV0dXJuIHdpZHRoO1xyXG59XHJcbmZ1bmN0aW9uIGZvY3VzSGVpZ2h0SW5MaW5lcyhmb2N1cywgbGluZXMpIHtcclxuICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IGdldEZvY3VzRXh0cmVtZXMoZm9jdXMucHJldiwgbGluZXMpO1xyXG4gICAgcmV0dXJuIGVuZCAtIHN0YXJ0ICsgMTtcclxufVxuXG5mdW5jdGlvbiBEaWZmKCkge31cbkRpZmYucHJvdG90eXBlID0ge1xuICBkaWZmOiBmdW5jdGlvbiBkaWZmKG9sZFN0cmluZywgbmV3U3RyaW5nKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHZhciBjYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2s7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGRvbmUodmFsdWUpIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjYWxsYmFjayh1bmRlZmluZWQsIHZhbHVlKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0gLy8gQWxsb3cgc3ViY2xhc3NlcyB0byBtYXNzYWdlIHRoZSBpbnB1dCBwcmlvciB0byBydW5uaW5nXG5cblxuICAgIG9sZFN0cmluZyA9IHRoaXMuY2FzdElucHV0KG9sZFN0cmluZyk7XG4gICAgbmV3U3RyaW5nID0gdGhpcy5jYXN0SW5wdXQobmV3U3RyaW5nKTtcbiAgICBvbGRTdHJpbmcgPSB0aGlzLnJlbW92ZUVtcHR5KHRoaXMudG9rZW5pemUob2xkU3RyaW5nKSk7XG4gICAgbmV3U3RyaW5nID0gdGhpcy5yZW1vdmVFbXB0eSh0aGlzLnRva2VuaXplKG5ld1N0cmluZykpO1xuICAgIHZhciBuZXdMZW4gPSBuZXdTdHJpbmcubGVuZ3RoLFxuICAgICAgICBvbGRMZW4gPSBvbGRTdHJpbmcubGVuZ3RoO1xuICAgIHZhciBlZGl0TGVuZ3RoID0gMTtcbiAgICB2YXIgbWF4RWRpdExlbmd0aCA9IG5ld0xlbiArIG9sZExlbjtcbiAgICB2YXIgYmVzdFBhdGggPSBbe1xuICAgICAgbmV3UG9zOiAtMSxcbiAgICAgIGNvbXBvbmVudHM6IFtdXG4gICAgfV07IC8vIFNlZWQgZWRpdExlbmd0aCA9IDAsIGkuZS4gdGhlIGNvbnRlbnQgc3RhcnRzIHdpdGggdGhlIHNhbWUgdmFsdWVzXG5cbiAgICB2YXIgb2xkUG9zID0gdGhpcy5leHRyYWN0Q29tbW9uKGJlc3RQYXRoWzBdLCBuZXdTdHJpbmcsIG9sZFN0cmluZywgMCk7XG5cbiAgICBpZiAoYmVzdFBhdGhbMF0ubmV3UG9zICsgMSA+PSBuZXdMZW4gJiYgb2xkUG9zICsgMSA+PSBvbGRMZW4pIHtcbiAgICAgIC8vIElkZW50aXR5IHBlciB0aGUgZXF1YWxpdHkgYW5kIHRva2VuaXplclxuICAgICAgcmV0dXJuIGRvbmUoW3tcbiAgICAgICAgdmFsdWU6IHRoaXMuam9pbihuZXdTdHJpbmcpLFxuICAgICAgICBjb3VudDogbmV3U3RyaW5nLmxlbmd0aFxuICAgICAgfV0pO1xuICAgIH0gLy8gTWFpbiB3b3JrZXIgbWV0aG9kLiBjaGVja3MgYWxsIHBlcm11dGF0aW9ucyBvZiBhIGdpdmVuIGVkaXQgbGVuZ3RoIGZvciBhY2NlcHRhbmNlLlxuXG5cbiAgICBmdW5jdGlvbiBleGVjRWRpdExlbmd0aCgpIHtcbiAgICAgIGZvciAodmFyIGRpYWdvbmFsUGF0aCA9IC0xICogZWRpdExlbmd0aDsgZGlhZ29uYWxQYXRoIDw9IGVkaXRMZW5ndGg7IGRpYWdvbmFsUGF0aCArPSAyKSB7XG4gICAgICAgIHZhciBiYXNlUGF0aCA9IHZvaWQgMDtcblxuICAgICAgICB2YXIgYWRkUGF0aCA9IGJlc3RQYXRoW2RpYWdvbmFsUGF0aCAtIDFdLFxuICAgICAgICAgICAgcmVtb3ZlUGF0aCA9IGJlc3RQYXRoW2RpYWdvbmFsUGF0aCArIDFdLFxuICAgICAgICAgICAgX29sZFBvcyA9IChyZW1vdmVQYXRoID8gcmVtb3ZlUGF0aC5uZXdQb3MgOiAwKSAtIGRpYWdvbmFsUGF0aDtcblxuICAgICAgICBpZiAoYWRkUGF0aCkge1xuICAgICAgICAgIC8vIE5vIG9uZSBlbHNlIGlzIGdvaW5nIHRvIGF0dGVtcHQgdG8gdXNlIHRoaXMgdmFsdWUsIGNsZWFyIGl0XG4gICAgICAgICAgYmVzdFBhdGhbZGlhZ29uYWxQYXRoIC0gMV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2FuQWRkID0gYWRkUGF0aCAmJiBhZGRQYXRoLm5ld1BvcyArIDEgPCBuZXdMZW4sXG4gICAgICAgICAgICBjYW5SZW1vdmUgPSByZW1vdmVQYXRoICYmIDAgPD0gX29sZFBvcyAmJiBfb2xkUG9zIDwgb2xkTGVuO1xuXG4gICAgICAgIGlmICghY2FuQWRkICYmICFjYW5SZW1vdmUpIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIHBhdGggaXMgYSB0ZXJtaW5hbCB0aGVuIHBydW5lXG4gICAgICAgICAgYmVzdFBhdGhbZGlhZ29uYWxQYXRoXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBTZWxlY3QgdGhlIGRpYWdvbmFsIHRoYXQgd2Ugd2FudCB0byBicmFuY2ggZnJvbS4gV2Ugc2VsZWN0IHRoZSBwcmlvclxuICAgICAgICAvLyBwYXRoIHdob3NlIHBvc2l0aW9uIGluIHRoZSBuZXcgc3RyaW5nIGlzIHRoZSBmYXJ0aGVzdCBmcm9tIHRoZSBvcmlnaW5cbiAgICAgICAgLy8gYW5kIGRvZXMgbm90IHBhc3MgdGhlIGJvdW5kcyBvZiB0aGUgZGlmZiBncmFwaFxuXG5cbiAgICAgICAgaWYgKCFjYW5BZGQgfHwgY2FuUmVtb3ZlICYmIGFkZFBhdGgubmV3UG9zIDwgcmVtb3ZlUGF0aC5uZXdQb3MpIHtcbiAgICAgICAgICBiYXNlUGF0aCA9IGNsb25lUGF0aChyZW1vdmVQYXRoKTtcbiAgICAgICAgICBzZWxmLnB1c2hDb21wb25lbnQoYmFzZVBhdGguY29tcG9uZW50cywgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiYXNlUGF0aCA9IGFkZFBhdGg7IC8vIE5vIG5lZWQgdG8gY2xvbmUsIHdlJ3ZlIHB1bGxlZCBpdCBmcm9tIHRoZSBsaXN0XG5cbiAgICAgICAgICBiYXNlUGF0aC5uZXdQb3MrKztcbiAgICAgICAgICBzZWxmLnB1c2hDb21wb25lbnQoYmFzZVBhdGguY29tcG9uZW50cywgdHJ1ZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9vbGRQb3MgPSBzZWxmLmV4dHJhY3RDb21tb24oYmFzZVBhdGgsIG5ld1N0cmluZywgb2xkU3RyaW5nLCBkaWFnb25hbFBhdGgpOyAvLyBJZiB3ZSBoYXZlIGhpdCB0aGUgZW5kIG9mIGJvdGggc3RyaW5ncywgdGhlbiB3ZSBhcmUgZG9uZVxuXG4gICAgICAgIGlmIChiYXNlUGF0aC5uZXdQb3MgKyAxID49IG5ld0xlbiAmJiBfb2xkUG9zICsgMSA+PSBvbGRMZW4pIHtcbiAgICAgICAgICByZXR1cm4gZG9uZShidWlsZFZhbHVlcyhzZWxmLCBiYXNlUGF0aC5jb21wb25lbnRzLCBuZXdTdHJpbmcsIG9sZFN0cmluZywgc2VsZi51c2VMb25nZXN0VG9rZW4pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgdHJhY2sgdGhpcyBwYXRoIGFzIGEgcG90ZW50aWFsIGNhbmRpZGF0ZSBhbmQgY29udGludWUuXG4gICAgICAgICAgYmVzdFBhdGhbZGlhZ29uYWxQYXRoXSA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVkaXRMZW5ndGgrKztcbiAgICB9IC8vIFBlcmZvcm1zIHRoZSBsZW5ndGggb2YgZWRpdCBpdGVyYXRpb24uIElzIGEgYml0IGZ1Z2x5IGFzIHRoaXMgaGFzIHRvIHN1cHBvcnQgdGhlXG4gICAgLy8gc3luYyBhbmQgYXN5bmMgbW9kZSB3aGljaCBpcyBuZXZlciBmdW4uIExvb3BzIG92ZXIgZXhlY0VkaXRMZW5ndGggdW50aWwgYSB2YWx1ZVxuICAgIC8vIGlzIHByb2R1Y2VkLlxuXG5cbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIChmdW5jdGlvbiBleGVjKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgd2Ugd2FudCB0byBiZSBzYWZlLlxuXG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICBpZiAoZWRpdExlbmd0aCA+IG1heEVkaXRMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZXhlY0VkaXRMZW5ndGgoKSkge1xuICAgICAgICAgICAgZXhlYygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgICB9KSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoZWRpdExlbmd0aCA8PSBtYXhFZGl0TGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXQgPSBleGVjRWRpdExlbmd0aCgpO1xuXG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBwdXNoQ29tcG9uZW50OiBmdW5jdGlvbiBwdXNoQ29tcG9uZW50KGNvbXBvbmVudHMsIGFkZGVkLCByZW1vdmVkKSB7XG4gICAgdmFyIGxhc3QgPSBjb21wb25lbnRzW2NvbXBvbmVudHMubGVuZ3RoIC0gMV07XG5cbiAgICBpZiAobGFzdCAmJiBsYXN0LmFkZGVkID09PSBhZGRlZCAmJiBsYXN0LnJlbW92ZWQgPT09IHJlbW92ZWQpIHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gY2xvbmUgaGVyZSBhcyB0aGUgY29tcG9uZW50IGNsb25lIG9wZXJhdGlvbiBpcyBqdXN0XG4gICAgICAvLyBhcyBzaGFsbG93IGFycmF5IGNsb25lXG4gICAgICBjb21wb25lbnRzW2NvbXBvbmVudHMubGVuZ3RoIC0gMV0gPSB7XG4gICAgICAgIGNvdW50OiBsYXN0LmNvdW50ICsgMSxcbiAgICAgICAgYWRkZWQ6IGFkZGVkLFxuICAgICAgICByZW1vdmVkOiByZW1vdmVkXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21wb25lbnRzLnB1c2goe1xuICAgICAgICBjb3VudDogMSxcbiAgICAgICAgYWRkZWQ6IGFkZGVkLFxuICAgICAgICByZW1vdmVkOiByZW1vdmVkXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGV4dHJhY3RDb21tb246IGZ1bmN0aW9uIGV4dHJhY3RDb21tb24oYmFzZVBhdGgsIG5ld1N0cmluZywgb2xkU3RyaW5nLCBkaWFnb25hbFBhdGgpIHtcbiAgICB2YXIgbmV3TGVuID0gbmV3U3RyaW5nLmxlbmd0aCxcbiAgICAgICAgb2xkTGVuID0gb2xkU3RyaW5nLmxlbmd0aCxcbiAgICAgICAgbmV3UG9zID0gYmFzZVBhdGgubmV3UG9zLFxuICAgICAgICBvbGRQb3MgPSBuZXdQb3MgLSBkaWFnb25hbFBhdGgsXG4gICAgICAgIGNvbW1vbkNvdW50ID0gMDtcblxuICAgIHdoaWxlIChuZXdQb3MgKyAxIDwgbmV3TGVuICYmIG9sZFBvcyArIDEgPCBvbGRMZW4gJiYgdGhpcy5lcXVhbHMobmV3U3RyaW5nW25ld1BvcyArIDFdLCBvbGRTdHJpbmdbb2xkUG9zICsgMV0pKSB7XG4gICAgICBuZXdQb3MrKztcbiAgICAgIG9sZFBvcysrO1xuICAgICAgY29tbW9uQ291bnQrKztcbiAgICB9XG5cbiAgICBpZiAoY29tbW9uQ291bnQpIHtcbiAgICAgIGJhc2VQYXRoLmNvbXBvbmVudHMucHVzaCh7XG4gICAgICAgIGNvdW50OiBjb21tb25Db3VudFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmFzZVBhdGgubmV3UG9zID0gbmV3UG9zO1xuICAgIHJldHVybiBvbGRQb3M7XG4gIH0sXG4gIGVxdWFsczogZnVuY3Rpb24gZXF1YWxzKGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNvbXBhcmF0b3IobGVmdCwgcmlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbGVmdCA9PT0gcmlnaHQgfHwgdGhpcy5vcHRpb25zLmlnbm9yZUNhc2UgJiYgbGVmdC50b0xvd2VyQ2FzZSgpID09PSByaWdodC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlRW1wdHk6IGZ1bmN0aW9uIHJlbW92ZUVtcHR5KGFycmF5KSB7XG4gICAgdmFyIHJldCA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFycmF5W2ldKSB7XG4gICAgICAgIHJldC5wdXNoKGFycmF5W2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuICBjYXN0SW5wdXQ6IGZ1bmN0aW9uIGNhc3RJbnB1dCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcbiAgdG9rZW5pemU6IGZ1bmN0aW9uIHRva2VuaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnNwbGl0KCcnKTtcbiAgfSxcbiAgam9pbjogZnVuY3Rpb24gam9pbihjaGFycykge1xuICAgIHJldHVybiBjaGFycy5qb2luKCcnKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gYnVpbGRWYWx1ZXMoZGlmZiwgY29tcG9uZW50cywgbmV3U3RyaW5nLCBvbGRTdHJpbmcsIHVzZUxvbmdlc3RUb2tlbikge1xuICB2YXIgY29tcG9uZW50UG9zID0gMCxcbiAgICAgIGNvbXBvbmVudExlbiA9IGNvbXBvbmVudHMubGVuZ3RoLFxuICAgICAgbmV3UG9zID0gMCxcbiAgICAgIG9sZFBvcyA9IDA7XG5cbiAgZm9yICg7IGNvbXBvbmVudFBvcyA8IGNvbXBvbmVudExlbjsgY29tcG9uZW50UG9zKyspIHtcbiAgICB2YXIgY29tcG9uZW50ID0gY29tcG9uZW50c1tjb21wb25lbnRQb3NdO1xuXG4gICAgaWYgKCFjb21wb25lbnQucmVtb3ZlZCkge1xuICAgICAgaWYgKCFjb21wb25lbnQuYWRkZWQgJiYgdXNlTG9uZ2VzdFRva2VuKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG5ld1N0cmluZy5zbGljZShuZXdQb3MsIG5ld1BvcyArIGNvbXBvbmVudC5jb3VudCk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IG9sZFN0cmluZ1tvbGRQb3MgKyBpXTtcbiAgICAgICAgICByZXR1cm4gb2xkVmFsdWUubGVuZ3RoID4gdmFsdWUubGVuZ3RoID8gb2xkVmFsdWUgOiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbXBvbmVudC52YWx1ZSA9IGRpZmYuam9pbih2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wb25lbnQudmFsdWUgPSBkaWZmLmpvaW4obmV3U3RyaW5nLnNsaWNlKG5ld1BvcywgbmV3UG9zICsgY29tcG9uZW50LmNvdW50KSk7XG4gICAgICB9XG5cbiAgICAgIG5ld1BvcyArPSBjb21wb25lbnQuY291bnQ7IC8vIENvbW1vbiBjYXNlXG5cbiAgICAgIGlmICghY29tcG9uZW50LmFkZGVkKSB7XG4gICAgICAgIG9sZFBvcyArPSBjb21wb25lbnQuY291bnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbXBvbmVudC52YWx1ZSA9IGRpZmYuam9pbihvbGRTdHJpbmcuc2xpY2Uob2xkUG9zLCBvbGRQb3MgKyBjb21wb25lbnQuY291bnQpKTtcbiAgICAgIG9sZFBvcyArPSBjb21wb25lbnQuY291bnQ7IC8vIFJldmVyc2UgYWRkIGFuZCByZW1vdmUgc28gcmVtb3ZlcyBhcmUgb3V0cHV0IGZpcnN0IHRvIG1hdGNoIGNvbW1vbiBjb252ZW50aW9uXG4gICAgICAvLyBUaGUgZGlmZmluZyBhbGdvcml0aG0gaXMgdGllZCB0byBhZGQgdGhlbiByZW1vdmUgb3V0cHV0IGFuZCB0aGlzIGlzIHRoZSBzaW1wbGVzdFxuICAgICAgLy8gcm91dGUgdG8gZ2V0IHRoZSBkZXNpcmVkIG91dHB1dCB3aXRoIG1pbmltYWwgb3ZlcmhlYWQuXG5cbiAgICAgIGlmIChjb21wb25lbnRQb3MgJiYgY29tcG9uZW50c1tjb21wb25lbnRQb3MgLSAxXS5hZGRlZCkge1xuICAgICAgICB2YXIgdG1wID0gY29tcG9uZW50c1tjb21wb25lbnRQb3MgLSAxXTtcbiAgICAgICAgY29tcG9uZW50c1tjb21wb25lbnRQb3MgLSAxXSA9IGNvbXBvbmVudHNbY29tcG9uZW50UG9zXTtcbiAgICAgICAgY29tcG9uZW50c1tjb21wb25lbnRQb3NdID0gdG1wO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBTcGVjaWFsIGNhc2UgaGFuZGxlIGZvciB3aGVuIG9uZSB0ZXJtaW5hbCBpcyBpZ25vcmVkIChpLmUuIHdoaXRlc3BhY2UpLlxuICAvLyBGb3IgdGhpcyBjYXNlIHdlIG1lcmdlIHRoZSB0ZXJtaW5hbCBpbnRvIHRoZSBwcmlvciBzdHJpbmcgYW5kIGRyb3AgdGhlIGNoYW5nZS5cbiAgLy8gVGhpcyBpcyBvbmx5IGF2YWlsYWJsZSBmb3Igc3RyaW5nIG1vZGUuXG5cblxuICB2YXIgbGFzdENvbXBvbmVudCA9IGNvbXBvbmVudHNbY29tcG9uZW50TGVuIC0gMV07XG5cbiAgaWYgKGNvbXBvbmVudExlbiA+IDEgJiYgdHlwZW9mIGxhc3RDb21wb25lbnQudmFsdWUgPT09ICdzdHJpbmcnICYmIChsYXN0Q29tcG9uZW50LmFkZGVkIHx8IGxhc3RDb21wb25lbnQucmVtb3ZlZCkgJiYgZGlmZi5lcXVhbHMoJycsIGxhc3RDb21wb25lbnQudmFsdWUpKSB7XG4gICAgY29tcG9uZW50c1tjb21wb25lbnRMZW4gLSAyXS52YWx1ZSArPSBsYXN0Q29tcG9uZW50LnZhbHVlO1xuICAgIGNvbXBvbmVudHMucG9wKCk7XG4gIH1cblxuICByZXR1cm4gY29tcG9uZW50cztcbn1cblxuZnVuY3Rpb24gY2xvbmVQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHtcbiAgICBuZXdQb3M6IHBhdGgubmV3UG9zLFxuICAgIGNvbXBvbmVudHM6IHBhdGguY29tcG9uZW50cy5zbGljZSgwKVxuICB9O1xufVxuXG4vL1xuLy8gUmFuZ2VzIGFuZCBleGNlcHRpb25zOlxuLy8gTGF0aW4tMSBTdXBwbGVtZW50LCAwMDgw4oCTMDBGRlxuLy8gIC0gVSswMEQ3ICDDlyBNdWx0aXBsaWNhdGlvbiBzaWduXG4vLyAgLSBVKzAwRjcgIMO3IERpdmlzaW9uIHNpZ25cbi8vIExhdGluIEV4dGVuZGVkLUEsIDAxMDDigJMwMTdGXG4vLyBMYXRpbiBFeHRlbmRlZC1CLCAwMTgw4oCTMDI0RlxuLy8gSVBBIEV4dGVuc2lvbnMsIDAyNTDigJMwMkFGXG4vLyBTcGFjaW5nIE1vZGlmaWVyIExldHRlcnMsIDAyQjDigJMwMkZGXG4vLyAgLSBVKzAyQzcgIMuHICYjNzExOyAgQ2Fyb25cbi8vICAtIFUrMDJEOCAgy5ggJiM3Mjg7ICBCcmV2ZVxuLy8gIC0gVSswMkQ5ICDLmSAmIzcyOTsgIERvdCBBYm92ZVxuLy8gIC0gVSswMkRBICDLmiAmIzczMDsgIFJpbmcgQWJvdmVcbi8vICAtIFUrMDJEQiAgy5sgJiM3MzE7ICBPZ29uZWtcbi8vICAtIFUrMDJEQyAgy5wgJiM3MzI7ICBTbWFsbCBUaWxkZVxuLy8gIC0gVSswMkREICDLnSAmIzczMzsgIERvdWJsZSBBY3V0ZSBBY2NlbnRcbi8vIExhdGluIEV4dGVuZGVkIEFkZGl0aW9uYWwsIDFFMDDigJMxRUZGXG5cbnZhciBleHRlbmRlZFdvcmRDaGFycyA9IC9eW0EtWmEtelxceEMwLVxcdTAyQzZcXHUwMkM4LVxcdTAyRDdcXHUwMkRFLVxcdTAyRkZcXHUxRTAwLVxcdTFFRkZdKyQvO1xudmFyIHJlV2hpdGVzcGFjZSA9IC9cXFMvO1xudmFyIHdvcmREaWZmID0gbmV3IERpZmYoKTtcblxud29yZERpZmYuZXF1YWxzID0gZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XG4gIGlmICh0aGlzLm9wdGlvbnMuaWdub3JlQ2FzZSkge1xuICAgIGxlZnQgPSBsZWZ0LnRvTG93ZXJDYXNlKCk7XG4gICAgcmlnaHQgPSByaWdodC50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgcmV0dXJuIGxlZnQgPT09IHJpZ2h0IHx8IHRoaXMub3B0aW9ucy5pZ25vcmVXaGl0ZXNwYWNlICYmICFyZVdoaXRlc3BhY2UudGVzdChsZWZ0KSAmJiAhcmVXaGl0ZXNwYWNlLnRlc3QocmlnaHQpO1xufTtcblxud29yZERpZmYudG9rZW5pemUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIHRva2VucyA9IHZhbHVlLnNwbGl0KC8oXFxzK3xbKClbXFxde30nXCJdfFxcYikvKTsgLy8gSm9pbiB0aGUgYm91bmRhcnkgc3BsaXRzIHRoYXQgd2UgZG8gbm90IGNvbnNpZGVyIHRvIGJlIGJvdW5kYXJpZXMuIFRoaXMgaXMgcHJpbWFyaWx5IHRoZSBleHRlbmRlZCBMYXRpbiBjaGFyYWN0ZXIgc2V0LlxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIC8vIElmIHdlIGhhdmUgYW4gZW1wdHkgc3RyaW5nIGluIHRoZSBuZXh0IGZpZWxkIGFuZCB3ZSBoYXZlIG9ubHkgd29yZCBjaGFycyBiZWZvcmUgYW5kIGFmdGVyLCBtZXJnZVxuICAgIGlmICghdG9rZW5zW2kgKyAxXSAmJiB0b2tlbnNbaSArIDJdICYmIGV4dGVuZGVkV29yZENoYXJzLnRlc3QodG9rZW5zW2ldKSAmJiBleHRlbmRlZFdvcmRDaGFycy50ZXN0KHRva2Vuc1tpICsgMl0pKSB7XG4gICAgICB0b2tlbnNbaV0gKz0gdG9rZW5zW2kgKyAyXTtcbiAgICAgIHRva2Vucy5zcGxpY2UoaSArIDEsIDIpO1xuICAgICAgaS0tO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59O1xuXG52YXIgbGluZURpZmYgPSBuZXcgRGlmZigpO1xuXG5saW5lRGlmZi50b2tlbml6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcmV0TGluZXMgPSBbXSxcbiAgICAgIGxpbmVzQW5kTmV3bGluZXMgPSB2YWx1ZS5zcGxpdCgvKFxcbnxcXHJcXG4pLyk7IC8vIElnbm9yZSB0aGUgZmluYWwgZW1wdHkgdG9rZW4gdGhhdCBvY2N1cnMgaWYgdGhlIHN0cmluZyBlbmRzIHdpdGggYSBuZXcgbGluZVxuXG4gIGlmICghbGluZXNBbmROZXdsaW5lc1tsaW5lc0FuZE5ld2xpbmVzLmxlbmd0aCAtIDFdKSB7XG4gICAgbGluZXNBbmROZXdsaW5lcy5wb3AoKTtcbiAgfSAvLyBNZXJnZSB0aGUgY29udGVudCBhbmQgbGluZSBzZXBhcmF0b3JzIGludG8gc2luZ2xlIHRva2Vuc1xuXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lc0FuZE5ld2xpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxpbmUgPSBsaW5lc0FuZE5ld2xpbmVzW2ldO1xuXG4gICAgaWYgKGkgJSAyICYmICF0aGlzLm9wdGlvbnMubmV3bGluZUlzVG9rZW4pIHtcbiAgICAgIHJldExpbmVzW3JldExpbmVzLmxlbmd0aCAtIDFdICs9IGxpbmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuaWdub3JlV2hpdGVzcGFjZSkge1xuICAgICAgICBsaW5lID0gbGluZS50cmltKCk7XG4gICAgICB9XG5cbiAgICAgIHJldExpbmVzLnB1c2gobGluZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJldExpbmVzO1xufTtcblxuZnVuY3Rpb24gZGlmZkxpbmVzKG9sZFN0ciwgbmV3U3RyLCBjYWxsYmFjaykge1xuICByZXR1cm4gbGluZURpZmYuZGlmZihvbGRTdHIsIG5ld1N0ciwgY2FsbGJhY2spO1xufVxuXG52YXIgc2VudGVuY2VEaWZmID0gbmV3IERpZmYoKTtcblxuc2VudGVuY2VEaWZmLnRva2VuaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5zcGxpdCgvKFxcUy4rP1suIT9dKSg/PVxccyt8JCkvKTtcbn07XG5cbnZhciBjc3NEaWZmID0gbmV3IERpZmYoKTtcblxuY3NzRGlmZi50b2tlbml6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUuc3BsaXQoLyhbe306OyxdfFxccyspLyk7XG59O1xuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbnZhciBvYmplY3RQcm90b3R5cGVUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIganNvbkRpZmYgPSBuZXcgRGlmZigpOyAvLyBEaXNjcmltaW5hdGUgYmV0d2VlbiB0d28gbGluZXMgb2YgcHJldHR5LXByaW50ZWQsIHNlcmlhbGl6ZWQgSlNPTiB3aGVyZSBvbmUgb2YgdGhlbSBoYXMgYVxuLy8gZGFuZ2xpbmcgY29tbWEgYW5kIHRoZSBvdGhlciBkb2Vzbid0LiBUdXJucyBvdXQgaW5jbHVkaW5nIHRoZSBkYW5nbGluZyBjb21tYSB5aWVsZHMgdGhlIG5pY2VzdCBvdXRwdXQ6XG5cbmpzb25EaWZmLnVzZUxvbmdlc3RUb2tlbiA9IHRydWU7XG5qc29uRGlmZi50b2tlbml6ZSA9IGxpbmVEaWZmLnRva2VuaXplO1xuXG5qc29uRGlmZi5jYXN0SW5wdXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIF90aGlzJG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICB1bmRlZmluZWRSZXBsYWNlbWVudCA9IF90aGlzJG9wdGlvbnMudW5kZWZpbmVkUmVwbGFjZW1lbnQsXG4gICAgICBfdGhpcyRvcHRpb25zJHN0cmluZ2kgPSBfdGhpcyRvcHRpb25zLnN0cmluZ2lmeVJlcGxhY2VyLFxuICAgICAgc3RyaW5naWZ5UmVwbGFjZXIgPSBfdGhpcyRvcHRpb25zJHN0cmluZ2kgPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZFJlcGxhY2VtZW50IDogdjtcbiAgfSA6IF90aGlzJG9wdGlvbnMkc3RyaW5naTtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KGNhbm9uaWNhbGl6ZSh2YWx1ZSwgbnVsbCwgbnVsbCwgc3RyaW5naWZ5UmVwbGFjZXIpLCBzdHJpbmdpZnlSZXBsYWNlciwgJyAgJyk7XG59O1xuXG5qc29uRGlmZi5lcXVhbHMgPSBmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIERpZmYucHJvdG90eXBlLmVxdWFscy5jYWxsKGpzb25EaWZmLCBsZWZ0LnJlcGxhY2UoLywoW1xcclxcbl0pL2csICckMScpLCByaWdodC5yZXBsYWNlKC8sKFtcXHJcXG5dKS9nLCAnJDEnKSk7XG59O1xuLy8gb2JqZWN0IHRoYXQgaXMgYWxyZWFkeSBvbiB0aGUgXCJzdGFja1wiIG9mIGl0ZW1zIGJlaW5nIHByb2Nlc3NlZC4gQWNjZXB0cyBhbiBvcHRpb25hbCByZXBsYWNlclxuXG5mdW5jdGlvbiBjYW5vbmljYWxpemUob2JqLCBzdGFjaywgcmVwbGFjZW1lbnRTdGFjaywgcmVwbGFjZXIsIGtleSkge1xuICBzdGFjayA9IHN0YWNrIHx8IFtdO1xuICByZXBsYWNlbWVudFN0YWNrID0gcmVwbGFjZW1lbnRTdGFjayB8fCBbXTtcblxuICBpZiAocmVwbGFjZXIpIHtcbiAgICBvYmogPSByZXBsYWNlcihrZXksIG9iaik7XG4gIH1cblxuICB2YXIgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoc3RhY2tbaV0gPT09IG9iaikge1xuICAgICAgcmV0dXJuIHJlcGxhY2VtZW50U3RhY2tbaV07XG4gICAgfVxuICB9XG5cbiAgdmFyIGNhbm9uaWNhbGl6ZWRPYmo7XG5cbiAgaWYgKCdbb2JqZWN0IEFycmF5XScgPT09IG9iamVjdFByb3RvdHlwZVRvU3RyaW5nLmNhbGwob2JqKSkge1xuICAgIHN0YWNrLnB1c2gob2JqKTtcbiAgICBjYW5vbmljYWxpemVkT2JqID0gbmV3IEFycmF5KG9iai5sZW5ndGgpO1xuICAgIHJlcGxhY2VtZW50U3RhY2sucHVzaChjYW5vbmljYWxpemVkT2JqKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNhbm9uaWNhbGl6ZWRPYmpbaV0gPSBjYW5vbmljYWxpemUob2JqW2ldLCBzdGFjaywgcmVwbGFjZW1lbnRTdGFjaywgcmVwbGFjZXIsIGtleSk7XG4gICAgfVxuXG4gICAgc3RhY2sucG9wKCk7XG4gICAgcmVwbGFjZW1lbnRTdGFjay5wb3AoKTtcbiAgICByZXR1cm4gY2Fub25pY2FsaXplZE9iajtcbiAgfVxuXG4gIGlmIChvYmogJiYgb2JqLnRvSlNPTikge1xuICAgIG9iaiA9IG9iai50b0pTT04oKTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKG9iaikgPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkge1xuICAgIHN0YWNrLnB1c2gob2JqKTtcbiAgICBjYW5vbmljYWxpemVkT2JqID0ge307XG4gICAgcmVwbGFjZW1lbnRTdGFjay5wdXNoKGNhbm9uaWNhbGl6ZWRPYmopO1xuXG4gICAgdmFyIHNvcnRlZEtleXMgPSBbXSxcbiAgICAgICAgX2tleTtcblxuICAgIGZvciAoX2tleSBpbiBvYmopIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KF9rZXkpKSB7XG4gICAgICAgIHNvcnRlZEtleXMucHVzaChfa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzb3J0ZWRLZXlzLnNvcnQoKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3J0ZWRLZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBfa2V5ID0gc29ydGVkS2V5c1tpXTtcbiAgICAgIGNhbm9uaWNhbGl6ZWRPYmpbX2tleV0gPSBjYW5vbmljYWxpemUob2JqW19rZXldLCBzdGFjaywgcmVwbGFjZW1lbnRTdGFjaywgcmVwbGFjZXIsIF9rZXkpO1xuICAgIH1cblxuICAgIHN0YWNrLnBvcCgpO1xuICAgIHJlcGxhY2VtZW50U3RhY2sucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgY2Fub25pY2FsaXplZE9iaiA9IG9iajtcbiAgfVxuXG4gIHJldHVybiBjYW5vbmljYWxpemVkT2JqO1xufVxuXG52YXIgYXJyYXlEaWZmID0gbmV3IERpZmYoKTtcblxuYXJyYXlEaWZmLnRva2VuaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5zbGljZSgpO1xufTtcblxuYXJyYXlEaWZmLmpvaW4gPSBhcnJheURpZmYucmVtb3ZlRW1wdHkgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuZnVuY3Rpb24gbWVyZ2VMaW5lcyhjb2RlLCBsaW5lcykge1xyXG4gICAgbGV0IGVudGVySW5kZXggPSAwO1xyXG4gICAgbGV0IGV4aXRJbmRleCA9IDA7XHJcbiAgICBjb25zdCBpbmRleGVzID0gZGlmZihjb2RlKTtcclxuICAgIGNvbnN0IG5ld0xpbmVzID0gaW5kZXhlcy5tYXAoaW5kZXggPT4ge1xyXG4gICAgICAgIGlmIChpbmRleC5uZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbGluZXMucHJldltpbmRleC5wcmV2XSksIHsgbGluZU51bWJlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXY6IGluZGV4LnByZXYgKyAxLFxyXG4gICAgICAgICAgICAgICAgfSwgbW92ZTogXCJleGl0XCIsIGVudGVySW5kZXg6IG51bGwsIGV4aXRJbmRleDogZXhpdEluZGV4KysgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbmRleC5wcmV2ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbGluZXMubmV4dFtpbmRleC5uZXh0XSksIHsgbGluZU51bWJlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IGluZGV4Lm5leHQgKyAxLFxyXG4gICAgICAgICAgICAgICAgfSwgbW92ZTogXCJlbnRlclwiLCBlbnRlckluZGV4OiBlbnRlckluZGV4KyssIGV4aXRJbmRleDogbnVsbCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbGluZXMucHJldltpbmRleC5wcmV2XSksIHsgbGluZU51bWJlcjoge1xyXG4gICAgICAgICAgICAgICAgcHJldjogaW5kZXgucHJldiArIDEsXHJcbiAgICAgICAgICAgICAgICBuZXh0OiBpbmRleC5uZXh0ICsgMSxcclxuICAgICAgICAgICAgfSwgbW92ZTogXCJzdGF5XCIsIGVudGVySW5kZXg6IG51bGwsIGV4aXRJbmRleDogbnVsbCB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBsaW5lczogbmV3TGluZXMsXHJcbiAgICAgICAgZW50ZXJDb3VudDogZW50ZXJJbmRleCxcclxuICAgICAgICBleGl0Q291bnQ6IGV4aXRJbmRleCxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBsaXN0IG9mIHBhaXJzIG9mIGxpbmUgaW5kZXhlczpcclxuICpcclxuICogRm9yIGV4YW1wbGUgaWYgbGluZXMgMiBhbmQgMyB3ZXJlIHJlbW92ZWRcclxuICogYW5kIHR3byBsaW5lcyB3aGVyZSBhZGRlZCBhdCB0aGUgZW5kOlxyXG4gKiAgMCAwXHJcbiAqICAxIC1cclxuICogIDIgLVxyXG4gKiAgMyAxXHJcbiAqICAtIDJcclxuICogIC0gM1xyXG4gKi9cclxuZnVuY3Rpb24gZGlmZihjb2RlKSB7XHJcbiAgICBjb25zdCBjaGFuZ2VzID0gZGlmZkxpbmVzKGNvZGUucHJldiwgY29kZS5uZXh0KTtcclxuICAgIGxldCBpbmRleGVzID0gW107XHJcbiAgICBsZXQgcHJldkluZGV4ID0gMDtcclxuICAgIGxldCBuZXh0SW5kZXggPSAwO1xyXG4gICAgY2hhbmdlcy5mb3JFYWNoKGNoYW5nZSA9PiB7XHJcbiAgICAgICAgaWYgKGNoYW5nZS5hZGRlZCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5nZS5jb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goeyBuZXh0OiBuZXh0SW5kZXgrKyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjaGFuZ2UucmVtb3ZlZCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5nZS5jb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goeyBwcmV2OiBwcmV2SW5kZXgrKyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFuZ2UuY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2OiBwcmV2SW5kZXgrKyxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBuZXh0SW5kZXgrKyxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5kZXhlcztcclxufVxuXG5mdW5jdGlvbiBzcGxpdEJ5Rm9jdXMobWVyZ2VkQ29kZSwgZm9jdXMsIGFubm90YXRpb25zKSB7XHJcbiAgICBjb25zdCB7IGxpbmVzIH0gPSBtZXJnZWRDb2RlLCBtZXJnZWRDb2RlUmVzdCA9IF9fcmVzdChtZXJnZWRDb2RlLCBbXCJsaW5lc1wiXSk7XHJcbiAgICBjb25zdCBmb2N1c0J5TGluZU51bWJlciA9IG1hcChmb2N1cywgKGZvY3VzLCBrZXkpID0+IHtcclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZpbHRlciB0aGUgbGluZXMgdGhhdCBkb24ndCBiZWxvbmcgdG8gdGhlIHN0ZXBcclxuICAgICAgICAvLyBmb3IgdGhlIGNhc2Ugd2hlcmUgZm9jdXMgPT0gXCJcIlxyXG4gICAgICAgIGNvbnN0IHN0ZXBMaW5lcyA9IGtleSA9PT0gXCJwcmV2XCJcclxuICAgICAgICAgICAgPyBsaW5lcy5maWx0ZXIobCA9PiBsLm1vdmUgIT09IFwiZW50ZXJcIilcclxuICAgICAgICAgICAgOiBsaW5lcy5maWx0ZXIobCA9PiBsLm1vdmUgIT09IFwiZXhpdFwiKTtcclxuICAgICAgICByZXR1cm4gbWFwRm9jdXNUb0xpbmVOdW1iZXJzKGZvY3VzLCBzdGVwTGluZXMpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBzcGxpdHRlZExpbmVzID0gbGluZXMubWFwKGxpbmUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgdG9rZW5zIH0gPSBsaW5lLCByZXN0ID0gX19yZXN0KGxpbmUsIFtcInRva2Vuc1wiXSk7XHJcbiAgICAgICAgY29uc3QgbGluZUZvY3VzID0ge1xyXG4gICAgICAgICAgICBwcmV2OiBsaW5lLmxpbmVOdW1iZXIucHJldlxyXG4gICAgICAgICAgICAgICAgPyBmb2N1c0J5TGluZU51bWJlci5wcmV2W2xpbmUubGluZU51bWJlci5wcmV2XVxyXG4gICAgICAgICAgICAgICAgOiBmYWxzZSxcclxuICAgICAgICAgICAgbmV4dDogbGluZS5saW5lTnVtYmVyLm5leHRcclxuICAgICAgICAgICAgICAgID8gZm9jdXNCeUxpbmVOdW1iZXIubmV4dFtsaW5lLmxpbmVOdW1iZXIubmV4dF1cclxuICAgICAgICAgICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBsaW5lQW5ub3RhdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIHByZXY6IGxpbmUubGluZU51bWJlci5wcmV2XHJcbiAgICAgICAgICAgICAgICA/IGFubm90YXRpb25zLnByZXZbbGluZS5saW5lTnVtYmVyLnByZXZdIHx8IFtdXHJcbiAgICAgICAgICAgICAgICA6IFtdLFxyXG4gICAgICAgICAgICBuZXh0OiBsaW5lLmxpbmVOdW1iZXIubmV4dFxyXG4gICAgICAgICAgICAgICAgPyBhbm5vdGF0aW9ucy5uZXh0W2xpbmUubGluZU51bWJlci5uZXh0XSB8fCBbXVxyXG4gICAgICAgICAgICAgICAgOiBbXSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgZm9jdXNlZDogbWFwKGxpbmVGb2N1cywgZm9jdXMgPT4gISFmb2N1cyksIGdyb3VwczogZ2V0VG9rZW5Hcm91cHModG9rZW5zLCBsaW5lRm9jdXMsIGxpbmVBbm5vdGF0aW9ucykgfSwgcmVzdCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGZvY3VzZWRMaW5lTnVtYmVycyA9IG1hcChmb2N1c0J5TGluZU51bWJlciwgZm9jdXNCeUxpbmVOdW1iZXIgPT4gT2JqZWN0LmtleXMoZm9jdXNCeUxpbmVOdW1iZXIpLm1hcChrID0+IE51bWJlcihrKSkpO1xyXG4gICAgY29uc3QgZmlyc3RGb2N1c2VkTGluZU51bWJlciA9IG1hcChmb2N1c2VkTGluZU51bWJlcnMsIGZvY3VzZWRMaW5lTnVtYmVycyA9PiBNYXRoLm1pbiguLi5mb2N1c2VkTGluZU51bWJlcnMpKTtcclxuICAgIGNvbnN0IGxhc3RGb2N1c2VkTGluZU51bWJlciA9IG1hcChmb2N1c2VkTGluZU51bWJlcnMsIGZvY3VzZWRMaW5lTnVtYmVycyA9PiBNYXRoLm1heCguLi5mb2N1c2VkTGluZU51bWJlcnMpKTtcclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgbGluZXM6IHNwbGl0dGVkTGluZXMsIGZpcnN0Rm9jdXNlZExpbmVOdW1iZXIsXHJcbiAgICAgICAgbGFzdEZvY3VzZWRMaW5lTnVtYmVyIH0sIG1lcmdlZENvZGVSZXN0KTtcclxufVxyXG4vKipcclxuICogR2V0IHRoZSBsZWFzdCBhbW91bnQgb2YgZ3JvdXBzIHdoZXJlIG5vIGNvbnNlY3V0aXZlIGdyb3VwcyBoYXZlXHJcbiAqIHRoZSBzYW1lIGNvbWJpbmF0aW9uIG9mIHByZXZGb2N1cywgbmV4dEZvY3VzLCBwcmV2QW5ub3RhdGlvbiwgbmV4dEFubm90YXRpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUb2tlbkdyb3Vwcyh0b2tlbnMsIGZvY3VzLCBhbm5vdGF0aW9ucykge1xyXG4gICAgY29uc3QgZm9jdXNFeHRyZW1lcyA9IG1hcChmb2N1cywgZm9jdXMgPT4gQXJyYXkuaXNBcnJheShmb2N1cykgPyBmb2N1cyA6IFtdKTtcclxuICAgIGNvbnN0IGFubm90YXRpb25FeHRyZW1lcyA9IG1hcChhbm5vdGF0aW9ucywgYW5ub3RhdGlvbnMgPT4gYW5ub3RhdGlvbnMubWFwKCh7IGNvbHVtbk51bWJlcnMgfSkgPT4gY29sdW1uTnVtYmVycykpO1xyXG4gICAgY29uc3QgYWxsRXh0cmVtZXMgPSBbXHJcbiAgICAgICAgLi4uZm9jdXNFeHRyZW1lcy5wcmV2LFxyXG4gICAgICAgIC4uLmZvY3VzRXh0cmVtZXMubmV4dCxcclxuICAgICAgICAuLi5hbm5vdGF0aW9uRXh0cmVtZXMucHJldixcclxuICAgICAgICAuLi5hbm5vdGF0aW9uRXh0cmVtZXMubmV4dCxcclxuICAgIF07XHJcbiAgICBjb25zdCBzcGxpdHRlZFRva2VucyA9IHNwbGl0VG9rZW5zKHRva2VucywgYWxsRXh0cmVtZXMpO1xyXG4gICAgbGV0IHN0YXJ0SW5kZXggPSAwO1xyXG4gICAgbGV0IGN1cnJlbnRHcm91cCA9IG51bGw7XHJcbiAgICBjb25zdCBncm91cHMgPSBbXTtcclxuICAgIHNwbGl0dGVkVG9rZW5zLmZvckVhY2godG9rZW4gPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld1ByZXZGb2N1cyA9IGlzSW4oc3RhcnRJbmRleCwgZm9jdXMucHJldik7XHJcbiAgICAgICAgY29uc3QgbmV3TmV4dEZvY3VzID0gaXNJbihzdGFydEluZGV4LCBmb2N1cy5uZXh0KTtcclxuICAgICAgICBjb25zdCBuZXdQcmV2QW5ub3RhdGlvbiA9IGdldEFubm90YXRpb24oc3RhcnRJbmRleCwgYW5ub3RhdGlvbnMucHJldik7XHJcbiAgICAgICAgY29uc3QgbmV3TmV4dEFubm90YXRpb24gPSBnZXRBbm5vdGF0aW9uKHN0YXJ0SW5kZXgsIGFubm90YXRpb25zLm5leHQpO1xyXG4gICAgICAgIGlmICghY3VycmVudEdyb3VwIHx8XHJcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC5mb2N1c2VkLnByZXYgIT09IG5ld1ByZXZGb2N1cyB8fFxyXG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuZm9jdXNlZC5uZXh0ICE9PSBuZXdOZXh0Rm9jdXMgfHxcclxuICAgICAgICAgICAgY3VycmVudEdyb3VwLmFubm90YXRpb24ucHJldiAhPT0gbmV3UHJldkFubm90YXRpb24gfHxcclxuICAgICAgICAgICAgY3VycmVudEdyb3VwLmFubm90YXRpb24ubmV4dCAhPT0gbmV3TmV4dEFubm90YXRpb24pIHtcclxuICAgICAgICAgICAgY3VycmVudEdyb3VwID0ge1xyXG4gICAgICAgICAgICAgICAgZm9jdXNlZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXY6IG5ld1ByZXZGb2N1cyxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBuZXdOZXh0Rm9jdXMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdG9rZW5zOiBbXSxcclxuICAgICAgICAgICAgICAgIGFubm90YXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2OiBuZXdQcmV2QW5ub3RhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBuZXdOZXh0QW5ub3RhdGlvbixcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGdyb3Vwcy5wdXNoKGN1cnJlbnRHcm91cCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnJlbnRHcm91cCA9PT0gbnVsbCB8fCBjdXJyZW50R3JvdXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRHcm91cC50b2tlbnMucHVzaCh0b2tlbik7XHJcbiAgICAgICAgc3RhcnRJbmRleCArPSB0b2tlbi5jb250ZW50Lmxlbmd0aDtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGdyb3Vwcy5tYXAoZ3JvdXAgPT4gKHtcclxuICAgICAgICBmb2N1c2VkOiBncm91cC5mb2N1c2VkLFxyXG4gICAgICAgIHRva2VuczogZ3JvdXAudG9rZW5zLFxyXG4gICAgICAgIGVsZW1lbnQ6IGdldEdyb3VwRWxlbWVudChncm91cCksXHJcbiAgICB9KSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0R3JvdXBFbGVtZW50KGdyb3VwKSB7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGdyb3VwLnRva2Vucy5tYXAoKHsgY29udGVudCwgcHJvcHMgfSwgaSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7IGtleTogaSArIDEgfSksIGNvbnRlbnQpKSkpKTtcclxufVxyXG4vKipcclxuICogU3BsaXQgYSBsaXN0IG9mIHRva2VucyBpbnRvIGEgbW9yZSBmaW5lLWdyYW5lZCBsaXN0IG9mIHRva2Vuc1xyXG4gKlxyXG4gKiB0b2tlbnM6IFthYmNdW2RlZmddXHJcbiAqIGV4dHJlbWVzOiBbMToyLDI6NV1cclxuICogcmVzdWx0IHRva2VuczogW2FiXVtjXVtkZV1bZmddXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBzcGxpdFRva2Vucyh0b2tlbnMsIGV4dHJlbWVzKSB7XHJcbiAgICBjb25zdCBzcGxpdEluZGV4ZXMgPSBbXHJcbiAgICAgICAgLi4uZXh0cmVtZXMubWFwKGUgPT4gZS5zdGFydCAtIDEpLFxyXG4gICAgICAgIC4uLmV4dHJlbWVzLm1hcChlID0+IGUuZW5kKSxcclxuICAgIF07XHJcbiAgICBsZXQgb2xkVG9rZW5zID0gdG9rZW5zO1xyXG4gICAgc3BsaXRJbmRleGVzLmZvckVhY2goc3BsaXRJbmRleCA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3VG9rZW5zID0gW107XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIG9sZFRva2Vucy5mb3JFYWNoKHRva2VuID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gaSArIHRva2VuLmNvbnRlbnQubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRTcGxpdCA9IHN0YXJ0SW5kZXggPCBzcGxpdEluZGV4ICYmIHNwbGl0SW5kZXggPCBlbmRJbmRleDtcclxuICAgICAgICAgICAgaWYgKHNob3VsZFNwbGl0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzbGljZUluZGV4ID0gc3BsaXRJbmRleCAtIHN0YXJ0SW5kZXg7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50MCA9IHRva2VuLmNvbnRlbnQuc2xpY2UoMCwgc2xpY2VJbmRleCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50MSA9IHRva2VuLmNvbnRlbnQuc2xpY2Uoc2xpY2VJbmRleCk7XHJcbiAgICAgICAgICAgICAgICBuZXdUb2tlbnMucHVzaChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRva2VuKSwgeyBjb250ZW50OiBjb250ZW50MCB9KSk7XHJcbiAgICAgICAgICAgICAgICBuZXdUb2tlbnMucHVzaChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRva2VuKSwgeyBjb250ZW50OiBjb250ZW50MSB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBuZXdUb2tlbnMucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSA9IGVuZEluZGV4O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9sZFRva2VucyA9IG5ld1Rva2VucztcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG9sZFRva2VucztcclxufVxyXG5mdW5jdGlvbiBpc0luKGluZGV4LCBpbnRlcnZhbHMpIHtcclxuICAgIGlmICghQXJyYXkuaXNBcnJheShpbnRlcnZhbHMpKSB7XHJcbiAgICAgICAgcmV0dXJuIGludGVydmFscztcclxuICAgIH1cclxuICAgIHJldHVybiBpbnRlcnZhbHMuc29tZSgoeyBzdGFydCwgZW5kIH0pID0+IHN0YXJ0IC0gMSA8PSBpbmRleCAmJiBpbmRleCA8IGVuZCk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0QW5ub3RhdGlvbihpbmRleCwgYW5ub3RhdGlvbnMpIHtcclxuICAgIHJldHVybiBhbm5vdGF0aW9ucy5maW5kKCh7IGNvbHVtbk51bWJlcnMgfSkgPT4gY29sdW1uTnVtYmVycy5zdGFydCAtIDEgPD0gaW5kZXggJiZcclxuICAgICAgICBpbmRleCA8IGNvbHVtbk51bWJlcnMuZW5kKTtcclxufVxuXG5mdW5jdGlvbiB0d2VlbiQxKHBhcmFtcywgdCkge1xyXG4gICAgLy8gbmVlZHMgPT09IHRydWUgZm9yIHR5cGVzY3JpcHQuLi5cclxuICAgIGlmIChwYXJhbXMuZml4ZWQgPT09IHRydWUpIHtcclxuICAgICAgICByZXR1cm4gcGFyYW1zLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gcGFyYW1zLmludGVydmFsO1xyXG4gICAgICAgIGNvbnN0IFtmcm9tLCB0b10gPSBwYXJhbXMuZXh0cmVtZXM7XHJcbiAgICAgICAgaWYgKHQgPCBzdGFydClcclxuICAgICAgICAgICAgcmV0dXJuIGZyb207XHJcbiAgICAgICAgaWYgKHQgPiBlbmQpXHJcbiAgICAgICAgICAgIHJldHVybiB0bztcclxuICAgICAgICBjb25zdCB4ID0gKHQgLSBzdGFydCkgLyAoZW5kIC0gc3RhcnQpO1xyXG4gICAgICAgIGNvbnN0IGVhc2UgPSBwYXJhbXMuZWFzZSB8fCBlYXNpbmcubGluZWFyO1xyXG4gICAgICAgIHJldHVybiBmcm9tICsgZWFzZSh4KSAqICh0byAtIGZyb20pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHN0YWdnZXIoW3N0YXJ0LCBlbmRdLCBpbmRleCwgY291bnQpIHtcclxuICAgIGlmIChjb3VudCA8PSAxKVxyXG4gICAgICAgIHJldHVybiBbc3RhcnQsIGVuZF07XHJcbiAgICBjb25zdCB0b3RhbER1cmF0aW9uID0gZW5kIC0gc3RhcnQ7XHJcbiAgICBjb25zdCBzdGVwRHVyYXRpb24gPSB0b3RhbER1cmF0aW9uIC8gTWF0aC5wb3coY291bnQsIDEgLyA4KTtcclxuICAgIGNvbnN0IHRpY2sgPSAodG90YWxEdXJhdGlvbiAtIHN0ZXBEdXJhdGlvbikgLyAoY291bnQgLSAxKTtcclxuICAgIGNvbnN0IHN0ZXBTdGFydCA9IHN0YXJ0ICsgdGljayAqIGluZGV4O1xyXG4gICAgY29uc3Qgc3RlcEVuZCA9IHN0ZXBTdGFydCArIHN0ZXBEdXJhdGlvbjtcclxuICAgIHJldHVybiBbc3RlcFN0YXJ0LCBzdGVwRW5kXTtcclxufVxyXG5jb25zdCBlYXNpbmcgPSB7XHJcbiAgICBsaW5lYXI6IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9LFxyXG4gICAgZWFzZUluUXVhZDogZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICByZXR1cm4gdCAqIHQ7XHJcbiAgICB9LFxyXG4gICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHQgKiAoMiAtIHQpO1xyXG4gICAgfSxcclxuICAgIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbiAodCkge1xyXG4gICAgICAgIHJldHVybiB0IDwgMC41XHJcbiAgICAgICAgICAgID8gNCAqIHQgKiB0ICogdFxyXG4gICAgICAgICAgICA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMTtcclxuICAgIH0sXHJcbn07XG5cbmZ1bmN0aW9uIGdldExpbmVzV2l0aEVsZW1lbnRzKGxpbmVzLCB2ZXJ0aWNhbEludGVydmFsLCBlbnRlckNvdW50LCBleGl0Q291bnQpIHtcclxuICAgIC8vIHN0YXJ0WSBpcyB0aGUgcHJvZ3Jlc3Mgd2hlbiB3ZSBzdGFydCBtb3ZpbmcgdmVydGljYWxseVxyXG4gICAgLy8gZW5kWSBpcyB3aGVuIHdlIHN0b3BcclxuICAgIGNvbnN0IFtzdGFydFksIGVuZFldID0gdmVydGljYWxJbnRlcnZhbDtcclxuICAgIHJldHVybiBsaW5lcy5tYXAobGluZSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGluZUluZGV4ID0gbWFwKGxpbmUubGluZU51bWJlciwgbG4gPT4gbG4gJiYgbG4gLSAxKTtcclxuICAgICAgICBjb25zdCB7IGVudGVySW5kZXgsIGV4aXRJbmRleCB9ID0gbGluZTtcclxuICAgICAgICBjb25zdCB0d2VlblkgPSBsaW5lLm1vdmUgPT09IFwiZXhpdFwiXHJcbiAgICAgICAgICAgID8geyBmaXhlZDogdHJ1ZSwgdmFsdWU6IGxpbmVJbmRleC5wcmV2IH1cclxuICAgICAgICAgICAgOiBsaW5lLm1vdmUgPT09IFwiZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgPyB7IGZpeGVkOiB0cnVlLCB2YWx1ZTogbGluZUluZGV4Lm5leHQgfVxyXG4gICAgICAgICAgICAgICAgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml4ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4dHJlbWVzOiBbbGluZUluZGV4LnByZXYsIGxpbmVJbmRleC5uZXh0XSxcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbDogW3N0YXJ0WSwgZW5kWV0sXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogZWFzaW5nLmVhc2VJbk91dEN1YmljLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB0d2VlblggPSBsaW5lLm1vdmUgPT09IFwiZXhpdFwiXHJcbiAgICAgICAgICAgID8ge1xyXG4gICAgICAgICAgICAgICAgZml4ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZXh0cmVtZXM6IFswLCAtMV0sXHJcbiAgICAgICAgICAgICAgICBlYXNlOiBlYXNpbmcuZWFzZUluUXVhZCxcclxuICAgICAgICAgICAgICAgIGludGVydmFsOiBzdGFnZ2VyKFswLCBzdGFydFldLCBleGl0SW5kZXgsIGV4aXRDb3VudCksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiBsaW5lLm1vdmUgPT09IFwiZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml4ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGV4dHJlbWVzOiBbMSwgMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogZWFzaW5nLmVhc2VPdXRRdWFkLFxyXG4gICAgICAgICAgICAgICAgICAgIGludGVydmFsOiBzdGFnZ2VyKFtlbmRZLCAxXSwgZW50ZXJJbmRleCwgZW50ZXJDb3VudCksXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA6IHsgZml4ZWQ6IHRydWUsIHZhbHVlOiAwIH07XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbGluZSksIHsgdHdlZW5YLFxyXG4gICAgICAgICAgICB0d2VlblkgfSk7XHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBwYXJzZUFubm90YXRpb25zKGFubm90YXRpb25zLCB0aGVtZSkge1xyXG4gICAgLy8gc3BsaXQgYW5ub3RhdGlvbnMgd2l0aCBtdWx0aXBsZSBwYXJ0cyBpbiB0aGUgZm9jdXMgc3RyaW5nXHJcbiAgICAvLyBcIjE6MiwzWzQ6NV1cIiBiZWNvbWVzICB0d28gYW5ub3RhdGlvbnMgXCIxOjJcIiBhbmQgXCIzWzQ6NV1cIlxyXG4gICAgY29uc3QgZXhwYW5kZWRBbm5vdGF0aW9ucyA9IG1hcFdpdGhEZWZhdWx0KGFubm90YXRpb25zLCBbXSwgYW5ub3RhdGlvbnMgPT4gYW5ub3RhdGlvbnMuZmxhdE1hcChhbm5vdGF0aW9uID0+IHNwbGl0UGFydHMoYW5ub3RhdGlvbi5mb2N1cykubWFwKHBhcnQgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYW5ub3RhdGlvbiksIHsgZm9jdXM6IHBhcnQgfSkpKSkpO1xyXG4gICAgY29uc3QgaW5saW5lQ29kZUFubm90YXRpb25zID0gbWFwV2l0aERlZmF1bHQoZXhwYW5kZWRBbm5vdGF0aW9ucywgW10sIGFubm90YXRpb25zID0+IGFubm90YXRpb25zLmZpbHRlcihpc0lubGluZSkpO1xyXG4gICAgY29uc3QgbXVsdGlsaW5lQ29kZUFubm90YXRpb25zID0gbWFwV2l0aERlZmF1bHQoZXhwYW5kZWRBbm5vdGF0aW9ucywgW10sIGFubm90YXRpb25zID0+IGFubm90YXRpb25zLmZpbHRlcihhID0+ICFpc0lubGluZShhKSkpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbmxpbmVBbm5vdGF0aW9uczogbWFwKGlubGluZUNvZGVBbm5vdGF0aW9ucywgYW5ub3RhdGlvbnMgPT4gcGFyc2VJbmxpbmVBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucywgdGhlbWUpKSxcclxuICAgICAgICBtdWx0aWxpbmVBbm5vdGF0aW9uczogbWFwKG11bHRpbGluZUNvZGVBbm5vdGF0aW9ucywgYW5ub3RhdGlvbnMgPT4gcGFyc2VNdWx0aWxpbmVBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucywgdGhlbWUpKSxcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaXNJbmxpbmUoYW5ub3RhdGlvbikge1xyXG4gICAgcmV0dXJuIGhhc0NvbHVtbnMoYW5ub3RhdGlvbi5mb2N1cyk7XHJcbn1cclxuZnVuY3Rpb24gcGFyc2VJbmxpbmVBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucywgdGhlbWUpIHtcclxuICAgIGNvbnN0IGFubm90YXRpb25NYXAgPSB7fTtcclxuICAgIGFubm90YXRpb25zLmZvckVhY2goYW5ub3RhdGlvbiA9PiB7XHJcbiAgICAgICAgY29uc3QgZm9jdXNNYXAgPSBwYXJzZVBhcnRUb09iamVjdChhbm5vdGF0aW9uLmZvY3VzKTtcclxuICAgICAgICBjb25zdCBsaW5lTnVtYmVyID0gK09iamVjdC5rZXlzKGZvY3VzTWFwKVswXTtcclxuICAgICAgICBjb25zdCBjb2x1bW5OdW1iZXJzTGlzdCA9IGZvY3VzTWFwW2xpbmVOdW1iZXJdO1xyXG4gICAgICAgIGNvbnN0IGxpbmVBbm5vdGF0aW9ucyA9IGFubm90YXRpb25NYXBbbGluZU51bWJlcl0gfHwgW107XHJcbiAgICAgICAgbGluZUFubm90YXRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICBjb2x1bW5OdW1iZXJzOiBjb2x1bW5OdW1iZXJzTGlzdFswXSxcclxuICAgICAgICAgICAgZGF0YTogYW5ub3RhdGlvbi5kYXRhLFxyXG4gICAgICAgICAgICB0aGVtZTogdGhlbWUsXHJcbiAgICAgICAgICAgIENvbXBvbmVudDogYW5ub3RhdGlvbi5Db21wb25lbnQgfHxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRJbmxpbmVDb21wb25lbnQoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBhbm5vdGF0aW9uTWFwW2xpbmVOdW1iZXJdID0gbGluZUFubm90YXRpb25zO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYW5ub3RhdGlvbk1hcDtcclxufVxyXG5mdW5jdGlvbiBkZWZhdWx0SW5saW5lQ29tcG9uZW50KGFubm90YXRpb24sIHRoZW1lKSB7XHJcbiAgICByZXR1cm4gKHsgY2hpbGRyZW4gfSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgc3R5bGU6IHsgb3V0bGluZTogXCJyZWQgMXB4IHNvbGlkXCIgfSB9LCBjaGlsZHJlbikpO1xyXG59XHJcbmZ1bmN0aW9uIHBhcnNlTXVsdGlsaW5lQW5ub3RhdGlvbnMoYW5ub3RhdGlvbnMsIHRoZW1lKSB7XHJcbiAgICByZXR1cm4gYW5ub3RhdGlvbnMubWFwKGFubm90YXRpb24gPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxpbmVOdW1iZXJzOiBwYXJzZUV4dHJlbWVzKGFubm90YXRpb24uZm9jdXMpLFxyXG4gICAgICAgICAgICBkYXRhOiBhbm5vdGF0aW9uLmRhdGEsXHJcbiAgICAgICAgICAgIHRoZW1lOiB0aGVtZSxcclxuICAgICAgICAgICAgQ29tcG9uZW50OiBhbm5vdGF0aW9uLkNvbXBvbmVudCB8fFxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdE11bHRpbGluZUNvbXBvbmVudChhbm5vdGF0aW9uLCB0aGVtZSksXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGRlZmF1bHRNdWx0aWxpbmVDb21wb25lbnQoYW5ub3RhdGlvbiwgdGhlbWUpIHtcclxuICAgIC8vIFRPRE8gaGFuZGxlIG1pc3NpbmcgYmdcclxuICAgIGNvbnN0IGJnID0gKHRoZW1lLmNvbG9yc1tcImVkaXRvci5saW5lSGlnaGxpZ2h0QmFja2dyb3VuZFwiXSB8fFxyXG4gICAgICAgIHRoZW1lLmNvbG9yc1tcImVkaXRvci5zZWxlY3Rpb25IaWdobGlnaHRCYWNrZ3JvdW5kXCJdKTtcclxuICAgIHJldHVybiAoeyBjaGlsZHJlbiwgc3R5bGUgfSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdHlsZSksIHsgYmFja2dyb3VuZDogYmcsIGN1cnNvcjogXCJwb2ludGVyXCIgfSksIG9uQ2xpY2s6IF8gPT4gYWxlcnQoXCJjbGlja2VkXCIpLCBjbGFzc05hbWU6IFwiY2gtY29kZS1iZy1hbm5vdGF0aW9uXCIgfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjaC1jb2RlLWJnLWFubm90YXRpb24tYm9yZGVyXCIsIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiMwMGEyZDNcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjNweFwiLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICB9IH0pLFxyXG4gICAgICAgIGNoaWxkcmVuKSk7XHJcbn1cclxuLy8gLS0tIG11bHRpbGluZVxyXG5mdW5jdGlvbiBhbm5vdGF0ZU11bHRpbGluZShsaW5lcywgYW5ub3RhdGlvbnMpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJldjogYW5ub3RhdGVNdWx0aWxpbmVTaWRlKGxpbmVzLCBhbm5vdGF0aW9ucy5wcmV2LCBsaW5lID0+IGxpbmUubGluZU51bWJlci5wcmV2KSxcclxuICAgICAgICBuZXh0OiBhbm5vdGF0ZU11bHRpbGluZVNpZGUobGluZXMsIGFubm90YXRpb25zLm5leHQsIGxpbmUgPT4gbGluZS5saW5lTnVtYmVyLm5leHQpLFxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBhbm5vdGF0ZU11bHRpbGluZVNpZGUobGluZXMsIG9nQW5ub3RhdGlvbnMsIGdldExpbmVOdW1iZXIpIHtcclxuICAgIGNvbnN0IGFubm90YXRpb25zID0gWy4uLm9nQW5ub3RhdGlvbnNdO1xyXG4gICAgYW5ub3RhdGlvbnMuc29ydCgoYSwgYikgPT4gYS5saW5lTnVtYmVycy5zdGFydCAtIGIubGluZU51bWJlcnMuc3RhcnQpO1xyXG4gICAgbGV0IGxpbmVJbmRleCA9IDA7XHJcbiAgICBjb25zdCBncm91cHMgPSBbXTtcclxuICAgIHdoaWxlIChsaW5lSW5kZXggPCBsaW5lcy5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBhbm5vdGF0aW9uID0gYW5ub3RhdGlvbnNbMF07XHJcbiAgICAgICAgbGV0IGxpbmUgPSBsaW5lc1tsaW5lSW5kZXhdO1xyXG4gICAgICAgIGlmIChhbm5vdGF0aW9uICYmXHJcbiAgICAgICAgICAgIGdldExpbmVOdW1iZXIobGluZSkgPiBhbm5vdGF0aW9uLmxpbmVOdW1iZXJzLnN0YXJ0KSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiQ29kZSBIaWtlIGNhbid0IGhhbmRsZSB0d28gYW5ub3RhdGlvbnMgZm9yIHRoZSBzYW1lIGxpbmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFubm90YXRpb24gJiZcclxuICAgICAgICAgICAgZ2V0TGluZU51bWJlcihsaW5lKSA9PT0gYW5ub3RhdGlvbi5saW5lTnVtYmVycy5zdGFydCkge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgYW5ub3RhdGlvbiBncm91cFxyXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHtcclxuICAgICAgICAgICAgICAgIGxpbmVzOiBbXSxcclxuICAgICAgICAgICAgICAgIGFubm90YXRpb24sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHdoaWxlIChsaW5lICYmXHJcbiAgICAgICAgICAgICAgICAoIWdldExpbmVOdW1iZXIobGluZSkgfHxcclxuICAgICAgICAgICAgICAgICAgICBnZXRMaW5lTnVtYmVyKGxpbmUpIDw9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24ubGluZU51bWJlcnMuZW5kKSkge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXAubGluZXMucHVzaChsaW5lKTtcclxuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lc1srK2xpbmVJbmRleF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ3JvdXBzLnB1c2goZ3JvdXApO1xyXG4gICAgICAgICAgICBhbm5vdGF0aW9ucy5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghYW5ub3RhdGlvbikge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdW5hbm5vdGF0ZWQgZ3JvdXAgdW50aWwgdGhlIGVuZFxyXG4gICAgICAgICAgICBncm91cHMucHVzaCh7IGxpbmVzOiBsaW5lcy5zbGljZShsaW5lSW5kZXgpIH0pO1xyXG4gICAgICAgICAgICBsaW5lSW5kZXggPSBsaW5lcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgdW5hbm5vdGF0ZWQgZ3JvdXAgdW50aWwgbmV4dCBhbm5vdGF0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0ge1xyXG4gICAgICAgICAgICAgICAgbGluZXM6IFtdLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB3aGlsZSAobGluZSAmJlxyXG4gICAgICAgICAgICAgICAgKCFnZXRMaW5lTnVtYmVyKGxpbmUpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0TGluZU51bWJlcihsaW5lKSA8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24ubGluZU51bWJlcnMuc3RhcnQpKSB7XHJcbiAgICAgICAgICAgICAgICBncm91cC5saW5lcy5wdXNoKGxpbmUpO1xyXG4gICAgICAgICAgICAgICAgbGluZSA9IGxpbmVzWysrbGluZUluZGV4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBncm91cHMucHVzaChncm91cCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdyb3VwcztcclxufVxyXG4vLyAtLS0gaW5saW5lXHJcbmZ1bmN0aW9uIGFubm90YXRlSW5saW5lKGxpbmVzLCBpbmxpbmVBbm5vdGF0aW9ucykge1xyXG4gICAgcmV0dXJuIGxpbmVzLm1hcCgoX2EpID0+IHtcclxuICAgICAgICB2YXIgeyBncm91cHMgfSA9IF9hLCBsaW5lID0gX19yZXN0KF9hLCBbXCJncm91cHNcIl0pO1xyXG4gICAgICAgIGNvbnN0IHsgbGluZU51bWJlciB9ID0gbGluZTtcclxuICAgICAgICBjb25zdCBhbm5vdGF0aW9ucyA9IHtcclxuICAgICAgICAgICAgcHJldjogbGluZU51bWJlci5wcmV2XHJcbiAgICAgICAgICAgICAgICA/IGlubGluZUFubm90YXRpb25zLnByZXZbbGluZU51bWJlci5wcmV2XSB8fCBbXVxyXG4gICAgICAgICAgICAgICAgOiBbXSxcclxuICAgICAgICAgICAgbmV4dDogbGluZU51bWJlci5uZXh0XHJcbiAgICAgICAgICAgICAgICA/IGlubGluZUFubm90YXRpb25zLm5leHRbbGluZU51bWJlci5uZXh0XSB8fCBbXVxyXG4gICAgICAgICAgICAgICAgOiBbXSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxpbmUpLCB7IGFubm90YXRlZEdyb3VwczogYW5ub3RhdGVMaW5lVG9rZW5Hcm91cHMoZ3JvdXBzLCBhbm5vdGF0aW9ucykgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGUgYSBsaXN0IG9mIGFubm90YXRlZCBncm91cHMgdHdlZW5zXHJcbiAqIGVhY2ggYW5ub3RhdGVkIGdyb3VwIGNvbnRhaW5zIGEgbGlzdCBvZiB0b2tlbiBncm91cHMgYW5kIG1heWJlIGFuIGFubm90YXRpb24uXHJcbiAqIFRoZSB0d28gYW5ub3RhdGVkIGdyb3VwcyBpbiBhIHR3ZWVuIGRvZXNuJ3QgbmVlZCB0byBoYXZlIHRoZSBzYW1lIHRva2VuIGdyb3Vwcy5cclxuICovXHJcbmZ1bmN0aW9uIGFubm90YXRlTGluZVRva2VuR3JvdXBzKHRva2VuR3JvdXBzLCBhbm5vdGF0aW9ucykge1xyXG4gICAgbGV0IHByZXZUb2tlbkdyb3VwcyA9IFsuLi50b2tlbkdyb3Vwc107XHJcbiAgICBsZXQgbmV4dFRva2VuR3JvdXBzID0gWy4uLnRva2VuR3JvdXBzXTtcclxuICAgIGNvbnN0IHByZXZBbm5vdGF0aW9ucyA9IFsuLi5hbm5vdGF0aW9ucy5wcmV2XTtcclxuICAgIGNvbnN0IG5leHRBbm5vdGF0aW9ucyA9IFsuLi5hbm5vdGF0aW9ucy5uZXh0XTtcclxuICAgIGNvbnN0IGFubm90YXRlZEdyb3VwcyA9IFtdO1xyXG4gICAgbGV0IHByZXZDb2x1bW4gPSAxO1xyXG4gICAgbGV0IG5leHRDb2x1bW4gPSAxO1xyXG4gICAgLy8gaXRlcmF0ZSB1bnRpbCB3ZSBjb25zdW1lIGJvdGggbGlzdHMgb2YgdG9rZW4gZ3JvdXBzXHJcbiAgICB3aGlsZSAocHJldlRva2VuR3JvdXBzLmxlbmd0aCA+IDAgfHxcclxuICAgICAgICBuZXh0VG9rZW5Hcm91cHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnN0IHByZXZBbm5vdGF0aW9uID0gcHJldkFubm90YXRpb25zWzBdO1xyXG4gICAgICAgIGNvbnN0IG5leHRBbm5vdGF0aW9uID0gbmV4dEFubm90YXRpb25zWzBdO1xyXG4gICAgICAgIGNvbnN0IGlzUHJldkFubm90YXRpb25TdGFydGluZyA9IHByZXZBbm5vdGF0aW9uICYmXHJcbiAgICAgICAgICAgIHByZXZBbm5vdGF0aW9uLmNvbHVtbk51bWJlcnMuc3RhcnQgPT09IHByZXZDb2x1bW47XHJcbiAgICAgICAgY29uc3QgaXNOZXh0QW5ub3RhdGlvblN0YXJ0aW5nID0gbmV4dEFubm90YXRpb24gJiZcclxuICAgICAgICAgICAgbmV4dEFubm90YXRpb24uY29sdW1uTnVtYmVycy5zdGFydCA9PT0gbmV4dENvbHVtbjtcclxuICAgICAgICBpZiAocHJldkNvbHVtbiA8IG5leHRDb2x1bW4pIHtcclxuICAgICAgICAgICAgLy8gaWYgdGhlIHByZXYgbGlzdCBpcyBiZWhpbmQgd2UgY29uc3VtZSBmcm9tIHByZXZUb2tlbkdyb3Vwc1xyXG4gICAgICAgICAgICBpZiAoaXNQcmV2QW5ub3RhdGlvblN0YXJ0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBhbm5vdGF0aW9uIHN0YXJ0aW5nIGF0IHRoaXMgcG9pbnQgd2UgY29uc3VtZSB1bnRpbCB0aGUgYW5ub3RhdGlvbiBlbmRzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBwcmV2QW5ub3RhdGlvbi5jb2x1bW5OdW1iZXJzLmVuZCArIDE7XHJcbiAgICAgICAgICAgICAgICBhbm5vdGF0ZWRHcm91cHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiBwcmV2QW5ub3RhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzOiBzaGlmdEdyb3VwcyhwcmV2VG9rZW5Hcm91cHMsIHByZXZDb2x1bW4sIGVuZCksXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcHJldkNvbHVtbiA9IGVuZDtcclxuICAgICAgICAgICAgICAgIHByZXZBbm5vdGF0aW9ucy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXNuJ3Qgd2UgY29uc3VtZSB1bnRpbCB3ZSBzeW5jIHdpdGggdGhlIG5leHQgbGlzdCBvciBhbiBhbm5vdGF0aW9uIHN0YXJ0c1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gTWF0aC5taW4obmV4dENvbHVtbiwgKHByZXZBbm5vdGF0aW9uID09PSBudWxsIHx8IHByZXZBbm5vdGF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcmV2QW5ub3RhdGlvbi5jb2x1bW5OdW1iZXJzLnN0YXJ0KSB8fCBuZXh0Q29sdW1uKTtcclxuICAgICAgICAgICAgICAgIGFubm90YXRlZEdyb3Vwcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwczogc2hpZnRHcm91cHMocHJldlRva2VuR3JvdXBzLCBwcmV2Q29sdW1uLCBlbmQpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHByZXZDb2x1bW4gPSBlbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJldkNvbHVtbiA+IG5leHRDb2x1bW4pIHtcclxuICAgICAgICAgICAgLy8gaWYgdGhlIG5leHQgbGlzdCBpcyBiZWhpbmQgd2UgY29uc3VtZSBmcm9tIG5leHRUb2tlbkdyb3Vwc1xyXG4gICAgICAgICAgICBpZiAoaXNOZXh0QW5ub3RhdGlvblN0YXJ0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiBhbm5vdGF0aW9uIHN0YXJ0aW5nIGF0IHRoaXMgcG9pbnQgd2UgY29uc3VtZSB1bnRpbCB0aGUgYW5ub3RhdGlvbiBlbmRzXHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXh0QW5ub3RhdGlvbi5jb2x1bW5OdW1iZXJzLmVuZCArIDE7XHJcbiAgICAgICAgICAgICAgICBhbm5vdGF0ZWRHcm91cHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiBuZXh0QW5ub3RhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzOiBzaGlmdEdyb3VwcyhuZXh0VG9rZW5Hcm91cHMsIG5leHRDb2x1bW4sIGVuZCksXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbmV4dENvbHVtbiA9IGVuZDtcclxuICAgICAgICAgICAgICAgIG5leHRBbm5vdGF0aW9ucy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXNuJ3Qgd2UgY29uc3VtZSB1bnRpbCB3ZSBzeW5jIHdpdGggdGhlIHByZXYgbGlzdCBvciBhbiBhbm5vdGF0aW9uIHN0YXJ0c1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gTWF0aC5taW4ocHJldkNvbHVtbiwgKG5leHRBbm5vdGF0aW9uID09PSBudWxsIHx8IG5leHRBbm5vdGF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBuZXh0QW5ub3RhdGlvbi5jb2x1bW5OdW1iZXJzLnN0YXJ0KSB8fCBwcmV2Q29sdW1uKTtcclxuICAgICAgICAgICAgICAgIGFubm90YXRlZEdyb3Vwcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwczogc2hpZnRHcm91cHMobmV4dFRva2VuR3JvdXBzLCBuZXh0Q29sdW1uLCBlbmQpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG5leHRDb2x1bW4gPSBlbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJldkNvbHVtbiA9PSBuZXh0Q29sdW1uKSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBhdCB0aGUgc2FtZSBjb2x1bW4gaW4gYm90aCBsaXN0cyB3ZSBoYXZlIDUgZGlmZmVyZW50IGNhc2VzXHJcbiAgICAgICAgICAgIGlmIChpc1ByZXZBbm5vdGF0aW9uU3RhcnRpbmcgJiZcclxuICAgICAgICAgICAgICAgIGlzTmV4dEFubm90YXRpb25TdGFydGluZyAmJlxyXG4gICAgICAgICAgICAgICAgcHJldkFubm90YXRpb24uY29sdW1uTnVtYmVycy5lbmQgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dEFubm90YXRpb24uY29sdW1uTnVtYmVycy5lbmQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGJvdGggYW5ub3RhdGlvbnMgc3RhcnRzIGhlcmUgYW5kIGVuZCBhdCB0aGUgc2FtZSBwbGFjZSwgc28gd2UgcHV0aCBib3RoIGluIG9uZSB0d2VlbiBhbm5vdGF0ZWQgZ3JvdXBcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5leHRBbm5vdGF0aW9uLmNvbHVtbk51bWJlcnMuZW5kICsgMTtcclxuICAgICAgICAgICAgICAgIGFubm90YXRlZEdyb3Vwcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246IHByZXZBbm5vdGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHM6IHNoaWZ0R3JvdXBzKHByZXZUb2tlbkdyb3VwcywgcHJldkNvbHVtbiwgZW5kKSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogbmV4dEFubm90YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwczogc2hpZnRHcm91cHMobmV4dFRva2VuR3JvdXBzLCBuZXh0Q29sdW1uLCBlbmQpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHByZXZDb2x1bW4gPSBlbmQ7XHJcbiAgICAgICAgICAgICAgICBuZXh0Q29sdW1uID0gZW5kO1xyXG4gICAgICAgICAgICAgICAgcHJldkFubm90YXRpb25zLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBuZXh0QW5ub3RhdGlvbnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1ByZXZBbm5vdGF0aW9uU3RhcnRpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIG9ubHkgdGhlIHByZXYgYW5ub3RhdGlvbiBzdGFydGluZyBhdCB0aGlzIHBvaW50IHdlIGNvbnN1bWUgdW50aWwgdGhlIGFubm90YXRpb24gZW5kc1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gcHJldkFubm90YXRpb24uY29sdW1uTnVtYmVycy5lbmQgKyAxO1xyXG4gICAgICAgICAgICAgICAgYW5ub3RhdGVkR3JvdXBzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXY6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbjogcHJldkFubm90YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwczogc2hpZnRHcm91cHMocHJldlRva2VuR3JvdXBzLCBwcmV2Q29sdW1uLCBlbmQpLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHByZXZDb2x1bW4gPSBlbmQ7XHJcbiAgICAgICAgICAgICAgICBwcmV2QW5ub3RhdGlvbnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc05leHRBbm5vdGF0aW9uU3RhcnRpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNhbWUgZm9yIHRoZSBuZXh0IGFubm90YXRpb25cclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5leHRBbm5vdGF0aW9uLmNvbHVtbk51bWJlcnMuZW5kICsgMTtcclxuICAgICAgICAgICAgICAgIGFubm90YXRlZEdyb3Vwcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFubm90YXRpb246IG5leHRBbm5vdGF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHM6IHNoaWZ0R3JvdXBzKG5leHRUb2tlbkdyb3VwcywgbmV4dENvbHVtbiwgZW5kKSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBuZXh0Q29sdW1uID0gZW5kO1xyXG4gICAgICAgICAgICAgICAgbmV4dEFubm90YXRpb25zLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXByZXZBbm5vdGF0aW9uICYmICFuZXh0QW5ub3RhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlbid0IGFueSByZW1haW5pbmcgYW5ub3RhdGlvbiB3ZSBhZGQgYSBsYXN0IGdyb3VwXHJcbiAgICAgICAgICAgICAgICBhbm5vdGF0ZWRHcm91cHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldjogeyBncm91cHM6IHByZXZUb2tlbkdyb3VwcyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IHsgZ3JvdXBzOiBuZXh0VG9rZW5Hcm91cHMgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgbGFzdCBpdGVyYXRpb25cclxuICAgICAgICAgICAgICAgIHByZXZUb2tlbkdyb3VwcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbmV4dFRva2VuR3JvdXBzID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIGFubm90YXRpb25zIGxlZnQgd2UgY29uc3VtZSB1bnRpbCB0aGUgbmV4dCBvbmVcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKChwcmV2QW5ub3RhdGlvbiA9PT0gbnVsbCB8fCBwcmV2QW5ub3RhdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJldkFubm90YXRpb24uY29sdW1uTnVtYmVycy5zdGFydCkgfHxcclxuICAgICAgICAgICAgICAgICAgICBOdW1iZXIuTUFYX1ZBTFVFLCAobmV4dEFubm90YXRpb24gPT09IG51bGwgfHwgbmV4dEFubm90YXRpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5leHRBbm5vdGF0aW9uLmNvbHVtbk51bWJlcnMuc3RhcnQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyLk1BWF9WQUxVRSk7XHJcbiAgICAgICAgICAgICAgICBhbm5vdGF0ZWRHcm91cHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cHM6IHNoaWZ0R3JvdXBzKHByZXZUb2tlbkdyb3VwcywgcHJldkNvbHVtbiwgZW5kKSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzOiBzaGlmdEdyb3VwcyhuZXh0VG9rZW5Hcm91cHMsIG5leHRDb2x1bW4sIGVuZCksXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcHJldkNvbHVtbiA9IGVuZDtcclxuICAgICAgICAgICAgICAgIG5leHRDb2x1bW4gPSBlbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYW5ub3RhdGVkR3JvdXBzO1xyXG59XHJcbi8qKlxyXG4gKiBSZW1vdmUgYW5kIHJldHVybiBzb21lIGdyb3VwcyBmcm9tIHRoZSBiZWdnaW5pbmcgb2YgdGhlIGFycmF5XHJcbiAqIHN0YXJ0Q29sdW1uIGlzIHRoZSBjb2x1bW4gYXQgd2hpY2ggdGhlIGFycmF5IGlzIHN0YXJ0aW5nXHJcbiAqIChiZWNhdXNlIG90aGVyIGdyb3VwcyBoYXMgYmVlbiBhbHJlYWR5IHJlbW92ZWQpXHJcbiAqIG5ld1N0YXJ0Q29sdW1uIGlzIHRoZSBmaXJzdCBjb2x1bW4gdGhhdCBzaG91bGQgc3RheSBpbiB0aGUgYXJyYXlcclxuICovXHJcbmZ1bmN0aW9uIHNoaWZ0R3JvdXBzKHRva2VuR3JvdXBzLCBzdGFydENvbHVtbiwgbmV3U3RhcnRDb2x1bW4pIHtcclxuICAgIGNvbnN0IHJlbW92ZWRHcm91cHMgPSBbXTtcclxuICAgIGxldCBjdXJyZW50U3RhcnRDb2x1bW4gPSBzdGFydENvbHVtbjtcclxuICAgIHdoaWxlIChjdXJyZW50U3RhcnRDb2x1bW4gPCBuZXdTdGFydENvbHVtbiAmJlxyXG4gICAgICAgIHRva2VuR3JvdXBzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50VG9rZW5Hcm91cCA9IHRva2VuR3JvdXBzLnNoaWZ0KCk7XHJcbiAgICAgICAgcmVtb3ZlZEdyb3Vwcy5wdXNoKGN1cnJlbnRUb2tlbkdyb3VwKTtcclxuICAgICAgICBjb25zdCBsZW5ndGggPSBjdXJyZW50VG9rZW5Hcm91cC50b2tlbnMucmVkdWNlKChhLCB0KSA9PiBhICsgdC5jb250ZW50Lmxlbmd0aCwgMCk7XHJcbiAgICAgICAgY3VycmVudFN0YXJ0Q29sdW1uICs9IGxlbmd0aDtcclxuICAgIH1cclxuICAgIHJldHVybiByZW1vdmVkR3JvdXBzO1xyXG59XG5cbmZ1bmN0aW9uIHVzZVN0ZXBQYXJzZXIoaW5wdXQpIHtcclxuICAgIGNvbnN0IHsgaGlnaGxpZ2h0ZWRMaW5lcywgdGhlbWUsIGZvY3VzIH0gPSBpbnB1dDtcclxuICAgIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+IHBhcnNlJDEoaW5wdXQpLCBbXHJcbiAgICAgICAgaGlnaGxpZ2h0ZWRMaW5lcy5wcmV2LFxyXG4gICAgICAgIGhpZ2hsaWdodGVkTGluZXMubmV4dCxcclxuICAgICAgICBmb2N1cy5wcmV2LFxyXG4gICAgICAgIGZvY3VzLm5leHQsXHJcbiAgICAgICAgdGhlbWUsXHJcbiAgICBdKTtcclxufVxyXG5mdW5jdGlvbiBwYXJzZSQxKHsgdGhlbWUsIGZvY3VzLCBhbm5vdGF0aW9ucywgaGlnaGxpZ2h0ZWRMaW5lcywgbGFuZywgfSkge1xyXG4gICAgY29uc3Qgbm9ybWFsQ29kZSA9IGdldENvZGUoaGlnaGxpZ2h0ZWRMaW5lcyk7XHJcbiAgICBjb25zdCBtZXJnZWRDb2RlID0gbWVyZ2Uobm9ybWFsQ29kZSwgaGlnaGxpZ2h0ZWRMaW5lcyk7XHJcbiAgICBjb25zdCB7IGlubGluZUFubm90YXRpb25zLCBtdWx0aWxpbmVBbm5vdGF0aW9ucyB9ID0gcGFyc2VBbGxBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucywgdGhlbWUpO1xyXG4gICAgY29uc3QgZm9jdXNlZENvZGUgPSBzcGxpdExpbmVzQnlGb2N1cyhtZXJnZWRDb2RlLCB3aXRoRGVmYXVsdChmb2N1cywgbnVsbCksIGlubGluZUFubm90YXRpb25zKTtcclxuICAgIGNvbnN0IGFubm90YXRlZENvZGUgPSBhZGRBbm5vdGF0aW9ucyhmb2N1c2VkQ29kZSwgaW5saW5lQW5ub3RhdGlvbnMsIG11bHRpbGluZUFubm90YXRpb25zKTtcclxuICAgIGNvbnN0IGNvZGVTdGVwID0gYWRkRXh0cmFTdHVmZihhbm5vdGF0ZWRDb2RlLCBub3JtYWxDb2RlLCBsYW5nKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKHsgY29kZVN0ZXAgfSlcclxuICAgIHJldHVybiBjb2RlU3RlcDtcclxufVxyXG4vLyAwIC0gbm9ybWFsaXplXHJcbmZ1bmN0aW9uIGdldENvZGUoaGlnaGxpZ2h0ZWRMaW5lcykge1xyXG4gICAgcmV0dXJuIG1hcChoaWdobGlnaHRlZExpbmVzLCBsaW5lcyA9PiBsaW5lc1xyXG4gICAgICAgIC5tYXAobGluZSA9PiBsaW5lLnRva2Vucy5tYXAodCA9PiB0LmNvbnRlbnQpLmpvaW4oXCJcIikpXHJcbiAgICAgICAgLmpvaW4oXCJcXG5cIilcclxuICAgICAgICAudHJpbUVuZCgpXHJcbiAgICAgICAgLmNvbmNhdChcIlxcblwiKSk7XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2UoY29kZSwgaGlnaGxpZ2h0ZWRMaW5lcykge1xyXG4gICAgcmV0dXJuIG1lcmdlTGluZXMoY29kZSwgaGlnaGxpZ2h0ZWRMaW5lcyk7XHJcbn1cclxuZnVuY3Rpb24gcGFyc2VBbGxBbm5vdGF0aW9ucyhhbm5vdGF0aW9ucywgdGhlbWUpIHtcclxuICAgIHJldHVybiBwYXJzZUFubm90YXRpb25zKGFubm90YXRpb25zLCB0aGVtZSk7XHJcbn1cclxuZnVuY3Rpb24gc3BsaXRMaW5lc0J5Rm9jdXMobWVyZ2VkQ29kZSwgZm9jdXMsIGFubm90YXRpb25zKSB7XHJcbiAgICByZXR1cm4gc3BsaXRCeUZvY3VzKG1lcmdlZENvZGUsIGZvY3VzLCBhbm5vdGF0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gYWRkQW5ub3RhdGlvbnMoX2EsIGlubGluZUFubm90YXRpb25zLCBhbm5vdGF0aW9ucykge1xyXG4gICAgdmFyIHsgbGluZXMgfSA9IF9hLCBmb2N1c2VkQ29kZSA9IF9fcmVzdChfYSwgW1wibGluZXNcIl0pO1xyXG4gICAgY29uc3QgYW5ub3RhdGVkTGluZXMgPSBhbm5vdGF0ZUlubGluZShsaW5lcywgaW5saW5lQW5ub3RhdGlvbnMpO1xyXG4gICAgY29uc3QgbGluZUdyb3VwcyA9IGFubm90YXRlTXVsdGlsaW5lKGFubm90YXRlZExpbmVzLCBhbm5vdGF0aW9ucyk7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBmb2N1c2VkQ29kZSksIHsgbGluZUdyb3VwczogbGluZUdyb3VwcywgbGluZUNvdW50OiB7XHJcbiAgICAgICAgICAgIHByZXY6IGxpbmVzLmZpbHRlcihsID0+IGwubGluZU51bWJlci5wcmV2ICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICAubGVuZ3RoLFxyXG4gICAgICAgICAgICBuZXh0OiBsaW5lcy5maWx0ZXIobCA9PiBsLmxpbmVOdW1iZXIubmV4dCAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgLmxlbmd0aCxcclxuICAgICAgICB9IH0pO1xyXG59XHJcbmZ1bmN0aW9uIGFkZEV4dHJhU3R1ZmYoY29kZVN0ZXAsIGNvZGUsIGxhbmcpIHtcclxuICAgIGNvbnN0IHZJbnRlcnZhbCA9IHZlcnRpY2FsSW50ZXJ2YWwoY29kZVN0ZXAuZW50ZXJDb3VudCwgY29kZVN0ZXAuZXhpdENvdW50KTtcclxuICAgIGNvbnN0IG5ld0dyb3VwcyA9IG1hcChjb2RlU3RlcC5saW5lR3JvdXBzLCBncm91cHMgPT4gZ3JvdXBzLm1hcChncm91cCA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBncm91cCksIHsgbGluZXM6IGdldExpbmVzV2l0aEVsZW1lbnRzKGdyb3VwLmxpbmVzLCB2SW50ZXJ2YWwsIGNvZGVTdGVwLmVudGVyQ291bnQsIGNvZGVTdGVwLmV4aXRDb3VudCkgfSkpKSk7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb2RlU3RlcCksIHsgZ3JvdXBzOiBuZXdHcm91cHMsIHZlcnRpY2FsSW50ZXJ2YWw6IHZJbnRlcnZhbCwgY29kZSxcclxuICAgICAgICBsYW5nIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHZlcnRpY2FsSW50ZXJ2YWwoZW50ZXJDb3VudCwgZXhpdENvdW50KSB7XHJcbiAgICBpZiAoZW50ZXJDb3VudCA8PSAwICYmIGV4aXRDb3VudCA8PSAwKVxyXG4gICAgICAgIHJldHVybiBbMCwgMV07XHJcbiAgICBpZiAoZW50ZXJDb3VudCA8PSAwICYmIGV4aXRDb3VudCA+PSAxKVxyXG4gICAgICAgIHJldHVybiBbMC4zMywgMV07XHJcbiAgICBpZiAoZW50ZXJDb3VudCA+PSAxICYmIGV4aXRDb3VudCA8PSAwKVxyXG4gICAgICAgIHJldHVybiBbMCwgMC42N107XHJcbiAgICByZXR1cm4gWzAuMjUsIDAuNzVdO1xyXG59XG5cbmZ1bmN0aW9uIFNtb290aENvbnRhaW5lcih7IGRpbWVuc2lvbnMsIGNvZGVTdGVwLCBjaGlsZHJlbiwgbWluWm9vbSA9IDAsIG1heFpvb20gPSAxLjIsIGNlbnRlciA9IGZhbHNlLCBwcm9ncmVzcywgfSkge1xyXG4gICAgY29uc3QgeyBwcmV2LCBuZXh0IH0gPSBnZXRUd2VlbkNvbnRlbnRQcm9wcyh7XHJcbiAgICAgICAgY29kZVN0ZXAsXHJcbiAgICAgICAgZGltZW5zaW9ucyxcclxuICAgICAgICBtaW5ab29tLFxyXG4gICAgICAgIG1heFpvb20sXHJcbiAgICAgICAgaG9yaXpvbnRhbENlbnRlcjogY2VudGVyLFxyXG4gICAgfSk7XHJcbiAgICAvLyBhbGwgdGhlc2UgdHdlZW5zIGRlcGVuZHMgb24gYW5ub3RhdGlvbnMgbm93ICh0IGluc3RlYWQgb2YgcHJvZ3Jlc3MpXHJcbiAgICBjb25zdCB6b29tID0gdHdlZW5Qcm9wKHByZXYuem9vbSwgbmV4dC56b29tLCBwcm9ncmVzcyk7XHJcbiAgICBjb25zdCBkeCA9IHR3ZWVuUHJvcChwcmV2LmR4LCBuZXh0LmR4LCBwcm9ncmVzcyk7XHJcbiAgICBjb25zdCBkeSA9IHR3ZWVuUHJvcChwcmV2LmR5LCBuZXh0LmR5LCBwcm9ncmVzcywgY29kZVN0ZXAudmVydGljYWxJbnRlcnZhbCk7XHJcbiAgICBjb25zdCBmb2N1c0hlaWdodCA9IHR3ZWVuUHJvcChwcmV2LmZvY3VzSGVpZ2h0LCBuZXh0LmZvY3VzSGVpZ2h0LCBwcm9ncmVzcyk7XHJcbiAgICBjb25zdCBmb2N1c1dpZHRoID0gdHdlZW5Qcm9wKHByZXYuZm9jdXNXaWR0aCwgbmV4dC5mb2N1c1dpZHRoLCBwcm9ncmVzcyk7XHJcbiAgICBjb25zdCBsaW5lTnVtYmVyUGFkID0gKChkaW1lbnNpb25zID09PSBudWxsIHx8IGRpbWVuc2lvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpbWVuc2lvbnMubGluZU51bWJlcldpZHRoKSB8fCAwKSAqIHpvb207XHJcbiAgICBjb25zdCBsZWZ0UGFkID0gbGluZU51bWJlclBhZCB8fCAxNjtcclxuICAgIGNvbnN0IHdpZHRoID0gTWF0aC5tYXgoZm9jdXNXaWR0aCArIGxlZnRQYWQsIGRpbWVuc2lvbnMuY29udGVudFdpZHRoKTtcclxuICAgIGNvbnN0IHN0YXJ0WCA9IGxlZnRQYWQgLyB6b29tO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KENvbnRhaW5lciwgeyB3aWR0aDogZGltZW5zaW9ucy5jb250YWluZXJXaWR0aCwgaGVpZ2h0OiBkaW1lbnNpb25zLmNvbnRhaW5lckhlaWdodCwgbGFuZzogY29kZVN0ZXAubGFuZyB9LFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGVudCQxLCB7IGR4OiBkeCwgZHk6IGR5LCBzY2FsZTogem9vbSwgaGVpZ2h0OiBNYXRoLm1heChmb2N1c0hlaWdodCwgZGltZW5zaW9ucy5jb250ZW50SGVpZ2h0KSwgd2lkdGg6IHdpZHRoIH0sIGNoaWxkcmVuKGZvY3VzV2lkdGgsIHN0YXJ0WCkpKSk7XHJcbn1cclxuZnVuY3Rpb24gQ29udGFpbmVyKHsgd2lkdGgsIGhlaWdodCwgY2hpbGRyZW4sIGxhbmcsIH0pIHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImNvZGVcIiwgeyBzdHlsZToge1xyXG4gICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXHJcbiAgICAgICAgfSwgY2xhc3NOYW1lOiBcImNoLWNvZGUtc2Nyb2xsLXBhcmVudFwiLCBjaGlsZHJlbjogY2hpbGRyZW4sIFwiZGF0YS1jaC1sYW5nXCI6IGxhbmcgfSkpO1xyXG59XHJcbmZ1bmN0aW9uIENvbnRlbnQkMSh7IGR4LCBkeSwgc2NhbGUsIGhlaWdodCwgd2lkdGgsIGNoaWxkcmVuLCB9KSB7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZToge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogXCJ0b3AgbGVmdFwiLFxyXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxyXG4gICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuICAgICAgICB9LCBjbGFzc05hbWU6IFwiY2gtY29kZS1zY3JvbGwtY29udGVudFwiIH0sXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHtkeH1weCkgdHJhbnNsYXRlWSgke2R5fXB4KSBzY2FsZSgke3NjYWxlfSlgLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiBcImxlZnQgdG9wXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGggLyBzY2FsZSxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogKGhlaWdodCAtIDIgKiBkeSkgLyBzY2FsZSxcclxuICAgICAgICAgICAgICAgIC8vIG91dGxpbmU6IFwiMXB4IHNvbGlkIHllbGxvd1wiLFxyXG4gICAgICAgICAgICB9LCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpKTtcclxufVxyXG5mdW5jdGlvbiBnZXRUd2VlbkNvbnRlbnRQcm9wcyhfYSkge1xyXG4gICAgdmFyIHsgY29kZVN0ZXAgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJjb2RlU3RlcFwiXSk7XHJcbiAgICBjb25zdCB7IGxpbmVIZWlnaHQsIGxpbmVXaWR0aCB9ID0gcmVzdC5kaW1lbnNpb25zO1xyXG4gICAgY29uc3QgcGFyYW1Ud2VlbiA9IHtcclxuICAgICAgICBwcmV2OiB7XHJcbiAgICAgICAgICAgIGV4dHJlbWVzOiBbXHJcbiAgICAgICAgICAgICAgICBjb2RlU3RlcC5maXJzdEZvY3VzZWRMaW5lTnVtYmVyLnByZXYgLSAxLFxyXG4gICAgICAgICAgICAgICAgY29kZVN0ZXAubGFzdEZvY3VzZWRMaW5lTnVtYmVyLnByZXYgLSAxLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBvcmlnaW5hbENvbnRlbnRIZWlnaHQ6IGNvZGVTdGVwLmxpbmVDb3VudC5wcmV2ICogbGluZUhlaWdodCxcclxuICAgICAgICAgICAgbGluZVdpZHRoOiBsaW5lV2lkdGhbMF0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuZXh0OiB7XHJcbiAgICAgICAgICAgIGV4dHJlbWVzOiBbXHJcbiAgICAgICAgICAgICAgICBjb2RlU3RlcC5maXJzdEZvY3VzZWRMaW5lTnVtYmVyLm5leHQgLSAxLFxyXG4gICAgICAgICAgICAgICAgY29kZVN0ZXAubGFzdEZvY3VzZWRMaW5lTnVtYmVyLm5leHQgLSAxLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBvcmlnaW5hbENvbnRlbnRIZWlnaHQ6IGNvZGVTdGVwLmxpbmVDb3VudC5uZXh0ICogbGluZUhlaWdodCxcclxuICAgICAgICAgICAgbGluZVdpZHRoOiBsaW5lV2lkdGhbMV0sXHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbiAgICByZXR1cm4gbWFwKHBhcmFtVHdlZW4sICh7IGV4dHJlbWVzLCBvcmlnaW5hbENvbnRlbnRIZWlnaHQsIGxpbmVXaWR0aCB9KSA9PiBnZXRDb250ZW50UHJvcHMoT2JqZWN0LmFzc2lnbih7IGV4dHJlbWVzLFxyXG4gICAgICAgIG9yaWdpbmFsQ29udGVudEhlaWdodCxcclxuICAgICAgICBsaW5lV2lkdGggfSwgcmVzdCkpKTtcclxufVxyXG5mdW5jdGlvbiBnZXRDb250ZW50UHJvcHMoeyBkaW1lbnNpb25zLCBsaW5lV2lkdGgsIG1pblpvb20sIG1heFpvb20sIGV4dHJlbWVzLCBvcmlnaW5hbENvbnRlbnRIZWlnaHQsIGhvcml6b250YWxDZW50ZXIsIH0pIHtcclxuICAgIGNvbnN0IHsgbGluZUhlaWdodCB9ID0gZGltZW5zaW9ucztcclxuICAgIGNvbnN0IGNvbnRhaW5lckhlaWdodCA9IGRpbWVuc2lvbnMgPT09IG51bGwgfHwgZGltZW5zaW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGltZW5zaW9ucy5jb250ZW50SGVpZ2h0O1xyXG4gICAgY29uc3QgY29udGFpbmVyV2lkdGggPSBkaW1lbnNpb25zID09PSBudWxsIHx8IGRpbWVuc2lvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpbWVuc2lvbnMuY29udGVudFdpZHRoO1xyXG4gICAgY29uc3Qgb3JpZ2luYWxGb2N1c0hlaWdodCA9IChleHRyZW1lc1sxXSAtIGV4dHJlbWVzWzBdICsgMykgKiBsaW5lSGVpZ2h0O1xyXG4gICAgY29uc3QgbGVmdFBhZGRpbmcgPSAoZGltZW5zaW9ucyA9PT0gbnVsbCB8fCBkaW1lbnNpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaW1lbnNpb25zLmxpbmVOdW1iZXJXaWR0aCkgfHwgMTY7XHJcbiAgICBjb25zdCByaWdodFBhZGRpbmcgPSAxNjtcclxuICAgIGNvbnN0IHpvb20gPSBNYXRoLm1heChNYXRoLm1pbigoY29udGFpbmVyV2lkdGggLSBsZWZ0UGFkZGluZyAtIHJpZ2h0UGFkZGluZykgL1xyXG4gICAgICAgIGxpbmVXaWR0aCwgY29udGFpbmVySGVpZ2h0IC8gb3JpZ2luYWxGb2N1c0hlaWdodCwgbWF4Wm9vbSksIG1pblpvb20pO1xyXG4gICAgY29uc3QgY29udGVudEhlaWdodCA9IG9yaWdpbmFsQ29udGVudEhlaWdodCAqIHpvb207XHJcbiAgICBjb25zdCBmb2N1c1N0YXJ0ID0gKGV4dHJlbWVzWzBdIC0gMSkgKiBsaW5lSGVpZ2h0ICogem9vbTtcclxuICAgIGNvbnN0IGZvY3VzRW5kID0gKGV4dHJlbWVzWzFdICsgMikgKiBsaW5lSGVpZ2h0ICogem9vbTtcclxuICAgIGNvbnN0IGZvY3VzQ2VudGVyID0gKGZvY3VzRW5kICsgZm9jdXNTdGFydCkgLyAyO1xyXG4gICAgY29uc3QgZm9jdXNIZWlnaHQgPSBmb2N1c0VuZCAtIGZvY3VzU3RhcnQ7XHJcbiAgICBjb25zdCBkeSA9IGNvbnRhaW5lckhlaWdodCA+IGNvbnRlbnRIZWlnaHRcclxuICAgICAgICA/IChjb250YWluZXJIZWlnaHQgLSBjb250ZW50SGVpZ2h0KSAvIDJcclxuICAgICAgICA6IGNsYW1wJDEoY29udGFpbmVySGVpZ2h0IC8gMiAtIGZvY3VzQ2VudGVyLCBNYXRoLm1heChjb250YWluZXJIZWlnaHQgLSBjb250ZW50SGVpZ2h0LCAtZm9jdXNTdGFydCAvLyB0byBlbnN1cmUgZmlyc3QgZm9jdXMgbGluZSBpcyBzaG93biB3aGVuIGZvY3VzIGlzIGJpZ2dlciB0aGFuIGNvbnRhaW5lclxyXG4gICAgICAgICksIDApO1xyXG4gICAgY29uc3QgZHggPSBob3Jpem9udGFsQ2VudGVyXHJcbiAgICAgICAgPyBNYXRoLm1heChjb250YWluZXJXaWR0aCAvIDIgLSAobGluZVdpZHRoICogem9vbSkgLyAyLCAwKVxyXG4gICAgICAgIDogMDtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgem9vbSxcclxuICAgICAgICBkeCxcclxuICAgICAgICBkeSxcclxuICAgICAgICBmb2N1c0hlaWdodDogZm9jdXNIZWlnaHQsXHJcbiAgICAgICAgZm9jdXNXaWR0aDogbGluZVdpZHRoICogem9vbSxcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gY2xhbXAkMShudW0sIG1pbiwgbWF4KSB7XHJcbiAgICByZXR1cm4gbnVtIDw9IG1pbiA/IG1pbiA6IG51bSA+PSBtYXggPyBtYXggOiBudW07XHJcbn1cclxuZnVuY3Rpb24gdHdlZW5Qcm9wKHN0YXJ0LCBlbmQsIHByb2dyZXNzLCBpbnRlcnZhbCA9IFswLCAxXSkge1xyXG4gICAgcmV0dXJuIHR3ZWVuJDEoe1xyXG4gICAgICAgIGZpeGVkOiBmYWxzZSxcclxuICAgICAgICBpbnRlcnZhbCxcclxuICAgICAgICBleHRyZW1lczogW3N0YXJ0LCBlbmRdLFxyXG4gICAgICAgIGVhc2U6IGVhc2luZy5lYXNlSW5PdXRDdWJpYyxcclxuICAgIH0sIHByb2dyZXNzKTtcclxufVxuXG5mdW5jdGlvbiBTbW9vdGhMaW5lcyhwcm9wcykge1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFNtb290aENvbnRhaW5lciwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpLCAoZm9jdXNXaWR0aCwgc3RhcnRYKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaW5lcywgeyBjb2RlU3RlcDogcHJvcHMuY29kZVN0ZXAsIGZvY3VzV2lkdGg6IGZvY3VzV2lkdGgsIGxpbmVIZWlnaHQ6IHByb3BzLmRpbWVuc2lvbnMubGluZUhlaWdodCwgcHJvZ3Jlc3M6IHByb3BzLnByb2dyZXNzLCB0aGVtZTogcHJvcHMudGhlbWUsIHN0YXJ0WDogc3RhcnRYLCBsaW5lTnVtYmVyV2lkdGg6IHByb3BzLmRpbWVuc2lvbnMubGluZU51bWJlcldpZHRoIH0pKSkpO1xyXG59XHJcbmZ1bmN0aW9uIExpbmVzKHsgY29kZVN0ZXAsIHByb2dyZXNzLCBmb2N1c1dpZHRoLCBsaW5lSGVpZ2h0LCBzdGFydFgsIHRoZW1lLCBsaW5lTnVtYmVyV2lkdGgsIH0pIHtcclxuICAgIGNvbnN0IGdyb3VwcyA9IHByb2dyZXNzIDwgMC41XHJcbiAgICAgICAgPyBjb2RlU3RlcC5ncm91cHMucHJldlxyXG4gICAgICAgIDogY29kZVN0ZXAuZ3JvdXBzLm5leHQ7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGdyb3Vwcy5tYXAoKGdyb3VwLCBpKSA9PiB7XHJcbiAgICAgICAgaWYgKCFncm91cC5hbm5vdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaW5lR3JvdXAsIHsgbGluZXM6IGdyb3VwLmxpbmVzLCB0OiBwcm9ncmVzcywgZm9jdXNXaWR0aDogZm9jdXNXaWR0aCwgbGluZUhlaWdodDogbGluZUhlaWdodCwgc3RhcnRYOiBzdGFydFgsIGtleTogaSwgdGhlbWU6IHRoZW1lLCBsaW5lTnVtYmVyV2lkdGg6IGxpbmVOdW1iZXJXaWR0aCB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IHR3ZWVuJDEoZ3JvdXAubGluZXNbMF0udHdlZW5ZLCBwcm9ncmVzcyk7XHJcbiAgICAgICAgY29uc3QgbGluZUNvdW50ID0gZ3JvdXAuYW5ub3RhdGlvbi5saW5lTnVtYmVycy5lbmQgLVxyXG4gICAgICAgICAgICBncm91cC5hbm5vdGF0aW9uLmxpbmVOdW1iZXJzLnN0YXJ0ICtcclxuICAgICAgICAgICAgMTtcclxuICAgICAgICBjb25zdCBDb21wb25lbnQgPSBncm91cC5hbm5vdGF0aW9uLkNvbXBvbmVudDtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7IHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBsaW5lQ291bnQgKiBsaW5lSGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3N0YXJ0WSAqIGxpbmVIZWlnaHR9cHgpYCxcclxuICAgICAgICAgICAgfSwga2V5OiBpLCBkYXRhOiBncm91cC5hbm5vdGF0aW9uLmRhdGEsIHRoZW1lOiBncm91cC5hbm5vdGF0aW9uLnRoZW1lLCBpc0lubGluZTogZmFsc2UgfSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaW5lR3JvdXAsIHsgbGluZXM6IGdyb3VwLmxpbmVzLCB0OiBwcm9ncmVzcywgZm9jdXNXaWR0aDogZm9jdXNXaWR0aCwgbGluZUhlaWdodDogbGluZUhlaWdodCwgc3RhcnRZOiBzdGFydFksIHN0YXJ0WDogc3RhcnRYLCB0aGVtZTogdGhlbWUsIGxpbmVOdW1iZXJXaWR0aDogbGluZU51bWJlcldpZHRoIH0pKSk7XHJcbiAgICB9KSkpO1xyXG59XHJcbmZ1bmN0aW9uIExpbmVHcm91cCh7IGxpbmVzLCBmb2N1c1dpZHRoLCBsaW5lSGVpZ2h0LCB0LCBzdGFydFgsIHN0YXJ0WSA9IDAsIHRoZW1lLCBsaW5lTnVtYmVyV2lkdGgsIH0pIHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgbGluZXMubWFwKChsaW5lLCBrZXkpID0+IHtcclxuICAgICAgICBjb25zdCB7IHR3ZWVuWCwgdHdlZW5ZLCBmb2N1c2VkIH0gPSBsaW5lO1xyXG4gICAgICAgIGNvbnN0IGR4ID0gdHdlZW4kMSh0d2VlblgsIHQpO1xyXG4gICAgICAgIGNvbnN0IGR5ID0gdHdlZW4kMSh0d2VlblksIHQpO1xyXG4gICAgICAgIGNvbnN0IG9wYWNpdHkgPSBnZXRPcGFjaXR5KGZvY3VzZWQsIHQsIGR4KTtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHsga2V5OiBrZXkgfSxcclxuICAgICAgICAgICAgbGluZU51bWJlcldpZHRoID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNoLWNvZGUtbGluZS1udW1iZXJcIiwgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2R4ICogZm9jdXNXaWR0aH1weCwgJHsoZHkgLSBzdGFydFkpICogbGluZUhlaWdodH1weClgLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBsaW5lTnVtYmVyV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5MaW5lTnVtYmVyRm9yZWdyb3VuZCksXHJcbiAgICAgICAgICAgICAgICB9IH0sIHQgPCAwLjVcclxuICAgICAgICAgICAgICAgID8gbGluZS5saW5lTnVtYmVyLnByZXZcclxuICAgICAgICAgICAgICAgIDogbGluZS5saW5lTnVtYmVyLm5leHQpKSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaW5lQ29udGFpbmVyLCB7IGR4OiBzdGFydFggKyBkeCAqIGZvY3VzV2lkdGgsIGR5OiAoZHkgLSBzdGFydFkpICogbGluZUhlaWdodCwgd2lkdGg6IGZvY3VzV2lkdGgsIG9wYWNpdHk6IG9wYWNpdHkgfSxcclxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGluZUNvbnRlbnQsIHsgbGluZTogbGluZSwgcHJvZ3Jlc3M6IHQsIGR4OiBkeCB9KSkpKTtcclxuICAgIH0pKSk7XHJcbn1cclxuZnVuY3Rpb24gTGluZUNvbnRlbnQoeyBsaW5lLCBwcm9ncmVzcywgZHgsIH0pIHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICB9IH0sXHJcbiAgICAgICAgbGluZS5hbm5vdGF0ZWRHcm91cHMubWFwKChhbm5vdGF0ZWRHcm91cCwgaSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQW5ub3RhdGVkVG9rZW5zLCB7IGFubm90YXRlZEdyb3VwOiBhbm5vdGF0ZWRHcm91cCwgcHJvZ3Jlc3M6IHByb2dyZXNzLCBkeDogZHgsIGtleTogaSB9KSkpLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSkpO1xyXG59XHJcbmZ1bmN0aW9uIEFubm90YXRlZFRva2Vucyh7IGFubm90YXRlZEdyb3VwLCBwcm9ncmVzcywgZHgsIH0pIHtcclxuICAgIHZhciBfYSwgX2IsIF9jO1xyXG4gICAgY29uc3QgYW5ub3RhdGVkID0gcHJvZ3Jlc3MgPCAwLjVcclxuICAgICAgICA/IGFubm90YXRlZEdyb3VwLnByZXZcclxuICAgICAgICA6IGFubm90YXRlZEdyb3VwLm5leHQ7XHJcbiAgICBjb25zdCB0b2tlbkdyb3VwcyA9IChhbm5vdGF0ZWQgPT09IG51bGwgfHwgYW5ub3RhdGVkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbm5vdGF0ZWQuZ3JvdXBzKSB8fCBbXTtcclxuICAgIGNvbnN0IENvbXBvbmVudCA9IChfYSA9IGFubm90YXRlZCA9PT0gbnVsbCB8fCBhbm5vdGF0ZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFubm90YXRlZC5hbm5vdGF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuQ29tcG9uZW50O1xyXG4gICAgY29uc3QgY2hpbGRyZW4gPSB0b2tlbkdyb3Vwcy5tYXAoKGdyb3VwLCBpKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9IGdldE9wYWNpdHkoZ3JvdXAuZm9jdXNlZCwgcHJvZ3Jlc3MsIGR4KTtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgc3R5bGU6IHsgb3BhY2l0eSB9LCBrZXk6IGkgKyAxIH0sIGdyb3VwLmVsZW1lbnQpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIENvbXBvbmVudCA/IChSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4sIGRhdGE6IChfYiA9IGFubm90YXRlZCA9PT0gbnVsbCB8fCBhbm5vdGF0ZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFubm90YXRlZC5hbm5vdGF0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGF0YSwgdGhlbWU6IChfYyA9IGFubm90YXRlZCA9PT0gbnVsbCB8fCBhbm5vdGF0ZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFubm90YXRlZC5hbm5vdGF0aW9uKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudGhlbWUsIGlzSW5saW5lOiB0cnVlIH0pKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBjaGlsZHJlbikpO1xyXG59XHJcbmZ1bmN0aW9uIExpbmVDb250YWluZXIoeyBjaGlsZHJlbiwgZHgsIGR5LCBvcGFjaXR5LCB3aWR0aCwgfSkge1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtkeH1weCwgJHtkeX1weClgLFxyXG4gICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgZGlzcGxheTogb3BhY2l0eSA8PSAwID8gXCJub25lXCIgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgfSB9LCBjaGlsZHJlbikpO1xyXG59XHJcbmNvbnN0IE9GRl9PUEFDSVRZID0gMC4zMztcclxuZnVuY3Rpb24gZ2V0T3BhY2l0eShmb2N1c2VkLCBwcm9ncmVzcywgZHgpIHtcclxuICAgIHJldHVybiAodHdlZW4kMSh7XHJcbiAgICAgICAgZml4ZWQ6IGZhbHNlLFxyXG4gICAgICAgIGV4dHJlbWVzOiBbXHJcbiAgICAgICAgICAgIGZvY3VzZWQucHJldiA/IDAuOTkgOiBPRkZfT1BBQ0lUWSxcclxuICAgICAgICAgICAgZm9jdXNlZC5uZXh0ID8gMC45OSA6IE9GRl9PUEFDSVRZLFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgaW50ZXJ2YWw6IFswLCAxXSxcclxuICAgIH0sIHByb2dyZXNzKSAtXHJcbiAgICAgICAgTWF0aC5hYnMoZHgpICogMSk7XHJcbn1cblxuZnVuY3Rpb24gQ29weUJ1dHRvbih7IGNvbnRlbnQsIHN0eWxlLCBjbGFzc05hbWUsIH0pIHtcclxuICAgIGNvbnN0IFtjb3BpZWQsIHNldENvcGllZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyBzdHlsZTogc3R5bGUsIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgY29weVRvQ2xpcGJvYXJkKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICBzZXRDb3BpZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0Q29waWVkKGZhbHNlKTtcclxuICAgICAgICAgICAgfSwgMTIwMCk7XHJcbiAgICAgICAgfSwgZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgXCJDb3B5XCIpLFxyXG4gICAgICAgIGNvcGllZCA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiwgc3Ryb2tlV2lkdGg6IDIsIGQ6IFwiTTUgMTNsNCA0TDE5IDdcIiB9KSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsIHN0cm9rZVdpZHRoOiBcIjEuNnB4XCIsIGQ6IFwiTTggMTZINmEyIDIgMCAwMS0yLTJWNmEyIDIgMCAwMTItMmg4YTIgMiAwIDAxMiAydjJtLTYgMTJoOGEyIDIgMCAwMDItMnYtOGEyIDIgMCAwMC0yLTJoLThhMiAyIDAgMDAtMiAydjhhMiAyIDAgMDAyIDJ6XCIgfSkpKSk7XHJcbn1cclxuZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkKHRleHQpIHtcclxuICAgIGlmICghbmF2aWdhdG9yLmNsaXBib2FyZCkge1xyXG4gICAgICAgIGZhbGxiYWNrQ29weVRleHRUb0NsaXBib2FyZCh0ZXh0KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcclxufVxyXG5mdW5jdGlvbiBmYWxsYmFja0NvcHlUZXh0VG9DbGlwYm9hcmQodGV4dCkge1xyXG4gICAgdmFyIHRleHRBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xyXG4gICAgdGV4dEFyZWEudmFsdWUgPSB0ZXh0O1xyXG4gICAgLy8gQXZvaWQgc2Nyb2xsaW5nIHRvIGJvdHRvbVxyXG4gICAgdGV4dEFyZWEuc3R5bGUudG9wID0gXCIwXCI7XHJcbiAgICB0ZXh0QXJlYS5zdHlsZS5sZWZ0ID0gXCIwXCI7XHJcbiAgICB0ZXh0QXJlYS5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGV4dEFyZWEpO1xyXG4gICAgdGV4dEFyZWEuZm9jdXMoKTtcclxuICAgIHRleHRBcmVhLnNlbGVjdCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgc3VjY2Vzc2Z1bCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcclxuICAgICAgICAvLyB2YXIgbXNnID0gc3VjY2Vzc2Z1bCA/IFwic3VjY2Vzc2Z1bFwiIDogXCJ1bnN1Y2Nlc3NmdWxcIlxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRmFsbGJhY2s6IENvcHlpbmcgdGV4dCBjb21tYW5kIHdhcyBcIiArIG1zZylcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmVycm9yKFwiRmFsbGJhY2s6IE9vcHMsIHVuYWJsZSB0byBjb3B5XCIsIGVycilcclxuICAgIH1cclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpO1xyXG59XG5cbmZ1bmN0aW9uIHVzZUNvZGVTaGlmdCh7IHR3ZWVuLCB0aGVtZSwgfSkge1xyXG4gICAgcmV0dXJuIHVzZVN0ZXBQYXJzZXIoe1xyXG4gICAgICAgIGhpZ2hsaWdodGVkTGluZXM6IG1hcCh0d2VlbiwgdHdlZW4gPT4gdHdlZW4uY29kZS5saW5lcyksXHJcbiAgICAgICAgdGhlbWUsXHJcbiAgICAgICAgZm9jdXM6IG1hcCh0d2VlbiwgdHdlZW4gPT4gdHdlZW4uZm9jdXMpLFxyXG4gICAgICAgIGFubm90YXRpb25zOiBtYXAodHdlZW4sIHR3ZWVuID0+IHR3ZWVuLmFubm90YXRpb25zKSxcclxuICAgICAgICBsYW5nOiBhbnlWYWx1ZSh0d2VlbiwgdHdlZW4gPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0d2VlbiA9PT0gbnVsbCB8fCB0d2VlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHdlZW4uY29kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhbmc7IH0pLFxyXG4gICAgfSk7XHJcbn1cclxuY29uc3QgREVGQVVMVF9NSU5fQ09MVU1OUyA9IDEwO1xyXG5mdW5jdGlvbiBDb2RlVHdlZW4oX2EpIHtcclxuICAgIHZhciB7IHR3ZWVuLCBwcm9ncmVzcywgY29uZmlnIH0gPSBfYSwgcHJlUHJvcHMgPSBfX3Jlc3QoX2EsIFtcInR3ZWVuXCIsIFwicHJvZ3Jlc3NcIiwgXCJjb25maWdcIl0pO1xyXG4gICAgY29uc3Qgc3RlcEluZm8gPSB1c2VDb2RlU2hpZnQoe1xyXG4gICAgICAgIHR3ZWVuLFxyXG4gICAgICAgIHRoZW1lOiBjb25maWcudGhlbWUsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHsgZWxlbWVudCwgZGltZW5zaW9ucyB9ID0gdXNlRGltZW5zaW9ucyhzdGVwSW5mby5jb2RlLCBtYXAodHdlZW4sIHR3ZWVuID0+IHR3ZWVuLmZvY3VzKSwgY29uZmlnLm1pbkNvbHVtbnMgfHwgREVGQVVMVF9NSU5fQ09MVU1OUywgY29uZmlnLmxpbmVOdW1iZXJzIHx8IGZhbHNlLCBjb25maWcucm93cywgW2NvbmZpZy5wYXJlbnRIZWlnaHRdKTtcclxuICAgIHJldHVybiAhZGltZW5zaW9ucyB8fCBjb25maWcuZGVidWcgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChCZWZvcmVEaW1lbnNpb25zLCB7IGVsZW1lbnQ6IGVsZW1lbnQsIGh0bWxQcm9wczogcHJlUHJvcHMsIGRlYnVnOiBjb25maWcuZGVidWcgfSkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQWZ0ZXJEaW1lbnNpb25zLCB7IGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsIHN0ZXBJbmZvOiBzdGVwSW5mbywgY29uZmlnOiBjb25maWcsIHByb2dyZXNzOiBwcm9ncmVzcywgaHRtbFByb3BzOiBwcmVQcm9wcyB9KSk7XHJcbn1cclxuZnVuY3Rpb24gQmVmb3JlRGltZW5zaW9ucyh7IGVsZW1lbnQsIGh0bWxQcm9wcywgZGVidWcsIH0pIHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVyLCB7IGh0bWxQcm9wczogaHRtbFByb3BzLCBzdHlsZTogeyBvcGFjaXR5OiBkZWJ1ZyA/IDAuOSA6IDAsIG92ZXJmbG93OiBcImF1dG9cIiB9IH0sIGVsZW1lbnQpKTtcclxufVxyXG5mdW5jdGlvbiBBZnRlckRpbWVuc2lvbnMoeyBjb25maWc6IHsgbWluWm9vbSA9IDEsIG1heFpvb20gPSAxLCBob3Jpem9udGFsQ2VudGVyID0gZmFsc2UsIHRoZW1lLCB9LCBkaW1lbnNpb25zLCBzdGVwSW5mbywgcHJvZ3Jlc3MsIGh0bWxQcm9wcywgY29uZmlnLCB9KSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCB7IGJnLCBmZyB9ID0gZ2V0Q29kZUNvbG9ycyh0aGVtZSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlciwgeyBodG1sUHJvcHM6IGh0bWxQcm9wcywgc3R5bGU6IHtcclxuICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiZyxcclxuICAgICAgICAgICAgY29sb3I6IGZnLFxyXG4gICAgICAgICAgICBbXCJjb2xvclNjaGVtZVwiXTogZ2V0Q29sb3JTY2hlbWUodGhlbWUpLFxyXG4gICAgICAgICAgICBbXCItLWNoLXNlbGVjdGlvbi1iYWNrZ3JvdW5kXCJdOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLlNlbGVjdGlvbkJhY2tncm91bmQpLFxyXG4gICAgICAgIH0gfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFNtb290aExpbmVzLCB7IGNvZGVTdGVwOiBzdGVwSW5mbywgcHJvZ3Jlc3M6IHByb2dyZXNzLCBkaW1lbnNpb25zOiBkaW1lbnNpb25zLCBcclxuICAgICAgICAgICAgLy8gVE9ETyBtb3ZlIHRvIGRpbWVuc2lvbnM/XHJcbiAgICAgICAgICAgIG1pblpvb206IG1pblpvb20sIG1heFpvb206IG1heFpvb20sIGNlbnRlcjogaG9yaXpvbnRhbENlbnRlciwgdGhlbWU6IHRoZW1lIH0pLFxyXG4gICAgICAgIGNvbmZpZy5zaG93Q29weUJ1dHRvbiA/IChSZWFjdC5jcmVhdGVFbGVtZW50KENvcHlCdXR0b24sIHsgY2xhc3NOYW1lOiBcImNoLWNvZGUtYnV0dG9uXCIsIGNvbnRlbnQ6IChfYSA9IHN0ZXBJbmZvID09PSBudWxsIHx8IHN0ZXBJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGVwSW5mby5jb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJldiB9KSkgOiB1bmRlZmluZWQpKTtcclxufVxyXG5mdW5jdGlvbiBXcmFwcGVyKHsgaHRtbFByb3BzLCBzdHlsZSwgY2hpbGRyZW4sIH0pIHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBPYmplY3QuYXNzaWduKHsgY2xhc3NOYW1lOiBcImNoLWNvZGUtd3JhcHBlclwiIH0sIGh0bWxQcm9wcywgeyBzdHlsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgbWFyZ2luOiAwLCBwYWRkaW5nOiAwLCBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLCBcclxuICAgICAgICAgICAgLy8gdXNpbmcgdGhpcyBpbnN0ZWFkIG9mIDxwcmU+IGJlY2F1c2UgaHR0cHM6Ly9naXRodWIuY29tL2NvZGUtaGlrZS9jb2RlaGlrZS9pc3N1ZXMvMTIwXHJcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6IFwicHJlXCIsIFxyXG4gICAgICAgICAgICAvLyB0byBhdm9pZCByZXNldHMgdXNpbmcgXCJib3JkZXItYm94XCIgdGhhdCBicmVhayB0aGUgc2Nyb2xsYmFyIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2RlLWhpa2UvY29kZWhpa2UvaXNzdWVzLzI0MFxyXG4gICAgICAgICAgICBib3hTaXppbmc6IFwiY29udGVudC1ib3hcIiB9LCBzdHlsZSksIGh0bWxQcm9wcyA9PT0gbnVsbCB8fCBodG1sUHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGh0bWxQcm9wcy5zdHlsZSksIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSkpO1xyXG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRUaW1lKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VTcHJpbmdJbnN0YW5jZSh0YXJnZXQsIGNvbmZpZykge1xuICB2YXIgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuXG4gIGlmIChyZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgcmVmLmN1cnJlbnQgPSB7XG4gICAgICBjb25maWc6IGdldENvbmZpZ1dpdGhEZWZhdWx0cyh0YXJnZXQsIGNvbmZpZyksXG4gICAgICBzdGF0ZTogZ2V0SW5pdGlhbFN0YXRlKHRhcmdldCwgY29uZmlnKVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gcmVmLmN1cnJlbnQ7XG59XG5mdW5jdGlvbiBnZXRDb25maWdXaXRoRGVmYXVsdHModGFyZ2V0LCBfcmVmKSB7XG4gIHZhciBzdGlmZm5lc3MgPSBfcmVmLnN0aWZmbmVzcyxcbiAgICAgIGRhbXBpbmcgPSBfcmVmLmRhbXBpbmcsXG4gICAgICBtYXNzID0gX3JlZi5tYXNzLFxuICAgICAgZGVjaW1hbHMgPSBfcmVmLmRlY2ltYWxzLFxuICAgICAgdGVsZXBvcnQgPSBfcmVmLnRlbGVwb3J0O1xuICByZXR1cm4ge1xuICAgIFg6IHRhcmdldCxcbiAgICBrOiBzdGlmZm5lc3MgIT09IG51bGwgJiYgc3RpZmZuZXNzICE9PSB2b2lkIDAgPyBzdGlmZm5lc3MgOiAxNzAsXG4gICAgYzogZGFtcGluZyAhPT0gbnVsbCAmJiBkYW1waW5nICE9PSB2b2lkIDAgPyBkYW1waW5nIDogMjYsXG4gICAgbTogbWFzcyAhPT0gbnVsbCAmJiBtYXNzICE9PSB2b2lkIDAgPyBtYXNzIDogMSxcbiAgICB0ZWxlcG9ydDogdGVsZXBvcnQgIT09IG51bGwgJiYgdGVsZXBvcnQgIT09IHZvaWQgMCA/IHRlbGVwb3J0IDogZmFsc2UsXG4gICAgZGVjaW1hbHM6IGRlY2ltYWxzICE9PSBudWxsICYmIGRlY2ltYWxzICE9PSB2b2lkIDAgPyBkZWNpbWFscyA6IDJcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKHRhcmdldCwgX3JlZjIpIHtcbiAgdmFyIGZyb20gPSBfcmVmMi5mcm9tLFxuICAgICAgaW5pdGlhbFNwZWVkID0gX3JlZjIuaW5pdGlhbFNwZWVkO1xuICByZXR1cm4ge1xuICAgIHgwOiBmcm9tICE9PSBudWxsICYmIGZyb20gIT09IHZvaWQgMCA/IGZyb20gOiB0YXJnZXQsXG4gICAgdjA6IGluaXRpYWxTcGVlZCAhPT0gbnVsbCAmJiBpbml0aWFsU3BlZWQgIT09IHZvaWQgMCA/IGluaXRpYWxTcGVlZCA6IDAsXG4gICAgdDA6IGN1cnJlbnRUaW1lKCksXG4gICAgcmFmOiBudWxsXG4gIH07XG59XG5cbnZhciBzcXJ0ID0gTWF0aC5zcXJ0LFxuICAgIGV4cCA9IE1hdGguZXhwLFxuICAgIHNpbiA9IE1hdGguc2luLFxuICAgIGNvcyA9IE1hdGguY29zO1xuZnVuY3Rpb24gc3ByaW5nKF9yZWYpIHtcbiAgdmFyIHgwID0gX3JlZi54MCxcbiAgICAgIHYwID0gX3JlZi52MCxcbiAgICAgIHQwID0gX3JlZi50MCxcbiAgICAgIHQgPSBfcmVmLnQsXG4gICAgICBrID0gX3JlZi5rLFxuICAgICAgYyA9IF9yZWYuYyxcbiAgICAgIG0gPSBfcmVmLm0sXG4gICAgICBYID0gX3JlZi5YO1xuICB2YXIgZHggPSB4MCAtIFg7XG4gIHZhciBkdCA9ICh0IC0gdDApIC8gMTAwMDtcbiAgdmFyIHJhZGljYW5kID0gYyAqIGMgLSA0ICogayAqIG07XG5cbiAgaWYgKHJhZGljYW5kID4gMCkge1xuICAgIHZhciBycCA9ICgtYyArIHNxcnQocmFkaWNhbmQpKSAvICgyICogbSk7XG4gICAgdmFyIHJuID0gKC1jIC0gc3FydChyYWRpY2FuZCkpIC8gKDIgKiBtKTtcbiAgICB2YXIgYSA9IChkeCAqIHJwIC0gdjApIC8gKHJwIC0gcm4pO1xuICAgIHZhciBiID0gKHYwIC0gZHggKiBybikgLyAocnAgLSBybik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IFggKyBhICogZXhwKHJuICogZHQpICsgYiAqIGV4cChycCAqIGR0KSxcbiAgICAgIHY6IGEgKiBybiAqIGV4cChybiAqIGR0KSArIGIgKiBycCAqIGV4cChycCAqIGR0KVxuICAgIH07XG4gIH0gZWxzZSBpZiAocmFkaWNhbmQgPCAwKSB7XG4gICAgdmFyIHIgPSAtYyAvICgyICogbSk7XG4gICAgdmFyIHMgPSBzcXJ0KC1yYWRpY2FuZCkgLyAoMiAqIG0pO1xuICAgIHZhciBfYSA9IGR4O1xuXG4gICAgdmFyIF9iID0gKHYwIC0gciAqIGR4KSAvIHM7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogWCArIGV4cChyICogZHQpICogKF9hICogY29zKHMgKiBkdCkgKyBfYiAqIHNpbihzICogZHQpKSxcbiAgICAgIHY6IGV4cChyICogZHQpICogKChfYiAqIHMgKyBfYSAqIHIpICogY29zKHMgKiBkdCkgLSAoX2EgKiBzIC0gX2IgKiByKSAqIHNpbihzICogZHQpKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9yID0gLWMgLyAoMiAqIG0pO1xuXG4gICAgdmFyIF9hMiA9IGR4O1xuXG4gICAgdmFyIF9iMiA9IHYwIC0gX3IgKiBkeDtcblxuICAgIHJldHVybiB7XG4gICAgICB4OiBYICsgKF9hMiArIF9iMiAqIGR0KSAqIGV4cChfciAqIGR0KSxcbiAgICAgIHY6IChfYjIgKyBfYTIgKiBfciArIF9iMiAqIF9yICogZHQpICogZXhwKF9yICogZHQpXG4gICAgfTtcbiAgfVxufVxuXG52YXIgbmV4dEZyYW1lUXVldWUgPSBbXTtcbnZhciBuZXh0RnJhbWVJZCA9IG51bGw7XG5mdW5jdGlvbiBxdWV1ZUFuaW1hdGlvbkZyYW1lKGZuKSB7XG4gIHZhciBsZW5ndGggPSBuZXh0RnJhbWVRdWV1ZS5wdXNoKGZuKTtcblxuICBpZiAobGVuZ3RoID09PSAxKSB7XG4gICAgbmV4dEZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnVuUXVldWUpO1xuICB9XG5cbiAgcmV0dXJuIFtuZXh0RnJhbWVJZCwgbGVuZ3RoIC0gMV07XG59XG5mdW5jdGlvbiB1bnF1ZXVlQW5pbWF0aW9uRnJhbWUoX3JlZikge1xuICB2YXIgZnJhbWVJZCA9IF9yZWZbMF0sXG4gICAgICBpbmRleCA9IF9yZWZbMV07XG5cbiAgaWYgKGZyYW1lSWQgPT09IG5leHRGcmFtZUlkKSB7XG4gICAgZGVsZXRlIG5leHRGcmFtZVF1ZXVlW2luZGV4XTtcbiAgfVxufVxuXG5mdW5jdGlvbiBydW5RdWV1ZSgpIHtcbiAgdmFyIG5vdyA9IGN1cnJlbnRUaW1lKCk7XG4gIHZhciBxdWV1ZSA9IG5leHRGcmFtZVF1ZXVlO1xuICBuZXh0RnJhbWVRdWV1ZSA9IFtdO1xuICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgIHJldHVybiB0YXNrICYmIHRhc2sobm93KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbnZhciB1c2VMYXlvdXRFZmZlY3QkMyA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyBSZWFjdC51c2VMYXlvdXRFZmZlY3QgOiBSZWFjdC51c2VFZmZlY3Q7XG5mdW5jdGlvbiB1c2VTcHJpbmcodGFyZ2V0LCBjb25maWcpIHtcbiAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7XG4gICAgY29uZmlnID0ge307XG4gIH1cblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoKSxcbiAgICAgIGZvcmNlVXBkYXRlID0gX1JlYWN0JHVzZVN0YXRlWzFdO1xuXG4gIHZhciBuZXdDb25maWcgPSBnZXRDb25maWdXaXRoRGVmYXVsdHModGFyZ2V0LCBjb25maWcpO1xuXG4gIHZhciBfdXNlU3ByaW5nSW5zdGFuY2UgPSB1c2VTcHJpbmdJbnN0YW5jZSh0YXJnZXQsIGNvbmZpZyksXG4gICAgICBzdGF0ZSA9IF91c2VTcHJpbmdJbnN0YW5jZS5zdGF0ZSxcbiAgICAgIG9sZENvbmZpZyA9IF91c2VTcHJpbmdJbnN0YW5jZS5jb25maWc7IC8vIFRPRE8gYWxsIHNwcmluZ3Mgc2hvdWxkIHVzZSB0aGUgc2FtZSB0IGluIHRoZSBzYW1lIGZyYW1lXG5cblxuICB2YXIgdCA9IGN1cnJlbnRUaW1lKCk7XG4gIHZhciB4MCA9IHN0YXRlLngwLFxuICAgICAgdjAgPSBzdGF0ZS52MCxcbiAgICAgIHQwID0gc3RhdGUudDA7XG4gIHZhciBrID0gb2xkQ29uZmlnLmssXG4gICAgICBjID0gb2xkQ29uZmlnLmMsXG4gICAgICBtID0gb2xkQ29uZmlnLm0sXG4gICAgICBYID0gb2xkQ29uZmlnLlg7XG5cbiAgdmFyIF9yZWYgPSBuZXdDb25maWcudGVsZXBvcnQgPyB7XG4gICAgeDogWCxcbiAgICB2OiAwXG4gIH0gOiBzcHJpbmcoe1xuICAgIHgwOiB4MCxcbiAgICB2MDogdjAsXG4gICAgdDA6IHQwLFxuICAgIHQ6IHQsXG4gICAgazogayxcbiAgICBjOiBjLFxuICAgIG06IG0sXG4gICAgWDogWFxuICB9KSxcbiAgICAgIHggPSBfcmVmLngsXG4gICAgICB2ID0gX3JlZi52O1xuXG4gIHZhciBtb3ZpbmcgPSBpc01vdmluZyh4LCB2LCB0LCBuZXdDb25maWcpO1xuICB1c2VMYXlvdXRFZmZlY3QkMyhmdW5jdGlvbiAoKSB7XG4gICAgT2JqZWN0LmFzc2lnbihvbGRDb25maWcsIG5ld0NvbmZpZyk7XG4gIH0sIFtuZXdDb25maWcuWCwgbmV3Q29uZmlnLmssIG5ld0NvbmZpZy5jLCBuZXdDb25maWcubSwgbmV3Q29uZmlnLnRlbGVwb3J0XSk7XG4gIHVzZUxheW91dEVmZmVjdCQzKGZ1bmN0aW9uICgpIHtcbiAgICBzdGF0ZS54MCA9IHg7XG4gICAgc3RhdGUudjAgPSB2O1xuICAgIHN0YXRlLnQwID0gdDtcbiAgfSwgW3gsIHYsIHRdKTtcbiAgdXNlTGF5b3V0RWZmZWN0JDMoZnVuY3Rpb24gKCkge1xuICAgIHZhciBsb29wID0gZnVuY3Rpb24gbG9vcChub3cpIHtcbiAgICAgIHZhciB4MCA9IHN0YXRlLngwLFxuICAgICAgICAgIHYwID0gc3RhdGUudjAsXG4gICAgICAgICAgdDAgPSBzdGF0ZS50MDtcbiAgICAgIHZhciBrID0gb2xkQ29uZmlnLmssXG4gICAgICAgICAgYyA9IG9sZENvbmZpZy5jLFxuICAgICAgICAgIG0gPSBvbGRDb25maWcubSxcbiAgICAgICAgICBYID0gb2xkQ29uZmlnLlgsXG4gICAgICAgICAgZGVjaW1hbHMgPSBvbGRDb25maWcuZGVjaW1hbHM7XG5cbiAgICAgIHZhciBfc3ByaW5nID0gc3ByaW5nKHtcbiAgICAgICAgeDA6IHgwLFxuICAgICAgICB2MDogdjAsXG4gICAgICAgIHQwOiB0MCxcbiAgICAgICAgdDogbm93LFxuICAgICAgICBrOiBrLFxuICAgICAgICBjOiBjLFxuICAgICAgICBtOiBtLFxuICAgICAgICBYOiBYXG4gICAgICB9KSxcbiAgICAgICAgICBuZXh0WCA9IF9zcHJpbmcueDtcblxuICAgICAgaWYgKHJvdW5kVG8obmV4dFgsIGRlY2ltYWxzKSAhPT0gcm91bmRUbyh4MCwgZGVjaW1hbHMpKSB7XG4gICAgICAgIHN0YXRlLnJhZiA9IG51bGw7XG4gICAgICAgIGZvcmNlVXBkYXRlKG5vdyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5yYWYgPSBxdWV1ZUFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAobW92aW5nICYmIHN0YXRlLnJhZiA9PSBudWxsKSB7XG4gICAgICBzdGF0ZS5yYWYgPSBxdWV1ZUFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgIH0gZWxzZSBpZiAoIW1vdmluZyAmJiBzdGF0ZS5yYWYgIT0gbnVsbCkge1xuICAgICAgdW5xdWV1ZUFuaW1hdGlvbkZyYW1lKHN0YXRlLnJhZik7XG4gICAgICBzdGF0ZS5yYWYgPSBudWxsO1xuICAgIH1cbiAgfSk7XG4gIHVzZUxheW91dEVmZmVjdCQzKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHN0YXRlLnJhZiAhPSBudWxsKSB7XG4gICAgICAgIHVucXVldWVBbmltYXRpb25GcmFtZShzdGF0ZS5yYWYpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIFtyb3VuZFRvKHgsIG5ld0NvbmZpZy5kZWNpbWFscyksIG1vdmluZ107XG59XG5cbmZ1bmN0aW9uIGlzTW92aW5nKHgsIHYsIHQsIF9yZWYyKSB7XG4gIHZhciBkZWNpbWFscyA9IF9yZWYyLmRlY2ltYWxzLFxuICAgICAgWCA9IF9yZWYyLlgsXG4gICAgICBrID0gX3JlZjIuayxcbiAgICAgIGMgPSBfcmVmMi5jLFxuICAgICAgbSA9IF9yZWYyLm07XG5cbiAgaWYgKHJvdW5kVG8oeCwgZGVjaW1hbHMpICE9PSByb3VuZFRvKFgsIGRlY2ltYWxzKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIG5leHRUID0gdCArIDAuMDE2O1xuXG4gIHZhciBfc3ByaW5nMiA9IHNwcmluZyh7XG4gICAgeDA6IHgsXG4gICAgdjA6IHYsXG4gICAgdDA6IHQsXG4gICAgdDogbmV4dFQsXG4gICAgazogayxcbiAgICBjOiBjLFxuICAgIG06IG0sXG4gICAgWDogWFxuICB9KSxcbiAgICAgIG5leHRYID0gX3NwcmluZzIueDtcblxuICByZXR1cm4gcm91bmRUbyhuZXh0WCwgZGVjaW1hbHMpICE9PSByb3VuZFRvKFgsIGRlY2ltYWxzKTtcbn1cblxuZnVuY3Rpb24gcm91bmRUbyh4LCBkZWNpbWFscykge1xuICB2YXIgcCA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG4gIHJldHVybiBNYXRoLnJvdW5kKHggKiBwKSAvIHA7XG59XG5cbmNvbnN0IGRlZmF1bHRTcHJpbmckMSA9IHtcclxuICAgIHN0aWZmbmVzczogMTIwLFxyXG4gICAgZGFtcGluZzogMjQsXHJcbiAgICBtYXNzOiAwLjIsXHJcbiAgICBkZWNpbWFsczogMyxcclxufTtcclxuZnVuY3Rpb24gQ29kZVNwcmluZyhfYSkge1xyXG4gICAgdmFyIHsgc3RlcCwgY29uZmlnIH0gPSBfYSwgaHRtbFByb3BzID0gX19yZXN0KF9hLCBbXCJzdGVwXCIsIFwiY29uZmlnXCJdKTtcclxuICAgIGNvbnN0IHsgdHdlZW4sIHQgfSA9IHVzZVN0ZXBTcHJpbmckMShzdGVwLCBjb25maWcuc3ByaW5nKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChDb2RlVHdlZW4sIE9iamVjdC5hc3NpZ24oeyB0d2VlbjogdHdlZW4sIHByb2dyZXNzOiB0LCBjb25maWc6IGNvbmZpZyB9LCBodG1sUHJvcHMpKSk7XHJcbn1cclxuZnVuY3Rpb24gdXNlU3RlcFNwcmluZyQxKHN0ZXAsIHNwcmluZ0NvbmZpZyA9IGRlZmF1bHRTcHJpbmckMSkge1xyXG4gICAgY29uc3QgW3sgdGFyZ2V0LCBzdGVwcywgaW5kZXggfSwgc2V0U3RhdGVdID0gUmVhY3QudXNlU3RhdGUoe1xyXG4gICAgICAgIHRhcmdldDogMixcclxuICAgICAgICBzdGVwczogW3N0ZXAsIHN0ZXAsIHN0ZXBdLFxyXG4gICAgICAgIGluZGV4OiAwLFxyXG4gICAgfSk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxhc3RTdGVwID0gc3RlcHNbc3RlcHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgaWYgKGxhc3RTdGVwICE9IHN0ZXApIHtcclxuICAgICAgICAgICAgc2V0U3RhdGUocyA9PiB1cGRhdGVTdGVwU3ByaW5nJDEocywgc3RlcCwgcHJvZ3Jlc3MpKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbc3RlcF0pO1xyXG4gICAgY29uc3QgW3Byb2dyZXNzXSA9IHVzZVNwcmluZyh0YXJnZXQsIHNwcmluZ0NvbmZpZyk7XHJcbiAgICBjb25zdCB0cmlvUHJvZ3Jlc3MgPSBwcm9ncmVzcyAtIGluZGV4O1xyXG4gICAgY29uc3QgcmVzdWx0ID0gdHJpb1Byb2dyZXNzIDw9IDFcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgdHdlZW46IHsgcHJldjogc3RlcHNbMF0sIG5leHQ6IHN0ZXBzWzFdIH0sXHJcbiAgICAgICAgICAgIHQ6IHRyaW9Qcm9ncmVzcyxcclxuICAgICAgICB9XHJcbiAgICAgICAgOiB7XHJcbiAgICAgICAgICAgIHR3ZWVuOiB7IHByZXY6IHN0ZXBzWzFdLCBuZXh0OiBzdGVwc1syXSB9LFxyXG4gICAgICAgICAgICB0OiB0cmlvUHJvZ3Jlc3MgLSAxLFxyXG4gICAgICAgIH07XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZVN0ZXBTcHJpbmckMShzdGF0ZSwgbmV3U3RlcCwgcHJvZ3Jlc3MpIHtcclxuICAgIGNvbnN0IHsgc3RlcHMsIHRhcmdldCwgaW5kZXggfSA9IHN0YXRlO1xyXG4gICAgY29uc3Qgc3RlcHNDbG9uZSA9IHN0ZXBzLnNsaWNlKCk7XHJcbiAgICBjb25zdCB0cmlvUHJvZ3Jlc3MgPSBwcm9ncmVzcyAtIGluZGV4O1xyXG4gICAgaWYgKHRyaW9Qcm9ncmVzcyA8IDEpIHtcclxuICAgICAgICBzdGVwc0Nsb25lWzJdID0gbmV3U3RlcDtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgc3RlcHM6IHN0ZXBzQ2xvbmUgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBzdGVwc0Nsb25lWzBdID0gc3RlcHNbMV07XHJcbiAgICAgICAgc3RlcHNDbG9uZVsxXSA9IHN0ZXBzWzJdO1xyXG4gICAgICAgIHN0ZXBzQ2xvbmVbMl0gPSBuZXdTdGVwO1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyBzdGVwczogc3RlcHNDbG9uZSwgdGFyZ2V0OiB0YXJnZXQgKyAxLCBpbmRleDogaW5kZXggKyAxIH0pO1xyXG4gICAgfVxyXG59XG5cbmNvbnN0IENsYXNzZXJDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XHJcbmZ1bmN0aW9uIENsYXNzZXJQcm92aWRlcih7IGNsYXNzZXMsIGNoaWxkcmVuLCB9KSB7XHJcbiAgICBjb25zdCBvdXRlciA9IHVzZUNvbnRleHQoQ2xhc3NlckNvbnRleHQpO1xyXG4gICAgY29uc3QgbWl4ZWQgPSB1c2VNZXJnZShvdXRlciwgY2xhc3Nlcyk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2xhc3NlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IG1peGVkLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xyXG59XHJcbmZ1bmN0aW9uIHVzZUNsYXNzZXIobGliQ2xhc3NQcmVmaXgsIGlubmVyQ2xhc3Nlcykge1xyXG4gICAgY29uc3Qgb3V0ZXJDbGFzc2VzID0gdXNlQ29udGV4dChDbGFzc2VyQ29udGV4dCk7XHJcbiAgICBjb25zdCBjbGFzc2VzID0gdXNlTWVyZ2Uob3V0ZXJDbGFzc2VzLCBpbm5lckNsYXNzZXMpO1xyXG4gICAgcmV0dXJuIHVzZUNhbGxiYWNrKGdldENsYXNzZXIobGliQ2xhc3NQcmVmaXgsIGNsYXNzZXMpLCBbXHJcbiAgICAgICAgbGliQ2xhc3NQcmVmaXgsXHJcbiAgICAgICAgY2xhc3NlcyxcclxuICAgIF0pO1xyXG59XHJcbmZ1bmN0aW9uIGdldENsYXNzZXIobGliQ2xhc3NQcmVmaXgsIGNsYXNzZXMpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBjbGFzc2VyKC4uLmxpYkNsYXNzU3VmZml4TGlzdCkge1xyXG4gICAgICAgIGNvbnN0IGxpYkNsYXNzTGlzdCA9IGxpYkNsYXNzU3VmZml4TGlzdC5tYXAobGliQ2xhc3NTdWZmaXggPT4gbGliQ2xhc3NQcmVmaXggK1xyXG4gICAgICAgICAgICAobGliQ2xhc3NQcmVmaXggJiYgbGliQ2xhc3NTdWZmaXggPyBcIi1cIiA6IFwiXCIpICtcclxuICAgICAgICAgICAgbGliQ2xhc3NTdWZmaXgpO1xyXG4gICAgICAgIGNvbnN0IG91dHB1dExpc3QgPSBsaWJDbGFzc0xpc3Quc2xpY2UoKTtcclxuICAgICAgICBsaWJDbGFzc0xpc3QuZm9yRWFjaChsaWJDbGFzcyA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsaWJDbGFzcyBpbiBjbGFzc2VzKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXRMaXN0LnB1c2goY2xhc3Nlc1tsaWJDbGFzc10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dExpc3Quam9pbihcIiBcIik7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHVzZU1lcmdlKG91dGVyLCBpbm5lcikge1xyXG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3V0ZXIpLCBpbm5lcikpLCBbb3V0ZXIsIGlubmVyXSk7XHJcbn1cblxuY29uc3QgTWluaUZyYW1lID0gUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAoX2EsIHJlZikge1xyXG4gICAgdmFyIHsgdGl0bGUsIGNoaWxkcmVuLCB0aXRsZUJhciwgY2xhc3NlcywgdGhlbWUsIHpvb20gPSAxLCBvdmVyZmxvdyB9ID0gX2EsIHByb3BzID0gX19yZXN0KF9hLCBbXCJ0aXRsZVwiLCBcImNoaWxkcmVuXCIsIFwidGl0bGVCYXJcIiwgXCJjbGFzc2VzXCIsIFwidGhlbWVcIiwgXCJ6b29tXCIsIFwib3ZlcmZsb3dcIl0pO1xyXG4gICAgY29uc3QgYyA9IHVzZUNsYXNzZXIoXCJjaC1mcmFtZVwiLCBjbGFzc2VzKTtcclxuICAgIGNvbnN0IGJhciA9IHRpdGxlQmFyIHx8IFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVmYXVsdFRpdGxlQmFyLCB7IHRpdGxlOiB0aXRsZSB9KTtcclxuICAgIGNvbnN0IHpvb21TdHlsZSA9IHtcclxuICAgICAgICBcIi0tY2gtZnJhbWUtem9vbVwiOiB6b29tLFxyXG4gICAgICAgIG92ZXJmbG93LFxyXG4gICAgfTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChDbGFzc2VyUHJvdmlkZXIsIHsgY2xhc3NlczogY2xhc3NlcyB9LFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHsgcmVmOiByZWYgfSksXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGMoXCJcIikgfSxcclxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGMoXCJ0aXRsZS1iYXJcIiksIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGdldENvbG9yKHRoZW1lLCBDb2xvck5hbWUuRWRpdG9yR3JvdXBIZWFkZXJCYWNrZ3JvdW5kKSxcclxuICAgICAgICAgICAgICAgICAgICB9IH0sIGJhciksXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjKFwiY29udGVudFwiKSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGMoXCJ6b29tXCIpLCBzdHlsZTogem9vbVN0eWxlIH0sIGNoaWxkcmVuKSkpKSkpO1xyXG59KTtcclxuUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAoX2EsIHJlZikge1xyXG4gICAgdmFyIHsgdGl0bGUsIGNoaWxkcmVuLCB0aXRsZUJhciwgY2xhc3Nlcywgb3ZlcmZsb3cgfSA9IF9hLCBwcm9wcyA9IF9fcmVzdChfYSwgW1widGl0bGVcIiwgXCJjaGlsZHJlblwiLCBcInRpdGxlQmFyXCIsIFwiY2xhc3Nlc1wiLCBcIm92ZXJmbG93XCJdKTtcclxuICAgIGNvbnN0IGMgPSB1c2VDbGFzc2VyKFwiY2hcIiwgY2xhc3Nlcyk7XHJcbiAgICBjb25zdCBiYXIgPSB0aXRsZUJhciB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KERlZmF1bHRUaXRsZUJhciwgeyB0aXRsZTogdGl0bGUgfSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2xhc3NlclByb3ZpZGVyLCB7IGNsYXNzZXM6IGNsYXNzZXMgfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7IHJlZjogcmVmIH0pLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjKFwic2ltcGxlLWZyYW1lXCIpIH0sXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjKFwiZnJhbWUtdGl0bGUtYmFyXCIpIH0sIGJhciksXHJcbiAgICAgICAgICAgICAgICBjaGlsZHJlbikpKSk7XHJcbn0pO1xyXG5mdW5jdGlvbiBEZWZhdWx0VGl0bGVCYXIoeyB0aXRsZSB9KSB7XHJcbiAgICBjb25zdCBjID0gdXNlQ2xhc3NlcihcImNoLWZyYW1lXCIpO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGMoXCJsZWZ0LWJhclwiKSB9LFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZyYW1lQnV0dG9ucywgbnVsbCkpLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGMoXCJtaWRkbGUtYmFyXCIpIH0sIHRpdGxlKSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjKFwicmlnaHQtYmFyXCIpIH0pKSk7XHJcbn1cclxuZnVuY3Rpb24gRnJhbWVCdXR0b25zKCkge1xyXG4gICAgY29uc3QgYyA9IHVzZUNsYXNzZXIoXCJjaC1mcmFtZVwiKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogYyhcImJ1dHRvbnNcIikgfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjKFwiYnV0dG9uXCIsIFwiYnV0dG9uLWxlZnRcIikgfSksXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogYyhcImJ1dHRvbi1zcGFjZVwiKSB9KSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjKFwiYnV0dG9uXCIsIFwiYnV0dG9uLW1pZGRsZVwiKSB9KSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjKFwiYnV0dG9uLXNwYWNlXCIpIH0pLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGMoXCJidXR0b25cIiwgXCJidXR0b24tcmlnaHRcIikgfSkpKTtcclxufVxuXG5jb25zdCBFZGl0b3JGcmFtZSA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gSW5uZXJFZGl0b3JGcmFtZShfYSwgcmVmKSB7XHJcbiAgICB2YXIgX2I7XHJcbiAgICB2YXIgeyBub3J0aFBhbmVsLCBzb3V0aFBhbmVsLCB0ZXJtaW5hbFBhbmVsLCBzdHlsZSwgaGVpZ2h0LCBub3J0aEJ1dHRvbiwgc291dGhCdXR0b24sIHRoZW1lLCBjbGFzc05hbWUsIG9uVGFiQ2xpY2sgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJub3J0aFBhbmVsXCIsIFwic291dGhQYW5lbFwiLCBcInRlcm1pbmFsUGFuZWxcIiwgXCJzdHlsZVwiLCBcImhlaWdodFwiLCBcIm5vcnRoQnV0dG9uXCIsIFwic291dGhCdXR0b25cIiwgXCJ0aGVtZVwiLCBcImNsYXNzTmFtZVwiLCBcIm9uVGFiQ2xpY2tcIl0pO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIE9iamVjdC5hc3NpZ24oeyByZWY6IHJlZiB9LCByZXN0LCB7IGNsYXNzTmFtZTogXCJjaC1lZGl0b3ItZnJhbWVcIiwgc3R5bGU6IE9iamVjdC5hc3NpZ24oeyBiYWNrZ3JvdW5kOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLkVkaXRvckJhY2tncm91bmQpIH0sIHN0eWxlKSB9KSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoLWZyYW1lLXRpdGxlLWJhclwiLCBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IGdldENvbG9yKHRoZW1lLCBDb2xvck5hbWUuSWNvbkZvcmVncm91bmQpLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5FZGl0b3JHcm91cEhlYWRlckJhY2tncm91bmQpLFxyXG4gICAgICAgICAgICB9IH0sXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFic0NvbnRhaW5lciwgeyB0YWJzOiBub3J0aFBhbmVsLnRhYnMsIHNob3dGcmFtZUJ1dHRvbnM6IHRydWUsIGJ1dHRvbjogbm9ydGhCdXR0b24sIHBhbmVsOiBcIm5vcnRoXCIsIHRoZW1lOiB0aGVtZSwgb25UYWJDbGljazogb25UYWJDbGljayB9KSksXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS1jaC1wYW5lbFwiOiBcIm5vcnRoXCIsIHN0eWxlOiBub3J0aFBhbmVsLnN0eWxlLCBjaGlsZHJlbjogbm9ydGhQYW5lbC5jaGlsZHJlbiB9KSxcclxuICAgICAgICBzb3V0aFBhbmVsICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoLWZyYW1lLXRpdGxlLWJhclwiLCBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogKF9iID0gc291dGhQYW5lbC5zdHlsZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRyYW5zZm9ybSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5JY29uRm9yZWdyb3VuZCksXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5FZGl0b3JHcm91cEhlYWRlckJhY2tncm91bmQpLFxyXG4gICAgICAgICAgICAgICAgfSB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJzQ29udGFpbmVyLCB7IHRhYnM6IHNvdXRoUGFuZWwudGFicywgc2hvd0ZyYW1lQnV0dG9uczogZmFsc2UsIGJ1dHRvbjogc291dGhCdXR0b24sIHRvcEJvcmRlcjogdHJ1ZSwgcGFuZWw6IFwic291dGhcIiwgdGhlbWU6IHRoZW1lLCBvblRhYkNsaWNrOiBvblRhYkNsaWNrIH0pKSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IFwiZGF0YS1jaC1wYW5lbFwiOiBcInNvdXRoXCIsIGNoaWxkcmVuOiBzb3V0aFBhbmVsLmNoaWxkcmVuLCBzdHlsZTogc291dGhQYW5lbC5zdHlsZSB9KSkpKSk7XHJcbn0pO1xyXG5mdW5jdGlvbiBUYWJzQ29udGFpbmVyKHsgdGFicywgYnV0dG9uLCBzaG93RnJhbWVCdXR0b25zLCB0b3BCb3JkZXIsIHBhbmVsLCB0aGVtZSwgb25UYWJDbGljaywgfSkge1xyXG4gICAgY29uc3QgYyA9IHVzZUNsYXNzZXIoXCJjaC1lZGl0b3ItdGFiXCIpO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgIHRvcEJvcmRlciAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjFweFwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5FZGl0b3JHcm91cEJvcmRlciksXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDEsXHJcbiAgICAgICAgICAgIH0gfSkpLFxyXG4gICAgICAgIHNob3dGcmFtZUJ1dHRvbnMgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEZyYW1lQnV0dG9ucywgbnVsbCkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwpLFxyXG4gICAgICAgIHRhYnMubWFwKCh7IHRpdGxlLCBhY3RpdmUsIHN0eWxlIH0pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsga2V5OiB0aXRsZSwgdGl0bGU6IHRpdGxlLCBcImRhdGEtY2gtdGFiXCI6IHBhbmVsLCBjbGFzc05hbWU6IGMoXCJcIiwgYWN0aXZlID8gXCJhY3RpdmVcIiA6IFwiaW5hY3RpdmVcIiksIHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0eWxlKSwgeyBiYWNrZ3JvdW5kOiBnZXRDb2xvcih0aGVtZSwgYWN0aXZlXHJcbiAgICAgICAgICAgICAgICAgICAgPyBDb2xvck5hbWUuQWN0aXZlVGFiQmFja2dyb3VuZFxyXG4gICAgICAgICAgICAgICAgICAgIDogQ29sb3JOYW1lLkluYWN0aXZlVGFiQmFja2dyb3VuZCksIGNvbG9yOiBnZXRDb2xvcih0aGVtZSwgYWN0aXZlXHJcbiAgICAgICAgICAgICAgICAgICAgPyBDb2xvck5hbWUuQWN0aXZlVGFiRm9yZWdyb3VuZFxyXG4gICAgICAgICAgICAgICAgICAgIDogQ29sb3JOYW1lLkluYWN0aXZlVGFiRm9yZWdyb3VuZCksIGJvcmRlclJpZ2h0Q29sb3I6IGdldENvbG9yKHRoZW1lLCBDb2xvck5hbWUuVGFiQm9yZGVyKSwgYm9yZGVyQm90dG9tQ29sb3I6IGdldENvbG9yKHRoZW1lLCBhY3RpdmVcclxuICAgICAgICAgICAgICAgICAgICA/IENvbG9yTmFtZS5BY3RpdmVUYWJCb3R0b21Cb3JkZXJcclxuICAgICAgICAgICAgICAgICAgICA6IENvbG9yTmFtZS5JbmFjdGl2ZVRhYkJhY2tncm91bmQpIH0pLCBvbkNsaWNrOiBvblRhYkNsaWNrICYmICgoKSA9PiBvblRhYkNsaWNrKHRpdGxlKSkgfSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUYWJUaXRsZSwgeyB0aXRsZTogdGl0bGUgfSkpKSksXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IGZsZXg6IDEsIG1pbldpZHRoOiBcIjAuOGVtXCIgfSB9KSxcclxuICAgICAgICBidXR0b24pKTtcclxufVxyXG5mdW5jdGlvbiBUYWJUaXRsZSh7IHRpdGxlIH0pIHtcclxuICAgIGlmICghdGl0bGUpIHtcclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gdGl0bGUubGFzdEluZGV4T2YoXCIvXCIpICsgMTtcclxuICAgIGNvbnN0IGZpbGVuYW1lID0gdGl0bGUuc3Vic3RyaW5nKHNlcGFyYXRvckluZGV4KTtcclxuICAgIGNvbnN0IGZvbGRlciA9IHRpdGxlLnN1YnN0cmluZygwLCBzZXBhcmF0b3JJbmRleCk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IHN0eWxlOiB7IG9wYWNpdHk6IDAuNSB9IH0sIGZvbGRlciksXHJcbiAgICAgICAgZmlsZW5hbWUpKTtcclxufVxuXG5mdW5jdGlvbiBnZXRDb21tYW5kcyh0ZXh0KSB7XHJcbiAgICBjb25zdCBbLCAuLi5saW5lc10gPSB0ZXh0LnNwbGl0KC9eXFwkXFxzKi9nbSk7XHJcbiAgICBjb25zdCBjb21tYW5kcyA9IGxpbmVzLm1hcCgoYykgPT4ge1xyXG4gICAgICAgIGNvbnN0IFtydW4sIC4uLm91dHB1dExpbmVzXSA9IGMuc3BsaXQoL1xccj9cXG4vKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBydW4sXHJcbiAgICAgICAgICAgIG91dHB1dDogb3V0cHV0TGluZXMubGVuZ3RoID4gMCA/IG91dHB1dExpbmVzLmpvaW4oXCJcXG5cIikgOiBudWxsLFxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGxhc3RDb21tYW5kID0gY29tbWFuZHNbY29tbWFuZHMubGVuZ3RoIC0gMV07XHJcbiAgICBjb25zdCBpc1J1bm5pbmcgPSBjb21tYW5kcy5sZW5ndGggPiAwICYmIGxhc3RDb21tYW5kLm91dHB1dCAhPSBudWxsO1xyXG4gICAgY29uc3QgdGl0bGUgPSBpc1J1bm5pbmcgPyBsYXN0Q29tbWFuZC5ydW4uc3BsaXQoLyhcXHMrKS8pWzBdIDogXCJiYXNoXCI7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRpdGxlLFxyXG4gICAgICAgIGlzUnVubmluZyxcclxuICAgICAgICBjb21tYW5kcyxcclxuICAgIH07XHJcbn1cblxuY29uc3QgcHJvbXB0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2gtdGVybWluYWwtcHJvbXB0XCIgfSwgXCIkXCIpO1xyXG5mdW5jdGlvbiBUZXJtaW5hbENvbnRlbnQoeyB0ZXh0LCBwcm9ncmVzcyA9IDEsIHN0eWxlLCB9KSB7XHJcbiAgICBjb25zdCBjb21tYW5kcyA9IHBhcnNlKHRleHQsIHByb2dyZXNzKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInByZVwiLCB7IHN0eWxlOiBzdHlsZSwgY2xhc3NOYW1lOiBcImNoLXRlcm1pbmFsLWNvbnRlbnRcIiB9LCBjb21tYW5kcy5tYXAoKHsgcnVuLCBvdXRwdXQgfSwgaSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIHsga2V5OiBpIH0sXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLFxyXG4gICAgICAgICAgICBwcm9tcHQsXHJcbiAgICAgICAgICAgIFwiIFwiLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBydW4pKSxcclxuICAgICAgICBvdXRwdXQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2gtdGVybWluYWwtb3V0cHV0XCIgfSwgb3V0cHV0KSkpKSkpKTtcclxufVxyXG5mdW5jdGlvbiBwYXJzZSh0ZXh0LCBwcm9ncmVzcykge1xyXG4gICAgaWYgKCF0ZXh0KVxyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIGNvbnN0IGNoYXJzID0gTWF0aC5yb3VuZCh0ZXh0Lmxlbmd0aCAqIHByb2dyZXNzKTtcclxuICAgIGNvbnN0IHsgY29tbWFuZHMgfSA9IGdldENvbW1hbmRzKHRleHQuc2xpY2UoMCwgY2hhcnMpKTtcclxuICAgIHJldHVybiBjb21tYW5kcztcclxufVxuXG5mdW5jdGlvbiBJbm5lclRlcm1pbmFsVHJhbnNpdGlvbih7IHByZXYgPSBcIlwiLCBwcmV2S2V5LCBuZXh0ID0gXCJcIiwgbmV4dEtleSwgcHJvZ3Jlc3MsIH0pIHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaC10ZXJtaW5hbFwiIH0sXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgtJHtwcm9ncmVzcyAqIDEwMH0lKWAsXHJcbiAgICAgICAgICAgIH0gfSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXJtaW5hbENvbnRlbnQsIHsgdGV4dDogcHJldiwgcHJvZ3Jlc3M6IDEsIGtleTogcHJldktleSB9KSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUZXJtaW5hbENvbnRlbnQsIHsgc3R5bGU6IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiB9LCB0ZXh0OiBuZXh0LCBwcm9ncmVzczogcHJvZ3Jlc3MsIGtleTogbmV4dEtleSB9KSkpKTtcclxufVxuXG5mdW5jdGlvbiBJbm5lclRlcm1pbmFsVHJhbnNpdGlvbnMoeyBzdGVwcywgcHJvZ3Jlc3MsIH0pIHtcclxuICAgIGNvbnN0IHRleHRTdGVwcyA9IHN0ZXBzLm1hcCgocykgPT4gcy50ZXh0KTtcclxuICAgIGNvbnN0IHN0ZXBQcm9ncmVzcyA9IHByb2dyZXNzICUgMTtcclxuICAgIGNvbnN0IHByZXZJbmRleCA9IGNsYW1wKE1hdGguZmxvb3IocHJvZ3Jlc3MpLCAwLCBzdGVwcy5sZW5ndGggLSAxKTtcclxuICAgIGNvbnN0IG5leHRJbmRleCA9IHByZXZJbmRleCArIDE7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5uZXJUZXJtaW5hbFRyYW5zaXRpb24sIHsgcHJldjogdGV4dFN0ZXBzW3ByZXZJbmRleF0sIHByZXZLZXk6IHByZXZJbmRleCwgbmV4dDogdGV4dFN0ZXBzW25leHRJbmRleF0gfHwgXCJcIiwgbmV4dEtleTogbmV4dEluZGV4LCBwcm9ncmVzczogc3RlcFByb2dyZXNzIH0pKTtcclxufVxyXG5mdW5jdGlvbiBjbGFtcCh4LCBtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHgsIG1pbiksIG1heCk7XHJcbn1cblxuZnVuY3Rpb24gVGVybWluYWxQYW5lbCh7IHByZXYsIG5leHQsIHQsIGJhY2t3YXJkLCB9KSB7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBnZXRIZWlnaHQoeyBwcmV2LCBuZXh0LCB0LCBiYWNrd2FyZCB9KTtcclxuICAgIHJldHVybiAhaGVpZ2h0ID8gbnVsbCA6IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoLWVkaXRvci10ZXJtaW5hbFwiLCBzdHlsZTogeyBoZWlnaHQgfSB9LFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2gtZWRpdG9yLXRlcm1pbmFsLXRhYlwiIH0sXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiVGVybWluYWxcIikpLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2gtZWRpdG9yLXRlcm1pbmFsLWNvbnRlbnRcIiB9LFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KElubmVyVGVybWluYWxUcmFuc2l0aW9ucywgeyBzdGVwczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgdGV4dDogcHJldiB8fCBcIlwiIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBuZXh0IHx8IFwiXCIgfSxcclxuICAgICAgICAgICAgICAgIF0sIHByb2dyZXNzOiB0IH0pLFxyXG4gICAgICAgICAgICBcIilcIikpKTtcclxufVxyXG5mdW5jdGlvbiBnZXRIZWlnaHQoeyBwcmV2LCBuZXh0LCB0LCBiYWNrd2FyZCwgfSkge1xyXG4gICAgaWYgKCFwcmV2ICYmICFuZXh0KVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgaWYgKCFwcmV2ICYmIG5leHQpXHJcbiAgICAgICAgcmV0dXJuIE1BWF9IRUlHSFQgKiBNYXRoLm1pbih0ICogNCwgMSk7XHJcbiAgICBpZiAocHJldiAmJiAhbmV4dClcclxuICAgICAgICByZXR1cm4gTUFYX0hFSUdIVCAqIE1hdGgubWF4KDEgLSB0ICogNCwgMCk7XHJcbiAgICByZXR1cm4gTUFYX0hFSUdIVDtcclxufVxyXG5jb25zdCBNQVhfSEVJR0hUID0gMTUwO1xuXG5mdW5jdGlvbiBub3J0aENvbmZpZyhjb2RlQ29uZmlnKSB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb2RlQ29uZmlnLnJvd3MpKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29kZUNvbmZpZyksIHsgcm93czogY29kZUNvbmZpZy5yb3dzWzBdIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvZGVDb25maWc7XHJcbn1cclxuZnVuY3Rpb24gc291dGhDb25maWcoY29kZUNvbmZpZykge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29kZUNvbmZpZy5yb3dzKSkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvZGVDb25maWcpLCB7IHJvd3M6IGNvZGVDb25maWcucm93c1sxXSB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb2RlQ29uZmlnO1xyXG59XHJcbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb24ocmVmLCBwcmV2LCBuZXh0LCB0LCBiYWNrd2FyZCwgY29kZUNvbmZpZykge1xyXG4gICAgLy8gcHJldlNuYXBzaG90IGhhcyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZWRpdG9yIGZvciB0PTBcclxuICAgIC8vIG5leHRTbmFwc2hvdCBoYXMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGVkaXRvciBmb3IgdD0xXHJcbiAgICBjb25zdCB7IHByZXZTbmFwc2hvdCwgbmV4dFNuYXBzaG90IH0gPSB1c2VTbmFwc2hvdHMocmVmLCBwcmV2LCBuZXh0KTtcclxuICAgIC8vIHdlIHJldHVybiB0aGUgZGVmYXVsdCBzdHlsZXMgZm9yIHQ9MCB1bnRpbCB3ZSBtZWFzdXJlIHRoZSBkaW1lbnNpb25zXHJcbiAgICBpZiAoIXByZXZTbmFwc2hvdCkge1xyXG4gICAgICAgIHJldHVybiBzdGFydGluZ1Bvc2l0aW9uKHByZXYsIG5leHQsIGNvZGVDb25maWcpO1xyXG4gICAgfVxyXG4gICAgLy8gYW5kIHRoZSBzYW1lIGZvciB0PTFcclxuICAgIGlmICghbmV4dFNuYXBzaG90KSB7XHJcbiAgICAgICAgcmV0dXJuIGVuZGluZ1Bvc2l0aW9uKHByZXYsIG5leHQsIGNvZGVDb25maWcpO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETyB0aGlzIHNob3VsZCBiZSBjb21tZW50ZWRcclxuICAgIC8vIGlmICh0ID09PSAwKSB7XHJcbiAgICAvLyAgIHJldHVybiBzdGFydGluZ1Bvc2l0aW9uKHByZXYsIG5leHQsIGNvZGVDb25maWcpXHJcbiAgICAvLyB9XHJcbiAgICBpZiAodCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBlbmRpbmdQb3NpdGlvbihwcmV2LCBuZXh0LCBjb2RlQ29uZmlnKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGlucHV0U291dGhQYW5lbCA9IHByZXYuc291dGhQYW5lbCB8fCBuZXh0LnNvdXRoUGFuZWw7XHJcbiAgICBjb25zdCB7IHByZXZOb3J0aEZpbGUsIHByZXZTb3V0aEZpbGUsIG5leHROb3J0aEZpbGUsIG5leHRTb3V0aEZpbGUsIH0gPSBnZXRTdGVwRmlsZXMocHJldiwgbmV4dCwgdCA9PSAwIHx8IGJhY2t3YXJkKTtcclxuICAgIGNvbnN0IHsgbm9ydGhTdHlsZSwgc291dGhTdHlsZSB9ID0gZ2V0UGFuZWxTdHlsZXMocHJldlNuYXBzaG90LCBuZXh0U25hcHNob3QsIHQpO1xyXG4gICAgY29uc3QgeyBub3J0aFRhYnMsIHNvdXRoVGFicyB9ID0gZ2V0VGFicyhwcmV2U25hcHNob3QsIG5leHRTbmFwc2hvdCwgcHJldk5vcnRoRmlsZS5uYW1lLCBwcmV2U291dGhGaWxlID09PSBudWxsIHx8IHByZXZTb3V0aEZpbGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByZXZTb3V0aEZpbGUubmFtZSwgdCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5vcnRoQ29udGVudDogZ2V0Q29udGVudEZyb21GaWxlKG5leHROb3J0aEZpbGUpLFxyXG4gICAgICAgIG5vcnRoUGFuZWw6IHtcclxuICAgICAgICAgICAgdGFiczogbm9ydGhUYWJzLFxyXG4gICAgICAgICAgICBzdHlsZTogbm9ydGhTdHlsZSxcclxuICAgICAgICAgICAgY2hpbGRyZW46IChSZWFjdC5jcmVhdGVFbGVtZW50KENvZGVUcmFuc2l0aW9uLCB7IGNvZGVDb25maWc6IG5vcnRoQ29uZmlnKGNvZGVDb25maWcpLCBwcmV2RmlsZTogcHJldk5vcnRoRmlsZSwgbmV4dEZpbGU6IG5leHROb3J0aEZpbGUsIHQ6IHQsIHBhcmVudEhlaWdodDogKG5vcnRoU3R5bGUuaGVpZ2h0IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgbm9ydGhTdHlsZS5taW5IZWlnaHQpIH0pKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNvdXRoQ29udGVudDogZ2V0Q29udGVudEZyb21GaWxlKG5leHRTb3V0aEZpbGUpLFxyXG4gICAgICAgIHNvdXRoUGFuZWw6IGlucHV0U291dGhQYW5lbCAmJiB7XHJcbiAgICAgICAgICAgIHRhYnM6IHNvdXRoVGFicyxcclxuICAgICAgICAgICAgc3R5bGU6IHNvdXRoU3R5bGUsXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiAoUmVhY3QuY3JlYXRlRWxlbWVudChDb2RlVHJhbnNpdGlvbiwgeyBjb2RlQ29uZmlnOiBzb3V0aENvbmZpZyhjb2RlQ29uZmlnKSwgcHJldkZpbGU6IHByZXZTb3V0aEZpbGUsIG5leHRGaWxlOiBuZXh0U291dGhGaWxlLCB0OiB0LCBwYXJlbnRIZWlnaHQ6ICgoc291dGhTdHlsZSA9PT0gbnVsbCB8fCBzb3V0aFN0eWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3V0aFN0eWxlLmhlaWdodCkgfHxcclxuICAgICAgICAgICAgICAgICAgICAoc291dGhTdHlsZSA9PT0gbnVsbCB8fCBzb3V0aFN0eWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3V0aFN0eWxlLm1pbkhlaWdodCkpIH0pKSxcclxuICAgICAgICB9LFxyXG4gICAgfTtcclxufVxyXG4vLyBSZXR1cm5zIHRoZSB0PTAgc3RhdGUgb2YgdGhlIHRyYW5zaXRpb25cclxuZnVuY3Rpb24gc3RhcnRpbmdQb3NpdGlvbihwcmV2LCBuZXh0LCBjb2RlQ29uZmlnKSB7XHJcbiAgICBjb25zdCBpbnB1dE5vcnRoUGFuZWwgPSBwcmV2Lm5vcnRoUGFuZWw7XHJcbiAgICBjb25zdCBpbnB1dFNvdXRoUGFuZWwgPSBwcmV2LnNvdXRoUGFuZWw7XHJcbiAgICBjb25zdCB7IHByZXZOb3J0aEZpbGUsIHByZXZTb3V0aEZpbGUsIG5leHROb3J0aEZpbGUsIG5leHRTb3V0aEZpbGUsIH0gPSBnZXRTdGVwRmlsZXMocHJldiwgbmV4dCwgdHJ1ZSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5vcnRoQ29udGVudDogZ2V0Q29udGVudEZyb21GaWxlKHByZXZOb3J0aEZpbGUpLFxyXG4gICAgICAgIG5vcnRoUGFuZWw6IHtcclxuICAgICAgICAgICAgdGFiczogaW5wdXROb3J0aFBhbmVsLnRhYnMubWFwKHRpdGxlID0+ICh7XHJcbiAgICAgICAgICAgICAgICB0aXRsZSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogdGl0bGUgPT09IGlucHV0Tm9ydGhQYW5lbC5hY3RpdmUsXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge30sXHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIGZsZXhHcm93OiAxLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiAoUmVhY3QuY3JlYXRlRWxlbWVudChDb2RlVHJhbnNpdGlvbiwgeyBjb2RlQ29uZmlnOiBub3J0aENvbmZpZyhjb2RlQ29uZmlnKSwgcHJldkZpbGU6IHByZXZOb3J0aEZpbGUsIG5leHRGaWxlOiBwcmV2Tm9ydGhGaWxlLCB0OiAwLCBwYXJlbnRIZWlnaHQ6IFwiMFwiIH0pKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNvdXRoQ29udGVudDogZ2V0Q29udGVudEZyb21GaWxlKHByZXZTb3V0aEZpbGUpLFxyXG4gICAgICAgIHNvdXRoUGFuZWw6IGlucHV0U291dGhQYW5lbCAmJiB7XHJcbiAgICAgICAgICAgIHRhYnM6IGlucHV0U291dGhQYW5lbC50YWJzLm1hcCh0aXRsZSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IHRpdGxlID09PSBpbnB1dFNvdXRoUGFuZWwuYWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6IHt9LFxyXG4gICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29kZVRyYW5zaXRpb24sIHsgY29kZUNvbmZpZzogc291dGhDb25maWcoY29kZUNvbmZpZyksIHByZXZGaWxlOiBwcmV2U291dGhGaWxlLCBuZXh0RmlsZTogcHJldlNvdXRoRmlsZSwgdDogMCwgcGFyZW50SGVpZ2h0OiBcIjBcIiB9KSksXHJcbiAgICAgICAgfSxcclxuICAgIH07XHJcbn1cclxuLy8gUmV0dXJucyB0aGUgdD0xIHN0YXRlIG9mIHRoZSB0cmFuc2l0aW9uXHJcbmZ1bmN0aW9uIGVuZGluZ1Bvc2l0aW9uKHByZXYsIG5leHQsIGNvZGVDb25maWcpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IGlucHV0Tm9ydGhQYW5lbCA9IG5leHQubm9ydGhQYW5lbDtcclxuICAgIGNvbnN0IGlucHV0U291dGhQYW5lbCA9IG5leHQuc291dGhQYW5lbDtcclxuICAgIGxldCB7IHByZXZOb3J0aEZpbGUsIHByZXZTb3V0aEZpbGUsIG5leHROb3J0aEZpbGUsIG5leHRTb3V0aEZpbGUsIH0gPSBnZXRTdGVwRmlsZXMocHJldiwgbmV4dCwgZmFsc2UpO1xyXG4gICAgLy8gZ2V0U3RlcEZpbGVzIHJldHVybiB0aGUgaW50ZXJtZWRpYXRlIGZpbGVzLCB3ZSBuZWVkIHRvIHBhdGNoIHRoZSBlbmRpbmcgc3RhdGUgKDJ0bzFzb3V0aClcclxuICAgIGNvbnN0IGlzVHdvVG9PbmVTb3V0aCA9ICFpbnB1dFNvdXRoUGFuZWwgJiZcclxuICAgICAgICBpbnB1dE5vcnRoUGFuZWwuYWN0aXZlID09PSAoKF9hID0gcHJldiA9PT0gbnVsbCB8fCBwcmV2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcmV2LnNvdXRoUGFuZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY3RpdmUpO1xyXG4gICAgaWYgKGlzVHdvVG9PbmVTb3V0aCkge1xyXG4gICAgICAgIG5leHROb3J0aEZpbGUgPSBuZXh0U291dGhGaWxlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBub3J0aENvbnRlbnQ6IGdldENvbnRlbnRGcm9tRmlsZShuZXh0Tm9ydGhGaWxlKSxcclxuICAgICAgICBub3J0aFBhbmVsOiB7XHJcbiAgICAgICAgICAgIHRhYnM6IGlucHV0Tm9ydGhQYW5lbC50YWJzLm1hcCh0aXRsZSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IHRpdGxlID09PSBpbnB1dE5vcnRoUGFuZWwuYWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6IHt9LFxyXG4gICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGlsZHJlbjogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29kZVRyYW5zaXRpb24sIHsgY29kZUNvbmZpZzogbm9ydGhDb25maWcoY29kZUNvbmZpZyksIHByZXZGaWxlOiBuZXh0Tm9ydGhGaWxlLCBuZXh0RmlsZTogbmV4dE5vcnRoRmlsZSwgdDogMSwgcGFyZW50SGVpZ2h0OiBcIjFcIiB9KSksXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzb3V0aENvbnRlbnQ6IGdldENvbnRlbnRGcm9tRmlsZShuZXh0U291dGhGaWxlKSxcclxuICAgICAgICBzb3V0aFBhbmVsOiBpbnB1dFNvdXRoUGFuZWwgJiYge1xyXG4gICAgICAgICAgICB0YWJzOiBpbnB1dFNvdXRoUGFuZWwudGFicy5tYXAodGl0bGUgPT4gKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiB0aXRsZSA9PT0gaW5wdXRTb3V0aFBhbmVsLmFjdGl2ZSxcclxuICAgICAgICAgICAgICAgIHN0eWxlOiB7fSxcclxuICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgZmxleEdyb3c6IDEsXHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2hpbGRyZW46IChSZWFjdC5jcmVhdGVFbGVtZW50KENvZGVUcmFuc2l0aW9uLCB7IGNvZGVDb25maWc6IHNvdXRoQ29uZmlnKGNvZGVDb25maWcpLCBwcmV2RmlsZTogbmV4dFNvdXRoRmlsZSwgbmV4dEZpbGU6IG5leHRTb3V0aEZpbGUsIHQ6IDEsIHBhcmVudEhlaWdodDogXCIxXCIgfSkpLFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIENvZGVUcmFuc2l0aW9uKHsgcHJldkZpbGUsIG5leHRGaWxlLCB0LCBjb2RlQ29uZmlnLCBwYXJlbnRIZWlnaHQsIH0pIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IGh0bWxQcm9wcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29kZUNvbmZpZyA9PT0gbnVsbCB8fCBjb2RlQ29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb2RlQ29uZmlnLmh0bWxQcm9wcyksIHsgc3R5bGU6IE9iamVjdC5hc3NpZ24oeyBoZWlnaHQ6IFwiMTAwJVwiIH0sIChfYSA9IGNvZGVDb25maWcgPT09IG51bGwgfHwgY29kZUNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29kZUNvbmZpZy5odG1sUHJvcHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdHlsZSkgfSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29kZVR3ZWVuLCBPYmplY3QuYXNzaWduKHsgcHJvZ3Jlc3M6IHQsIHR3ZWVuOiB7IHByZXY6IHByZXZGaWxlLCBuZXh0OiBuZXh0RmlsZSB9LCBjb25maWc6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29kZUNvbmZpZyksIHsgcGFyZW50SGVpZ2h0IH0pIH0sIGh0bWxQcm9wcykpKTtcclxufVxyXG5mdW5jdGlvbiBnZXRDb250ZW50RnJvbUZpbGUoZmlsZSkge1xyXG4gICAgcmV0dXJuIGZpbGUgPyBjb2RlVG9UZXh0KGZpbGUuY29kZSkgOiBcIlwiO1xyXG59XHJcbi8qKlxyXG4gKiBHZXQgdGhlIFN0ZXBGaWxlcyBmb3IgYSB0cmFuc2l0aW9uXHJcbiAqIGluIGVhY2ggcGFuZWwsIGlmIHRoZSBwcmV2IGFuZCBuZXh0IGFjdGl2ZSBmaWxlcyBhcmUgdGhlIHNhbWVcclxuICogd2UgcmV0dXJuIHRoZSBwcmV2IGFuZCBuZXh0IHZlcnNpb24gb2YgdGhhdCBwYW5lbFxyXG4gKiBpZiB0aGUgYWN0aXZlIGZpbGVzIGFyZSBkaWZmZXJlbnQsIHdlIHJldHVybiB0aGUgc2FtZSBmaWxlIHR3aWNlLFxyXG4gKiBpZiBiYWNrd2FyZCBpcyB0cnVlIHdlIHJldHVybiB0aGUgcHJldiBhY3RpdmUgZmlsZSB0d2ljZSxcclxuICogb3IgZWxzZSB0aGUgbmV4dCBhY3RpdmUgZmlsZSB0d2ljZVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0U3RlcEZpbGVzKHByZXYsIG5leHQsIGJhY2t3YXJkKSB7XHJcbiAgICB2YXIgX2EsIF9iO1xyXG4gICAgLy8gVGhlIGFjdGl2ZSBmaWxlIGluIGVhY2ggcGFuZWwgYmVmb3JlIGFuZCBhZnRlcjpcclxuICAgIC8vICstLS0tKy0tLS0rXHJcbiAgICAvLyB8IHBuIHwgbm4gfFxyXG4gICAgLy8gKy0tLS0rLS0tLStcclxuICAgIC8vIHwgcHMgfCBucyB8XHJcbiAgICAvLyArLS0tLSstLS0tK1xyXG4gICAgLy9cclxuICAgIGNvbnN0IHBuID0gcHJldi5ub3J0aFBhbmVsLmFjdGl2ZTtcclxuICAgIGNvbnN0IG5uID0gbmV4dC5ub3J0aFBhbmVsLmFjdGl2ZTtcclxuICAgIGNvbnN0IHBzID0gKF9hID0gcHJldi5zb3V0aFBhbmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWN0aXZlO1xyXG4gICAgY29uc3QgbnMgPSAoX2IgPSBuZXh0LnNvdXRoUGFuZWwpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5hY3RpdmU7XHJcbiAgICBjb25zdCBwbkZpbGUgPSBwcmV2LmZpbGVzLmZpbmQoZiA9PiBmLm5hbWUgPT09IHBuKTtcclxuICAgIGNvbnN0IG5uRmlsZSA9IG5leHQuZmlsZXMuZmluZChmID0+IGYubmFtZSA9PT0gbm4pO1xyXG4gICAgY29uc3QgcHNGaWxlID0gcHNcclxuICAgICAgICA/IHByZXYuZmlsZXMuZmluZChmID0+IGYubmFtZSA9PT0gcHMpXHJcbiAgICAgICAgOiBudWxsO1xyXG4gICAgY29uc3QgbnNGaWxlID0gbnNcclxuICAgICAgICA/IG5leHQuZmlsZXMuZmluZChmID0+IGYubmFtZSA9PT0gbnMpXHJcbiAgICAgICAgOiBudWxsO1xyXG4gICAgY29uc3Qgb25lVG9Ud29Tb3V0aCA9ICFwcyAmJiBwbiA9PT0gbnM7XHJcbiAgICBpZiAob25lVG9Ud29Tb3V0aCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByZXZOb3J0aEZpbGU6IG5uRmlsZSxcclxuICAgICAgICAgICAgbmV4dE5vcnRoRmlsZTogbm5GaWxlLFxyXG4gICAgICAgICAgICBwcmV2U291dGhGaWxlOiBwbkZpbGUsXHJcbiAgICAgICAgICAgIG5leHRTb3V0aEZpbGU6IG5zRmlsZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgdHdvVG9PbmVTb3V0aCA9ICFucyAmJiBubiA9PT0gcHM7XHJcbiAgICBpZiAodHdvVG9PbmVTb3V0aCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHByZXZOb3J0aEZpbGU6IHBuRmlsZSxcclxuICAgICAgICAgICAgbmV4dE5vcnRoRmlsZTogcG5GaWxlLFxyXG4gICAgICAgICAgICBwcmV2U291dGhGaWxlOiBwc0ZpbGUsXHJcbiAgICAgICAgICAgIG5leHRTb3V0aEZpbGU6IG5uRmlsZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcHJldk5vcnRoRmlsZSA9IHBuID09PSBubiA/IHBuRmlsZSA6IGJhY2t3YXJkID8gcG5GaWxlIDogbm5GaWxlO1xyXG4gICAgY29uc3QgbmV4dE5vcnRoRmlsZSA9IHBuID09PSBubiA/IG5uRmlsZSA6IGJhY2t3YXJkID8gcG5GaWxlIDogbm5GaWxlO1xyXG4gICAgY29uc3QgcHJldlNvdXRoRmlsZSA9IHBzID09PSBuc1xyXG4gICAgICAgID8gcHNGaWxlXHJcbiAgICAgICAgOiBiYWNrd2FyZFxyXG4gICAgICAgICAgICA/IHBzRmlsZSB8fCBuc0ZpbGVcclxuICAgICAgICAgICAgOiBuc0ZpbGUgfHwgcHNGaWxlO1xyXG4gICAgY29uc3QgbmV4dFNvdXRoRmlsZSA9IHBzID09PSBuc1xyXG4gICAgICAgID8gbnNGaWxlXHJcbiAgICAgICAgOiBiYWNrd2FyZFxyXG4gICAgICAgICAgICA/IHBzRmlsZSB8fCBuc0ZpbGVcclxuICAgICAgICAgICAgOiBuc0ZpbGUgfHwgcHNGaWxlO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwcmV2Tm9ydGhGaWxlLFxyXG4gICAgICAgIG5leHROb3J0aEZpbGUsXHJcbiAgICAgICAgcHJldlNvdXRoRmlsZSxcclxuICAgICAgICBuZXh0U291dGhGaWxlLFxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZXRQYW5lbFN0eWxlcyhwcmV2LCBuZXh0LCB0KSB7XHJcbiAgICAvLyArLS0tKy0tLStcclxuICAgIC8vIHwgeCB8IHggfFxyXG4gICAgLy8gKy0tLSstLS0rXHJcbiAgICAvLyB8ICAgfCAgIHxcclxuICAgIC8vICstLS0rLS0tK1xyXG4gICAgaWYgKHByZXYuc291dGhIZWlnaHQgPT09IG51bGwgJiZcclxuICAgICAgICBuZXh0LnNvdXRoSGVpZ2h0ID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm9ydGhTdHlsZToge1xyXG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0OiBwcmV2Lm5vcnRoSGVpZ2h0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyArLS0tKy0tLStcclxuICAgIC8vIHwgeCB8IHggfFxyXG4gICAgLy8gKy0tLSstLS0rXHJcbiAgICAvLyB8IHkgfCAgIHxcclxuICAgIC8vICstLS0rLS0tK1xyXG4gICAgaWYgKHByZXYuc291dGhIZWlnaHQgIT09IG51bGwgJiZcclxuICAgICAgICBuZXh0LnNvdXRoSGVpZ2h0ID09PSBudWxsICYmXHJcbiAgICAgICAgbmV4dC5ub3J0aEtleSAhPT0gcHJldi5zb3V0aEtleSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5vcnRoU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogdHdlZW4ocHJldi5ub3J0aEhlaWdodCwgbmV4dC5ub3J0aEhlaWdodCwgdCksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNvdXRoU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogcHJldi5zb3V0aEhlaWdodCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gKy0tLSstLS0rXHJcbiAgICAvLyB8IHggfCB5IHxcclxuICAgIC8vICstLS0rLS0tK1xyXG4gICAgLy8gfCB5IHwgICB8XHJcbiAgICAvLyArLS0tKy0tLStcclxuICAgIGlmIChwcmV2LnNvdXRoSGVpZ2h0ICE9PSBudWxsICYmXHJcbiAgICAgICAgbmV4dC5zb3V0aEhlaWdodCA9PT0gbnVsbCAmJlxyXG4gICAgICAgIHByZXYuc291dGhLZXkgPT09IG5leHQubm9ydGhLZXkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBub3J0aFN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBtaW5IZWlnaHQ6IHByZXYubm9ydGhIZWlnaHQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNvdXRoU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgICAgICAgICAgICBtaW5IZWlnaHQ6IHR3ZWVuKHByZXYuc291dGhIZWlnaHQsIG5leHQubm9ydGhIZWlnaHQsIHQpLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3R3ZWVuKDAsIC0ocHJldi5ub3J0aEhlaWdodCArIHByZXYudGl0bGVCYXJIZWlnaHQpLCB0KX1weClgLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyArLS0tKy0tLStcclxuICAgIC8vIHwgeCB8IHggfFxyXG4gICAgLy8gKy0tLSstLS0rXHJcbiAgICAvLyB8ICAgfCB5IHxcclxuICAgIC8vICstLS0rLS0tK1xyXG4gICAgaWYgKHByZXYuc291dGhIZWlnaHQgPT09IG51bGwgJiZcclxuICAgICAgICBuZXh0LnNvdXRoSGVpZ2h0ICE9PSBudWxsICYmXHJcbiAgICAgICAgcHJldi5ub3J0aEtleSAhPT0gbmV4dC5zb3V0aEtleSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5vcnRoU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIG1pbkhlaWdodDogdHdlZW4ocHJldi5ub3J0aEhlaWdodCwgbmV4dC5ub3J0aEhlaWdodCwgdCksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNvdXRoU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgICAgICAgICAgICBtaW5IZWlnaHQ6IG5leHQuc291dGhIZWlnaHQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8vICstLS0rLS0tK1xyXG4gICAgLy8gfCB5IHwgeCB8XHJcbiAgICAvLyArLS0tKy0tLStcclxuICAgIC8vIHwgICB8IHkgfFxyXG4gICAgLy8gKy0tLSstLS0rXHJcbiAgICBpZiAocHJldi5zb3V0aEhlaWdodCA9PT0gbnVsbCAmJlxyXG4gICAgICAgIG5leHQuc291dGhIZWlnaHQgIT09IG51bGwgJiZcclxuICAgICAgICBwcmV2Lm5vcnRoS2V5ID09PSBuZXh0LnNvdXRoS2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm9ydGhTdHlsZToge1xyXG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0OiBuZXh0Lm5vcnRoSGVpZ2h0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzb3V0aFN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0OiB0d2VlbihwcmV2Lm5vcnRoSGVpZ2h0LCBuZXh0LnNvdXRoSGVpZ2h0LCB0KSxcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHt0d2VlbigtKG5leHQubm9ydGhIZWlnaHQgKyBuZXh0LnRpdGxlQmFySGVpZ2h0KSwgMCwgdCl9cHgpYCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gKy0tLSstLS0rXHJcbiAgICAvLyB8IHggfCB4IHxcclxuICAgIC8vICstLS0rLS0tK1xyXG4gICAgLy8gfCB5IHwgeSB8XHJcbiAgICAvLyArLS0tKy0tLStcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbm9ydGhTdHlsZToge1xyXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IHR3ZWVuKHByZXYubm9ydGhIZWlnaHQsIG5leHQubm9ydGhIZWlnaHQsIHQpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc291dGhTdHlsZToge1xyXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IHR3ZWVuKHByZXYuc291dGhIZWlnaHQsIG5leHQuc291dGhIZWlnaHQsIHQpLFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHR3ZWVuKGEsIGIsIHQpIHtcclxuICAgIHJldHVybiBhICsgKGIgLSBhKSAqIHQ7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VGFicyhwcmV2U25hcHNob3QsIG5leHRTbmFwc2hvdCwgbm9ydGhBY3RpdmUsIHNvdXRoQWN0aXZlLCB0KSB7XHJcbiAgICAvLyBUT0RPIHNpbXBsaWZ5XHJcbiAgICBpZiAoIXByZXZTbmFwc2hvdC5zb3V0aFRhYnMgJiZcclxuICAgICAgICBpc1ByZXNlbnQoc291dGhBY3RpdmUsIHByZXZTbmFwc2hvdC5ub3J0aFRhYnMpKSB7XHJcbiAgICAgICAgLy8vIG9uZSB0byB0d28gc291dGhcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBub3J0aFRhYnM6IGdldFBhbmVsVGFicyhuZXh0U25hcHNob3Qubm9ydGhUYWJzLCBuZXh0U25hcHNob3Quc291dGhUYWJzLCBwcmV2U25hcHNob3Quc291dGhUYWJzLCBwcmV2U25hcHNob3Qubm9ydGhUYWJzLCBub3J0aEFjdGl2ZSwgdCksXHJcbiAgICAgICAgICAgIHNvdXRoVGFiczogZ2V0UGFuZWxUYWJzKG5leHRTbmFwc2hvdC5zb3V0aFRhYnMsIG5leHRTbmFwc2hvdC5ub3J0aFRhYnMsIHByZXZTbmFwc2hvdC5ub3J0aFRhYnMsIHByZXZTbmFwc2hvdC5zb3V0aFRhYnMsIHNvdXRoQWN0aXZlLCB0KSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKCFuZXh0U25hcHNob3Quc291dGhUYWJzICYmXHJcbiAgICAgICAgaXNQcmVzZW50KHNvdXRoQWN0aXZlLCBuZXh0U25hcHNob3Qubm9ydGhUYWJzKSkge1xyXG4gICAgICAgIC8vLyB0d28gdG8gb25lIHNvdXRoXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm9ydGhUYWJzOiBnZXRQYW5lbFRhYnMobmV4dFNuYXBzaG90LnNvdXRoVGFicywgbmV4dFNuYXBzaG90Lm5vcnRoVGFicywgcHJldlNuYXBzaG90Lm5vcnRoVGFicywgcHJldlNuYXBzaG90LnNvdXRoVGFicywgbm9ydGhBY3RpdmUsIHQpLFxyXG4gICAgICAgICAgICBzb3V0aFRhYnM6IGdldFBhbmVsVGFicyhuZXh0U25hcHNob3Qubm9ydGhUYWJzLCBuZXh0U25hcHNob3Quc291dGhUYWJzLCBwcmV2U25hcHNob3Quc291dGhUYWJzLCBwcmV2U25hcHNob3Qubm9ydGhUYWJzLCBzb3V0aEFjdGl2ZSwgdCksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbm9ydGhUYWJzOiBnZXRQYW5lbFRhYnMobmV4dFNuYXBzaG90Lm5vcnRoVGFicywgbmV4dFNuYXBzaG90LnNvdXRoVGFicywgcHJldlNuYXBzaG90Lm5vcnRoVGFicywgcHJldlNuYXBzaG90LnNvdXRoVGFicywgbm9ydGhBY3RpdmUsIHQpLFxyXG4gICAgICAgIHNvdXRoVGFiczogZ2V0UGFuZWxUYWJzKG5leHRTbmFwc2hvdC5zb3V0aFRhYnMsIG5leHRTbmFwc2hvdC5ub3J0aFRhYnMsIHByZXZTbmFwc2hvdC5zb3V0aFRhYnMsIHByZXZTbmFwc2hvdC5ub3J0aFRhYnMsIHNvdXRoQWN0aXZlLCB0KSxcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0UGFuZWxUYWJzKG5leHRTbmFwc2hvdCwgb3RoZXJOZXh0U25hcHNob3QsIHByZXZTbmFwc2hvdCwgb3RoZXJQcmV2U25hcHNob3QsIGFjdGl2ZSwgdCkge1xyXG4gICAgLy8gRm9yIGVhY2ggdGFiIGJhciB0aGVyZSBhcmUgZm91ciB0eXBlcyBvZiB0YWJzXHJcbiAgICAvLyAtIG9sZFRhYnM6IHRhYnMgdGhhdCBhcmUgcHJlc2VudCBpbiBib3RoIHByZXYgYW5kIG5leHQgdmVyc2lvbnMgb2YgdGhlIGJhclxyXG4gICAgLy8gLSB0b3RhbGx5TmV3VGFiczogdGFicyB0aGF0IGFyZSB0b3RhbGx5IG5ldyAocHJlc2VudCBpbiBuZXh0XHJcbiAgICAvLyBidXQgbm90IGluIGFueSBwcmV2KVxyXG4gICAgLy8gLSBtaWdyYXRpbmdUYWJzOiB0YWJzIHRoYXQgYXJlIGNvbWUgZnJvbSB0aGUgb3RoZXIgYmFyIChwcmVzZW50XHJcbiAgICAvLyBpbiBuZXh0IGFuZCBpbiBvdGhlclByZXYpXHJcbiAgICAvLyAtIGRpc2FwcGVhcmluZ1RhYnM6IHByZXNlbnQgaW4gcHJldiBidXQgbm90IGluIG5leHQgb3Igb3RoZXJOZXh0XHJcbiAgICBjb25zdCBvbGRUYWJzID0gIW5leHRTbmFwc2hvdFxyXG4gICAgICAgID8gW11cclxuICAgICAgICA6IE9iamVjdC5rZXlzKG5leHRTbmFwc2hvdClcclxuICAgICAgICAgICAgLmZpbHRlcihmaWxlbmFtZSA9PiBpc1ByZXNlbnQoZmlsZW5hbWUsIHByZXZTbmFwc2hvdCkgfHxcclxuICAgICAgICAgICAgIXByZXZTbmFwc2hvdClcclxuICAgICAgICAgICAgLm1hcChmaWxlbmFtZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBwcmV2U25hcHNob3QgJiYgcHJldlNuYXBzaG90W2ZpbGVuYW1lXTtcclxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5leHRTbmFwc2hvdFtmaWxlbmFtZV07XHJcbiAgICAgICAgICAgIGNvbnN0IGR4ID0gcHJldlxyXG4gICAgICAgICAgICAgICAgPyBwcmV2LmxlZnQgKyAobmV4dC5sZWZ0IC0gcHJldi5sZWZ0KSAqIHRcclxuICAgICAgICAgICAgICAgIDogbmV4dC5sZWZ0O1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHByZXZcclxuICAgICAgICAgICAgICAgID8gcHJldi53aWR0aCArIChuZXh0LndpZHRoIC0gcHJldi53aWR0aCkgKiB0XHJcbiAgICAgICAgICAgICAgICA6IG5leHQud2lkdGg7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IGZpbGVuYW1lID09PSBhY3RpdmUsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogZmlsZW5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgke2R4fXB4KWAsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgY29uc3QgdG90YWxseU5ld1RhYnMgPSAhbmV4dFNuYXBzaG90XHJcbiAgICAgICAgPyBbXVxyXG4gICAgICAgIDogT2JqZWN0LmtleXMobmV4dFNuYXBzaG90KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZpbGVuYW1lID0+IHByZXZTbmFwc2hvdCAmJlxyXG4gICAgICAgICAgICAhaXNQcmVzZW50KGZpbGVuYW1lLCBwcmV2U25hcHNob3QpXHJcbiAgICAgICAgLy8gJiYgIWlzUHJlc2VudChmaWxlbmFtZSwgb3RoZXJQcmV2U25hcHNob3QpXHJcbiAgICAgICAgKVxyXG4gICAgICAgICAgICAubWFwKGZpbGVuYW1lID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5leHRTbmFwc2hvdFtmaWxlbmFtZV07XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IGZpbGVuYW1lID09PSBhY3RpdmUsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogZmlsZW5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgke25leHQubGVmdH1weClgLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG5leHQud2lkdGgsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgIW5leHRTbmFwc2hvdFxyXG4gICAgICAgID8gW11cclxuICAgICAgICA6IE9iamVjdC5rZXlzKG5leHRTbmFwc2hvdClcclxuICAgICAgICAgICAgLmZpbHRlcihmaWxlbmFtZSA9PiBpc1ByZXNlbnQoZmlsZW5hbWUsIG90aGVyUHJldlNuYXBzaG90KSlcclxuICAgICAgICAgICAgLm1hcChmaWxlbmFtZSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvdGhlclByZXZTbmFwc2hvdFtmaWxlbmFtZV07XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXh0U25hcHNob3RbZmlsZW5hbWVdO1xyXG4gICAgICAgICAgICBjb25zdCBkeCA9IG5leHQubGVmdCAtIHByZXYubGVmdDtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogZmlsZW5hbWUgPT09IGFjdGl2ZSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBmaWxlbmFtZSxcclxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKCR7ZHh9cHgpYCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICBjb25zdCBkaXNhcHBlYXJpbmdUYWJzID0gIXByZXZTbmFwc2hvdFxyXG4gICAgICAgID8gW11cclxuICAgICAgICA6IE9iamVjdC5rZXlzKHByZXZTbmFwc2hvdClcclxuICAgICAgICAgICAgLmZpbHRlcihmaWxlbmFtZSA9PiAhaXNQcmVzZW50KGZpbGVuYW1lLCBuZXh0U25hcHNob3QpXHJcbiAgICAgICAgLy8gJiYgIWlzUHJlc2VudChmaWxlbmFtZSwgb3RoZXJOZXh0U25hcHNob3QpXHJcbiAgICAgICAgKVxyXG4gICAgICAgICAgICAubWFwKGZpbGVuYW1lID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJldiA9IHByZXZTbmFwc2hvdFtmaWxlbmFtZV07XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IGZpbGVuYW1lID09PSBhY3RpdmUsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogZmlsZW5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSAtIHQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgke3ByZXYubGVmdH1weClgLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBwcmV2LndpZHRoLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgLi4udG90YWxseU5ld1RhYnMsXHJcbiAgICAgICAgLy8gLi4ubWlncmF0aW5nVGFicyxcclxuICAgICAgICAuLi5vbGRUYWJzLFxyXG4gICAgICAgIC4uLmRpc2FwcGVhcmluZ1RhYnMsXHJcbiAgICBdO1xyXG59XHJcbmZ1bmN0aW9uIGlzUHJlc2VudChmaWxlbmFtZSwgc25hcHNob3QpIHtcclxuICAgIHJldHVybiBzbmFwc2hvdCAmJiBmaWxlbmFtZSAmJiBmaWxlbmFtZSBpbiBzbmFwc2hvdDtcclxufVxyXG4vLyBzbmFwc2hvdHNcclxuY29uc3QgdXNlTGF5b3V0RWZmZWN0JDIgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICA/IFJlYWN0LnVzZUxheW91dEVmZmVjdFxyXG4gICAgOiBSZWFjdC51c2VFZmZlY3Q7XHJcbmZ1bmN0aW9uIHVzZVNuYXBzaG90cyhyZWYsIHByZXYsIG5leHQpIHtcclxuICAgIGNvbnN0IFt7IHByZXZTbmFwc2hvdCwgbmV4dFNuYXBzaG90IH0sIHNldFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKHtcclxuICAgICAgICBwcmV2U25hcHNob3Q6IG51bGwsXHJcbiAgICAgICAgbmV4dFNuYXBzaG90OiBudWxsLFxyXG4gICAgfSk7XHJcbiAgICB1c2VMYXlvdXRFZmZlY3QkMigoKSA9PiB7XHJcbiAgICAgICAgaWYgKHByZXZTbmFwc2hvdCB8fCBuZXh0U25hcHNob3QpIHtcclxuICAgICAgICAgICAgc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgcHJldlNuYXBzaG90OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgbmV4dFNuYXBzaG90OiBudWxsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbcHJldiwgbmV4dF0pO1xyXG4gICAgdXNlTGF5b3V0RWZmZWN0JDIoKCkgPT4ge1xyXG4gICAgICAgIGlmICghcHJldlNuYXBzaG90KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHJlZi5jdXJyZW50O1xyXG4gICAgICAgICAgICBzZXRTdGF0ZShzID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHMpLCB7IHByZXZTbmFwc2hvdDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBnZXRQYW5lbFNuYXBzaG90KHBhcmVudCwgcHJldikpLCBnZXRUYWJzU25hcHNob3QocGFyZW50LCBwcmV2KSkgfSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIW5leHRTbmFwc2hvdCkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSByZWYuY3VycmVudDtcclxuICAgICAgICAgICAgc2V0U3RhdGUocyA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzKSwgeyBuZXh0U25hcHNob3Q6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2V0UGFuZWxTbmFwc2hvdChwYXJlbnQsIG5leHQpKSwgZ2V0VGFic1NuYXBzaG90KHBhcmVudCwgbmV4dCkpIH0pKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4geyBwcmV2U25hcHNob3QsIG5leHRTbmFwc2hvdCB9O1xyXG59XHJcbmZ1bmN0aW9uIGdldFBhbmVsU25hcHNob3QocGFyZW50LCBzdGVwKSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCBub3J0aEVsZW1lbnQgPSBwYXJlbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWNoLXBhbmVsPSdub3J0aCddXCIpO1xyXG4gICAgY29uc3Qgc291dGhFbGVtZW50ID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jaC1wYW5lbD0nc291dGgnXVwiKTtcclxuICAgIGNvbnN0IGJhciA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKFwiLmNoLWZyYW1lLXRpdGxlLWJhclwiKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdGl0bGVCYXJIZWlnaHQ6IGJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQsXHJcbiAgICAgICAgbm9ydGhIZWlnaHQ6IG5vcnRoRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQsXHJcbiAgICAgICAgbm9ydGhLZXk6IHN0ZXAubm9ydGhQYW5lbC5hY3RpdmUsXHJcbiAgICAgICAgc291dGhIZWlnaHQ6IChzb3V0aEVsZW1lbnQgPT09IG51bGwgfHwgc291dGhFbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3V0aEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0KSB8fCBudWxsLFxyXG4gICAgICAgIHNvdXRoS2V5OiAoX2EgPSBzdGVwLnNvdXRoUGFuZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY3RpdmUsXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGdldFRhYnNTbmFwc2hvdChwYXJlbnQsIHN0ZXApIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IG5vcnRoVGFicyA9IEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1jaC10YWI9J25vcnRoJ11cIikpO1xyXG4gICAgY29uc3Qgc291dGhUYWJzID0gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWNoLXRhYj0nc291dGgnXVwiKSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5vcnRoVGFiczogZ2V0VGFic0RpbWVuc2lvbnMobm9ydGhUYWJzLCBzdGVwLm5vcnRoUGFuZWwuYWN0aXZlKSxcclxuICAgICAgICBzb3V0aFRhYnM6IGdldFRhYnNEaW1lbnNpb25zKHNvdXRoVGFicywgKF9hID0gc3RlcC5zb3V0aFBhbmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWN0aXZlKSxcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0VGFic0RpbWVuc2lvbnModGFiRWxlbWVudHMsIGFjdGl2ZSkge1xyXG4gICAgaWYgKCF0YWJFbGVtZW50c1swXSkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGFyZW50ID0gdGFiRWxlbWVudHNbMF0ucGFyZW50RWxlbWVudDtcclxuICAgIGNvbnN0IHBhcmVudExlZnQgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB7fTtcclxuICAgIHRhYkVsZW1lbnRzLmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwidGl0bGVcIik7XHJcbiAgICAgICAgY29uc3QgcmVjdCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGRpbWVuc2lvbnNbZmlsZW5hbWVdID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQgLSBwYXJlbnRMZWZ0LFxyXG4gICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgICAgICAgICAgYWN0aXZlOiBmaWxlbmFtZSA9PT0gYWN0aXZlLFxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkaW1lbnNpb25zO1xyXG59XG5cbmZ1bmN0aW9uIENvZGVCcm93c2VyKHsgZmlsZXMsIHRoZW1lLCBzdGFydGluZ0ZpbGVOYW1lLCB9KSB7XHJcbiAgICBjb25zdCBbYWN0aXZlRmlsZSwgc2V0QWN0aXZlRmlsZV0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiBmaWxlcy5maW5kKGYgPT4gZi5uYW1lID09PSBzdGFydGluZ0ZpbGVOYW1lKSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2gtY29kZS1icm93c2VyXCIsIHN0eWxlOiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLkVkaXRvckZvcmVncm91bmQpLFxyXG4gICAgICAgIH0gfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXIsIHsgZmlsZXM6IGZpbGVzLCB0aGVtZTogdGhlbWUsIGFjdGl2ZUZpbGU6IGFjdGl2ZUZpbGUsIHNldEFjdGl2ZUZpbGU6IHNldEFjdGl2ZUZpbGUgfSksXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb250ZW50LCB7IGZpbGU6IGFjdGl2ZUZpbGUsIHRoZW1lOiB0aGVtZSB9KSkpO1xyXG59XHJcbmZ1bmN0aW9uIFNpZGViYXIoeyB0aGVtZSwgZmlsZXMsIGFjdGl2ZUZpbGUsIHNldEFjdGl2ZUZpbGUsIH0pIHtcclxuICAgIGNvbnN0IHRyZWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHRvRmlsZVRyZWUoZmlsZXMpLCBbZmlsZXNdKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaC1jb2RlLWJyb3dzZXItc2lkZWJhclwiLCBzdHlsZToge1xyXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5TaWRlQmFyQm9yZGVyKSxcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5TaWRlQmFyQmFja2dyb3VuZCksXHJcbiAgICAgICAgICAgIGNvbG9yOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLlNpZGVCYXJGb3JlZ3JvdW5kKSxcclxuICAgICAgICAgICAgW1wiLS1jaC1saXN0LXNlbGVjdGlvbi1iYWNrZ3JvdW5kXCJdOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLkxpc3RBY3RpdmVTZWxlY3Rpb25CYWNrZ3JvdW5kKSxcclxuICAgICAgICAgICAgW1wiLS1jaC1saXN0LXNlbGVjdGlvbi1mb3JlZ3JvdW5kXCJdOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLkxpc3RBY3RpdmVTZWxlY3Rpb25Gb3JlZ3JvdW5kKSxcclxuICAgICAgICAgICAgW1wiLS1jaC1ob3Zlci1iYWNrZ3JvdW5kXCJdOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLkxpc3RIb3ZlckJhY2tncm91bmQpLFxyXG4gICAgICAgICAgICBbXCItLWNoLWhvdmVyLWZvcmVncm91bmRcIl06IGdldENvbG9yKHRoZW1lLCBDb2xvck5hbWUuTGlzdEhvdmVyRm9yZWdyb3VuZCksXHJcbiAgICAgICAgfSB9LFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhck5vZGVzLCB7IHRyZWU6IHRyZWUsIGFjdGl2ZUZpbGU6IGFjdGl2ZUZpbGUsIHNldEFjdGl2ZUZpbGU6IHNldEFjdGl2ZUZpbGUgfSkpKTtcclxufVxyXG5mdW5jdGlvbiBTaWRlYmFyTm9kZXMoeyB0cmVlLCBhY3RpdmVGaWxlLCBzZXRBY3RpdmVGaWxlLCBsZXZlbCA9IDAsIH0pIHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgdHJlZS5tYXAobm9kZSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChTaWRlYmFyTm9kZSwgeyBrZXk6IG5vZGUubmFtZSwgbm9kZTogbm9kZSwgYWN0aXZlRmlsZTogYWN0aXZlRmlsZSwgc2V0QWN0aXZlRmlsZTogc2V0QWN0aXZlRmlsZSwgbGV2ZWw6IGxldmVsIH0pKSkpKTtcclxufVxyXG5mdW5jdGlvbiBTaWRlYmFyTm9kZSh7IG5vZGUsIGFjdGl2ZUZpbGUsIHNldEFjdGl2ZUZpbGUsIGxldmVsLCB9KSB7XHJcbiAgICBjb25zdCBpc0ZvbGRlciA9IG5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwO1xyXG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IG5vZGUuY29kZUZpbGUgPT09IGFjdGl2ZUZpbGU7XHJcbiAgICBpZiAoaXNGb2xkZXIpIHtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaC1jb2RlLWJyb3dzZXItc2lkZWJhci1mb2xkZXJcIiB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IHBhZGRpbmdMZWZ0OiBsZXZlbCAqIDEuNSArIFwiY2hcIiB9IH0sIG5vZGUubmFtZSkpLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFNpZGViYXJOb2RlcywgeyB0cmVlOiBub2RlLmNoaWxkcmVuLCBhY3RpdmVGaWxlOiBhY3RpdmVGaWxlLCBzZXRBY3RpdmVGaWxlOiBzZXRBY3RpdmVGaWxlLCBsZXZlbDogbGV2ZWwgKyAxIH0pKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaC1jb2RlLWJyb3dzZXItc2lkZWJhci1maWxlXCIsIG9uQ2xpY2s6ICgpID0+IHNldEFjdGl2ZUZpbGUobm9kZS5jb2RlRmlsZSksIHN0eWxlOiBpc1NlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInZhcigtLWNoLWxpc3Qtc2VsZWN0aW9uLWZvcmVncm91bmQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidmFyKC0tY2gtbGlzdC1zZWxlY3Rpb24tYmFja2dyb3VuZClcIixcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgOiB7fSB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IHBhZGRpbmdMZWZ0OiBsZXZlbCAqIDEuNSArIFwiY2hcIiB9IH0sIG5vZGUubmFtZSkpKSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gQ29udGVudCh7IGZpbGUsIHRoZW1lLCB9KSB7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2gtY29kZS1icm93c2VyLWNvbnRlbnRcIiwgc3R5bGU6IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5Db2RlQmFja2dyb3VuZCksXHJcbiAgICAgICAgICAgIGNvbG9yOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLkNvZGVGb3JlZ3JvdW5kKSxcclxuICAgICAgICAgICAgW1wiLS1jaC1zZWxlY3Rpb24tYmFja2dyb3VuZFwiXTogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5TZWxlY3Rpb25CYWNrZ3JvdW5kKSxcclxuICAgICAgICAgICAgY29sb3JTY2hlbWU6IGdldENvbG9yU2NoZW1lKHRoZW1lKSxcclxuICAgICAgICB9IH0sXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb3B5QnV0dG9uLCB7IGNsYXNzTmFtZTogXCJjaC1jb2RlLWJyb3dzZXItYnV0dG9uXCIsIGNvbnRlbnQ6IGNvZGVUb1RleHQoZmlsZS5jb2RlKSB9KSxcclxuICAgICAgICBmaWxlLmNvZGUubGluZXMubWFwKChsaW5lLCBpKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGtleTogaSB9LCBsaW5lLnRva2Vucy5sZW5ndGggPT09IDAgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIG51bGwpKSA6IChsaW5lLnRva2Vucy5tYXAoKHRva2VuLCBpKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgT2JqZWN0LmFzc2lnbih7IGtleTogaSB9LCB0b2tlbi5wcm9wcyksIHRva2VuLmNvbnRlbnQpKSkpKSkpKSk7XHJcbn1cclxuZnVuY3Rpb24gdG9GaWxlVHJlZShmaWxlcykge1xyXG4gICAgbGV0IHRyZWUgPSBbXTtcclxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gZmlsZS5uYW1lLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICBsZXQgY3VycmVudCA9IHRyZWU7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XHJcbiAgICAgICAgICAgIGNvbnN0IGlzTGFzdFBhcnQgPSBpID09PSBwYXJ0cy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGN1cnJlbnQuZmluZEluZGV4KGYgPT4gZi5uYW1lID09PSBwYXJ0KTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHBhcnQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvZGVGaWxlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTGFzdFBhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWIuY29kZUZpbGUgPSBmaWxlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY3VycmVudC5wdXNoKHN1Yik7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gc3ViLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbaW5kZXhdLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdHJlZSA9IHNvcnRUcmVlKHRyZWUpO1xyXG4gICAgcmV0dXJuIHRyZWU7XHJcbn1cclxuZnVuY3Rpb24gc29ydFRyZWUodHJlZSkge1xyXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0cmVlKSB7XHJcbiAgICAgICAgY2hpbGQuY2hpbGRyZW4gPSBzb3J0VHJlZShjaGlsZC5jaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJlZS5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYUlzRm9sZGVyID0gYS5jaGlsZHJlbiAmJiBhLmNoaWxkcmVuLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgY29uc3QgYklzRm9sZGVyID0gYi5jaGlsZHJlbiAmJiBiLmNoaWxkcmVuLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgaWYgKChhSXNGb2xkZXIgJiYgYklzRm9sZGVyKSB8fFxyXG4gICAgICAgICAgICAoIWFJc0ZvbGRlciAmJiAhYklzRm9sZGVyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFJc0ZvbGRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfSk7XHJcbn1cblxuZnVuY3Rpb24gRXhwYW5kQnV0dG9uKHsgc3R5bGUsIHN0ZXAsIHRoZW1lLCBjbGFzc05hbWUsIH0pIHtcclxuICAgIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xyXG4gICAgY29uc3QgW2RpYWxvZ1N1cHBvcnRlZCwgc2V0RGlhbG9nU3VwcG9ydGVkXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpO1xyXG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xyXG4gICAgY29uc3QgZmlsZXMgPSBzdGVwLmZpbGVzO1xyXG4gICAgLy8gY2hlY2sgaWYgPGRpYWxvZyAvPiBpcyBzdXBwb3J0ZWRcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlZi5jdXJyZW50ICYmICFyZWYuY3VycmVudC5zaG93TW9kYWwpIHtcclxuICAgICAgICAgICAgc2V0RGlhbG9nU3VwcG9ydGVkKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbXSk7XHJcbiAgICBpZiAoIWRpYWxvZ1N1cHBvcnRlZCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXhwYW5kSWNvbiwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHN0eWxlLCBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZWYuY3VycmVudC5zaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcImNoLW5vLXNjcm9sbFwiKTtcclxuICAgICAgICAgICAgICAgIHNldEV4cGFuZGVkKHRydWUpO1xyXG4gICAgICAgICAgICB9IH0pLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaWFsb2dcIiwgeyByZWY6IHJlZiwgY2xhc3NOYW1lOiBcImNoLWV4cGFuZC1kaWFsb2dcIiwgb25DbG9zZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0RXhwYW5kZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICB9LCBvbkNsaWNrOiBlID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQgPT09IGUudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmLmN1cnJlbnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJjaC1uby1zY3JvbGxcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gfSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZUJ1dHRvbiwgeyBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmLmN1cnJlbnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJjaC1uby1zY3JvbGxcIik7XHJcbiAgICAgICAgICAgICAgICB9IH0pLFxyXG4gICAgICAgICAgICBleHBhbmRlZCA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoLWV4cGFuZC1kaWFsb2ctY29udGVudFwiLCBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLlNpZGVCYXJCb3JkZXIpLFxyXG4gICAgICAgICAgICAgICAgfSB9LFxyXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb2RlQnJvd3NlciwgeyBmaWxlczogZmlsZXMsIHRoZW1lOiB0aGVtZSwgc3RhcnRpbmdGaWxlTmFtZTogc3RlcC5ub3J0aFBhbmVsLmFjdGl2ZSB9KSkpIDogdW5kZWZpbmVkKSkpO1xyXG59XHJcbmZ1bmN0aW9uIEV4cGFuZEljb24oeyBvbkNsaWNrLCBzdHlsZSwgY2xhc3NOYW1lLCB9KSB7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyBzdHlsZTogc3R5bGUsIG9uQ2xpY2s6IG9uQ2xpY2ssIGNsYXNzTmFtZTogY2xhc3NOYW1lLCBmaWxsOiBcIm5vbmVcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCByb2xlOiBcImJ1dHRvblwiIH0sXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIFwiRXhwYW5kXCIpLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBzdHJva2VXaWR0aDogMiwgZDogXCJNNCA4VjRtMCAwaDRNNCA0bDUgNW0xMS0xVjRtMCAwaC00bTQgMGwtNSA1TTQgMTZ2NG0wIDBoNG0tNCAwbDUtNW0xMSA1bC01LTVtNSA1di00bTAgNGgtNFwiIH0pKSk7XHJcbn1cclxuZnVuY3Rpb24gQ2xvc2VCdXR0b24oeyBvbkNsaWNrIH0pIHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IG9uQ2xpY2s6IG9uQ2xpY2ssIGNsYXNzTmFtZTogXCJjaC1leHBhbmQtY2xvc2VcIiwgZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIiwgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgcm9sZTogXCJidXR0b25cIiB9LFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCBcIkNsb3NlXCIpLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBzdHJva2VXaWR0aDogMiwgZDogXCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIH0pKSk7XHJcbn1cblxuY29uc3QgREVGQVVMVF9TVEVQID0ge1xyXG4gICAgZmlsZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvZGU6IHsgbGluZXM6IFtdLCBsYW5nOiBcImpzXCIgfSxcclxuICAgICAgICAgICAgZm9jdXM6IFwiXCIsXHJcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXHJcbiAgICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBub3J0aFBhbmVsOiB7IGFjdGl2ZTogXCJcIiwgdGFiczogW1wiXCJdLCBoZWlnaHRSYXRpbzogMSB9LFxyXG59O1xyXG5mdW5jdGlvbiBFZGl0b3JUd2VlbihfYSkge1xyXG4gICAgdmFyIHsgcHJldiA9IERFRkFVTFRfU1RFUCwgbmV4dCwgdCwgYmFja3dhcmQsIGNvZGVDb25maWcsIGZyYW1lUHJvcHMgPSB7fSB9ID0gX2EsIGRpdlByb3BzID0gX19yZXN0KF9hLCBbXCJwcmV2XCIsIFwibmV4dFwiLCBcInRcIiwgXCJiYWNrd2FyZFwiLCBcImNvZGVDb25maWdcIiwgXCJmcmFtZVByb3BzXCJdKTtcclxuICAgIGNvbnN0IHJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xyXG4gICAgY29uc3QgeyBzaG93Q29weUJ1dHRvbiwgc2hvd0V4cGFuZEJ1dHRvbiB9ID0gY29kZUNvbmZpZywgY29uZmlnID0gX19yZXN0KGNvZGVDb25maWcsIFtcInNob3dDb3B5QnV0dG9uXCIsIFwic2hvd0V4cGFuZEJ1dHRvblwiXSk7XHJcbiAgICBjb25zdCB7IG5vcnRoUGFuZWwsIHNvdXRoUGFuZWwsIG5vcnRoQ29udGVudCwgc291dGhDb250ZW50LCB9ID0gdXNlVHJhbnNpdGlvbihyZWYsIHByZXYsIG5leHQgfHwgcHJldiwgdCwgYmFja3dhcmQsIGNvbmZpZyk7XHJcbiAgICBjb25zdCBbZnJvemVuSGVpZ2h0LCBmcmVlemVIZWlnaHRdID0gUmVhY3QudXNlU3RhdGUodW5kZWZpbmVkKTtcclxuICAgIHVzZUxheW91dEVmZmVjdCQ0KCgpID0+IHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gKF9hID0gcmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcbiAgICAgICAgZnJlZXplSGVpZ2h0KGhlaWdodCk7XHJcbiAgICB9LCBbXSk7XHJcbiAgICBjb25zdCBmcmFtZVByb3BzV2l0aEhlaWdodCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBmcmFtZVByb3BzKSwgZGl2UHJvcHMpLCB7IHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGZyYW1lUHJvcHMgPT09IG51bGwgfHwgZnJhbWVQcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnJhbWVQcm9wcy5zdHlsZSksIGRpdlByb3BzID09PSBudWxsIHx8IGRpdlByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXZQcm9wcy5zdHlsZSkgfSk7XHJcbiAgICBpZiAoZnJvemVuSGVpZ2h0KSB7XHJcbiAgICAgICAgZnJhbWVQcm9wc1dpdGhIZWlnaHQuc3R5bGUuaGVpZ2h0ID0gZnJvemVuSGVpZ2h0O1xyXG4gICAgICAgIGZyYW1lUHJvcHNXaXRoSGVpZ2h0LnN0eWxlLm1heEhlaWdodCA9IGZyb3plbkhlaWdodDtcclxuICAgIH1cclxuICAgIGNvbnN0IG5vcnRoQnV0dG9ucyA9IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgIHNob3dDb3B5QnV0dG9uID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29weUJ1dHRvbiwgeyBjbGFzc05hbWU6IFwiY2gtZWRpdG9yLWJ1dHRvblwiLCBjb250ZW50OiBub3J0aENvbnRlbnQgfSkpIDogdW5kZWZpbmVkLFxyXG4gICAgICAgIHNob3dFeHBhbmRCdXR0b24gPyAoUmVhY3QuY3JlYXRlRWxlbWVudChFeHBhbmRCdXR0b24sIHsgY2xhc3NOYW1lOiBcImNoLWVkaXRvci1idXR0b25cIiwgc3RlcDogbmV4dCB8fCBwcmV2LCB0aGVtZTogY29kZUNvbmZpZy50aGVtZSB9KSkgOiB1bmRlZmluZWQpKTtcclxuICAgIGNvbnN0IHNvdXRoQ29weUJ1dHRvbiA9IHNob3dDb3B5QnV0dG9uID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29weUJ1dHRvbiwgeyBjbGFzc05hbWU6IFwiY2gtZWRpdG9yLWJ1dHRvblwiLCBjb250ZW50OiBzb3V0aENvbnRlbnQgfSkpIDogdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgdGVybWluYWxQYW5lbCA9IChSZWFjdC5jcmVhdGVFbGVtZW50KFRlcm1pbmFsUGFuZWwsIHsgcHJldjogcHJldi50ZXJtaW5hbCwgbmV4dDogKG5leHQgfHwgcHJldikudGVybWluYWwsIHQ6IHQsIGJhY2t3YXJkOiBiYWNrd2FyZCB9KSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRWRpdG9yRnJhbWUsIE9iamVjdC5hc3NpZ24oeyByZWY6IHJlZiB9LCBmcmFtZVByb3BzV2l0aEhlaWdodCwgeyBub3J0aFBhbmVsOiBub3J0aFBhbmVsLCBzb3V0aFBhbmVsOiBzb3V0aFBhbmVsLCB0ZXJtaW5hbFBhbmVsOiB0ZXJtaW5hbFBhbmVsLCB0aGVtZTogY29kZUNvbmZpZy50aGVtZSwgbm9ydGhCdXR0b246IG5vcnRoQnV0dG9ucywgc291dGhCdXR0b246IHNvdXRoQ29weUJ1dHRvbiB9KSkpO1xyXG59XG5cbmNvbnN0IGRlZmF1bHRTcHJpbmcgPSB7XHJcbiAgICBzdGlmZm5lc3M6IDEyMCxcclxuICAgIGRhbXBpbmc6IDI0LFxyXG4gICAgbWFzczogMC4yLFxyXG4gICAgZGVjaW1hbHM6IDMsXHJcbn07XHJcbmZ1bmN0aW9uIEVkaXRvclNwcmluZyhfYSkge1xyXG4gICAgdmFyIHsgbm9ydGhQYW5lbCwgc291dGhQYW5lbCwgZmlsZXMsIHRlcm1pbmFsLCBzcHJpbmdDb25maWcgfSA9IF9hLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wibm9ydGhQYW5lbFwiLCBcInNvdXRoUGFuZWxcIiwgXCJmaWxlc1wiLCBcInRlcm1pbmFsXCIsIFwic3ByaW5nQ29uZmlnXCJdKTtcclxuICAgIGNvbnN0IHN0ZXAgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBub3J0aFBhbmVsLFxyXG4gICAgICAgICAgICBzb3V0aFBhbmVsLFxyXG4gICAgICAgICAgICBmaWxlcyxcclxuICAgICAgICAgICAgdGVybWluYWwsXHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtub3J0aFBhbmVsLCBzb3V0aFBhbmVsLCBmaWxlcywgdGVybWluYWxdKTtcclxuICAgIGNvbnN0IHsgcHJldiwgbmV4dCwgdCB9ID0gdXNlU3RlcFNwcmluZyhzdGVwLCBzcHJpbmdDb25maWcpO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRvclR3ZWVuLCBPYmplY3QuYXNzaWduKHsgdDogdCwgYmFja3dhcmQ6IGZhbHNlLCBwcmV2OiBwcmV2LCBuZXh0OiBuZXh0IH0sIHByb3BzKSkpO1xyXG59XHJcbmZ1bmN0aW9uIHVzZVN0ZXBTcHJpbmcoc3RlcCwgc3ByaW5nQ29uZmlnID0gZGVmYXVsdFNwcmluZykge1xyXG4gICAgY29uc3QgW3sgdGFyZ2V0LCBzdGVwcywgaW5kZXggfSwgc2V0U3RhdGVdID0gUmVhY3QudXNlU3RhdGUoe1xyXG4gICAgICAgIHRhcmdldDogMixcclxuICAgICAgICBzdGVwczogW3N0ZXAsIHN0ZXAsIHN0ZXBdLFxyXG4gICAgICAgIGluZGV4OiAwLFxyXG4gICAgfSk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxhc3RTdGVwID0gc3RlcHNbc3RlcHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgaWYgKGxhc3RTdGVwICE9IHN0ZXApIHtcclxuICAgICAgICAgICAgc2V0U3RhdGUocyA9PiB1cGRhdGVTdGVwU3ByaW5nKHMsIHN0ZXAsIHByb2dyZXNzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW3N0ZXBdKTtcclxuICAgIGNvbnN0IFtwcm9ncmVzc10gPSB1c2VTcHJpbmcodGFyZ2V0LCBzcHJpbmdDb25maWcpO1xyXG4gICAgY29uc3QgdHJpb1Byb2dyZXNzID0gcHJvZ3Jlc3MgLSBpbmRleDtcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRyaW9Qcm9ncmVzcyA8PSAxXHJcbiAgICAgICAgPyB7XHJcbiAgICAgICAgICAgIHByZXY6IHN0ZXBzWzBdLFxyXG4gICAgICAgICAgICBuZXh0OiBzdGVwc1sxXSxcclxuICAgICAgICAgICAgdDogdHJpb1Byb2dyZXNzLFxyXG4gICAgICAgIH1cclxuICAgICAgICA6IHtcclxuICAgICAgICAgICAgcHJldjogc3RlcHNbMV0sXHJcbiAgICAgICAgICAgIG5leHQ6IHN0ZXBzWzJdLFxyXG4gICAgICAgICAgICB0OiB0cmlvUHJvZ3Jlc3MgLSAxLFxyXG4gICAgICAgIH07XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZVN0ZXBTcHJpbmcoc3RhdGUsIG5ld1N0ZXAsIHByb2dyZXNzKSB7XHJcbiAgICBjb25zdCB7IHN0ZXBzLCB0YXJnZXQsIGluZGV4IH0gPSBzdGF0ZTtcclxuICAgIGNvbnN0IHN0ZXBzQ2xvbmUgPSBzdGVwcy5zbGljZSgpO1xyXG4gICAgY29uc3QgdHJpb1Byb2dyZXNzID0gcHJvZ3Jlc3MgLSBpbmRleDtcclxuICAgIGlmICh0cmlvUHJvZ3Jlc3MgPCAxKSB7XHJcbiAgICAgICAgc3RlcHNDbG9uZVsyXSA9IG5ld1N0ZXA7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHN0ZXBzOiBzdGVwc0Nsb25lIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc3RlcHNDbG9uZVswXSA9IHN0ZXBzWzFdO1xyXG4gICAgICAgIHN0ZXBzQ2xvbmVbMV0gPSBzdGVwc1syXTtcclxuICAgICAgICBzdGVwc0Nsb25lWzJdID0gbmV3U3RlcDtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgc3RlcHM6IHN0ZXBzQ2xvbmUsIHRhcmdldDogdGFyZ2V0ICsgMSwgaW5kZXg6IGluZGV4ICsgMSB9KTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBDb2RlKHByb3BzKSB7XHJcbiAgICBjb25zdCBbc3RlcCwgc2V0U3RlcF0gPSBSZWFjdC51c2VTdGF0ZShwcm9wcyk7XHJcbiAgICBmdW5jdGlvbiBvblRhYkNsaWNrKGZpbGVuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgbmV3U3RlcCA9IHVwZGF0ZUVkaXRvclN0ZXAoc3RlcCwgZmlsZW5hbWUsIG51bGwpO1xyXG4gICAgICAgIHNldFN0ZXAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGVwKSwgbmV3U3RlcCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5uZXJDb2RlLCBPYmplY3QuYXNzaWduKHt9LCBzdGVwLCB7IG9uVGFiQ2xpY2s6IG9uVGFiQ2xpY2sgfSkpO1xyXG59XHJcbi8vIGJ1aWxkIHRoZSBDb2RlQ29uZmlnIGZyb20gcHJvcHMgYW5kIHByb3BzLmNvZGVDb25maWdcclxuZnVuY3Rpb24gbWVyZ2VDb2RlQ29uZmlnKHByb3BzKSB7XHJcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfajtcclxuICAgIGNvbnN0IHsgbGluZU51bWJlcnMsIHNob3dDb3B5QnV0dG9uLCBzaG93RXhwYW5kQnV0dG9uLCBtaW5ab29tLCBtYXhab29tIH0gPSBwcm9wcywgcmVzdCA9IF9fcmVzdChwcm9wcywgW1wibGluZU51bWJlcnNcIiwgXCJzaG93Q29weUJ1dHRvblwiLCBcInNob3dFeHBhbmRCdXR0b25cIiwgXCJtaW5ab29tXCIsIFwibWF4Wm9vbVwiXSk7XHJcbiAgICBjb25zdCBjb2RlQ29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwcm9wcy5jb2RlQ29uZmlnKSwgeyBtYXhab29tOiBtYXhab29tID09IG51bGwgPyAoX2EgPSBwcm9wcy5jb2RlQ29uZmlnKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWF4Wm9vbSA6IG1heFpvb20sIG1pblpvb206IG1pblpvb20gPT0gbnVsbCA/IChfYiA9IHByb3BzLmNvZGVDb25maWcpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5taW5ab29tIDogbWluWm9vbSwgaG9yaXpvbnRhbENlbnRlcjogKF9kID0gKF9jID0gcHJvcHMuY29kZUNvbmZpZykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmhvcml6b250YWxDZW50ZXIpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHByb3BzLmhvcml6b250YWxDZW50ZXIsIGxpbmVOdW1iZXJzOiBsaW5lTnVtYmVycyA9PSBudWxsXHJcbiAgICAgICAgICAgID8gKF9lID0gcHJvcHMuY29kZUNvbmZpZykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmxpbmVOdW1iZXJzXHJcbiAgICAgICAgICAgIDogbGluZU51bWJlcnMsIHNob3dDb3B5QnV0dG9uOiBzaG93Q29weUJ1dHRvbiA9PSBudWxsXHJcbiAgICAgICAgICAgID8gKF9mID0gcHJvcHMuY29kZUNvbmZpZykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnNob3dDb3B5QnV0dG9uXHJcbiAgICAgICAgICAgIDogc2hvd0NvcHlCdXR0b24sIHNob3dFeHBhbmRCdXR0b246IHNob3dFeHBhbmRCdXR0b24gPT0gbnVsbFxyXG4gICAgICAgICAgICA/IChfZyA9IHByb3BzLmNvZGVDb25maWcpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5zaG93RXhwYW5kQnV0dG9uXHJcbiAgICAgICAgICAgIDogc2hvd0V4cGFuZEJ1dHRvbiwgcm93czogcHJvcHMucm93cywgZGVidWc6IChfaCA9IHByb3BzLmRlYnVnKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiAoX2ogPSBwcm9wcy5jb2RlQ29uZmlnKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouZGVidWcgfSk7XHJcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXN0KSwgeyBjb2RlQ29uZmlnIH0pO1xyXG59XHJcbmZ1bmN0aW9uIElubmVyQ29kZShfYSkge1xyXG4gICAgdmFyIHsgb25UYWJDbGljayB9ID0gX2EsIHByb3BzID0gX19yZXN0KF9hLCBbXCJvblRhYkNsaWNrXCJdKTtcclxuICAgIGNvbnN0IF9iID0gbWVyZ2VDb2RlQ29uZmlnKHByb3BzKSwgeyBjbGFzc05hbWUsIHN0eWxlLCBjb2RlQ29uZmlnIH0gPSBfYiwgZWRpdG9yUHJvcHMgPSBfX3Jlc3QoX2IsIFtcImNsYXNzTmFtZVwiLCBcInN0eWxlXCIsIFwiY29kZUNvbmZpZ1wiXSk7XHJcbiAgICBpZiAoIXByb3BzLnNvdXRoUGFuZWwgJiZcclxuICAgICAgICBwcm9wcy5maWxlcy5sZW5ndGggPT09IDEgJiZcclxuICAgICAgICAhcHJvcHMuZmlsZXNbMF0ubmFtZSkge1xyXG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogYGNoLWNvZGVibG9jayBub3QtcHJvc2UgJHtjbGFzc05hbWUgfHwgXCJcIn1gLCBzdHlsZTogc3R5bGUgfSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChDb2RlU3ByaW5nLCB7IGNsYXNzTmFtZTogXCJjaC1jb2RlXCIsIGNvbmZpZzogY29kZUNvbmZpZywgc3RlcDogZWRpdG9yUHJvcHMuZmlsZXNbMF0gfSkpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGZyYW1lUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGVkaXRvclByb3BzID09PSBudWxsIHx8IGVkaXRvclByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlZGl0b3JQcm9wcy5mcmFtZVByb3BzKSwgeyBvblRhYkNsaWNrIH0pO1xyXG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogYGNoLWNvZGVncm91cCBub3QtcHJvc2UgJHtjbGFzc05hbWUgfHwgXCJcIn1gLCBzdHlsZTogc3R5bGUgfSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChFZGl0b3JTcHJpbmcsIE9iamVjdC5hc3NpZ24oe30sIGVkaXRvclByb3BzLCB7IGZyYW1lUHJvcHM6IGZyYW1lUHJvcHMsIGNvZGVDb25maWc6IGNvZGVDb25maWcgfSkpKSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlRWRpdG9yU3RlcChzdGVwLCBmaWxlbmFtZSwgZm9jdXMpIHtcclxuICAgIGNvbnN0IG5hbWUgPSBmaWxlbmFtZSB8fCBzdGVwLm5vcnRoUGFuZWwuYWN0aXZlO1xyXG4gICAgY29uc3QgbmV3RmlsZXMgPSBzdGVwLmZpbGVzLm1hcCgoZmlsZSkgPT4gZmlsZS5uYW1lID09PSBuYW1lXHJcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGZpbGUpLCB7IGZvY3VzOiBmb2N1cyA9PT0gbnVsbCA/IGZpbGUuZm9jdXMgOiBmb2N1cyB9KSA6IGZpbGUpO1xyXG4gICAgbGV0IG5vcnRoUGFuZWwgPSBPYmplY3QuYXNzaWduKHt9LCBzdGVwLm5vcnRoUGFuZWwpO1xyXG4gICAgbGV0IHNvdXRoUGFuZWwgPSBzdGVwLnNvdXRoUGFuZWwgJiYgT2JqZWN0LmFzc2lnbih7fSwgc3RlcC5zb3V0aFBhbmVsKTtcclxuICAgIGlmIChzdGVwLm5vcnRoUGFuZWwudGFicy5pbmNsdWRlcyhuYW1lKSkge1xyXG4gICAgICAgIG5vcnRoUGFuZWwuYWN0aXZlID0gbmFtZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHNvdXRoUGFuZWwpIHtcclxuICAgICAgICBzb3V0aFBhbmVsLmFjdGl2ZSA9IG5hbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geyBmaWxlczogbmV3RmlsZXMsIG5vcnRoUGFuZWwsIHNvdXRoUGFuZWwgfTtcclxufVxuXG5jb25zdCBTZWN0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoe1xyXG4gICAgcHJvcHM6IG51bGwsXHJcbiAgICBzZXRGb2N1czogKCkgPT4geyB9LFxyXG59KTtcclxuZnVuY3Rpb24gU2VjdGlvbihfYSkge1xyXG4gICAgdmFyIHsgY2hpbGRyZW4sIGNsYXNzTmFtZSwgc3R5bGUgfSA9IF9hLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIiwgXCJzdHlsZVwiXSk7XHJcbiAgICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKHByb3BzKTtcclxuICAgIGNvbnN0IHJlc2V0Rm9jdXMgPSAoKSA9PiBzZXRTdGF0ZShwcm9wcyk7XHJcbiAgICBjb25zdCBzZXRGb2N1cyA9ICh7IGZpbGVOYW1lLCBmb2N1cywgaWQsIH0pID0+IHtcclxuICAgICAgICBjb25zdCBuZXdTdGVwID0gdXBkYXRlRWRpdG9yU3RlcChzdGF0ZSwgZmlsZU5hbWUsIGZvY3VzKTtcclxuICAgICAgICBzZXRTdGF0ZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCBuZXdTdGVwKSwgeyBzZWxlY3RlZElkOiBpZCB9KSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVzdCA9IF9fcmVzdChzdGF0ZSwgW1wic2VsZWN0ZWRJZFwiXSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIHsgY2xhc3NOYW1lOiBgY2gtc2VjdGlvbiAke2NsYXNzTmFtZSB8fCBcIlwifWAsIHN0eWxlOiBzdHlsZSB9LFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VjdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHtcclxuICAgICAgICAgICAgICAgIHByb3BzOiByZXN0LFxyXG4gICAgICAgICAgICAgICAgc2V0Rm9jdXMsXHJcbiAgICAgICAgICAgIH0gfSxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rYWJsZVNlY3Rpb24sIHsgb25BY3RpdmF0aW9uOiBzZXRGb2N1cywgb25SZXNldDogcmVzZXRGb2N1cyB9LCBjaGlsZHJlbikpKSk7XHJcbn1cclxuZnVuY3Rpb24gU2VjdGlvbkNvZGUoaW5uZXJQcm9wcykge1xyXG4gICAgY29uc3QgeyBwcm9wcywgc2V0Rm9jdXMgfSA9IFJlYWN0LnVzZUNvbnRleHQoU2VjdGlvbkNvbnRleHQpO1xyXG4gICAgY29uc3Qgb25UYWJDbGljayA9IChmaWxlbmFtZSkgPT4ge1xyXG4gICAgICAgIHNldEZvY3VzKHsgZmlsZU5hbWU6IGZpbGVuYW1lLCBmb2N1czogbnVsbCwgaWQ6IFwiXCIgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KElubmVyQ29kZSwgT2JqZWN0LmFzc2lnbih7fSwgaW5uZXJQcm9wcywgcHJvcHMsIHsgb25UYWJDbGljazogb25UYWJDbGljayB9KSkpO1xyXG59XHJcbi8vIC0tLVxyXG5mdW5jdGlvbiBTZWN0aW9uTGluayh7IGZvY3VzLCBmaWxlLCBjaGlsZHJlbiwgaWQsIH0pIHtcclxuICAgIGNvbnN0IHsgYWN0aXZhdGUsIHJlc2V0LCBhY3RpdmF0ZWRJZCB9ID0gUmVhY3QudXNlQ29udGV4dChMaW5rYWJsZUNvbnRleHQpO1xyXG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IGFjdGl2YXRlZElkID09PSBpZDtcclxuICAgIC8vIGNvbnN0IGhhbmRsZUNsaWNrID0gaXNTZWxlY3RlZFxyXG4gICAgLy8gICA/IHJlc2V0Rm9jdXNcclxuICAgIC8vICAgOiAoKSA9PiBzZXRGb2N1cyh7IGZpbGVOYW1lOiBmaWxlLCBmb2N1cywgaWQgfSlcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2gtc2VjdGlvbi1saW5rXCIsIFwiZGF0YS1hY3RpdmVcIjogaXNTZWxlY3RlZCwgXHJcbiAgICAgICAgLy8gb25DbGljaz17aGFuZGxlQ2xpY2t9XHJcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLCBvbk1vdXNlT3ZlcjogKCkgPT4gYWN0aXZhdGUoeyBmaWxlTmFtZTogZmlsZSwgZm9jdXMsIGlkIH0pLCBvbk1vdXNlT3V0OiByZXNldCB9KSk7XHJcbn1cclxuY29uc3QgTGlua2FibGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XHJcbiAgICBhY3RpdmF0ZWRJZDogdW5kZWZpbmVkLFxyXG4gICAgYWN0aXZhdGU6ICgpID0+IHsgfSxcclxuICAgIHJlc2V0OiAoKSA9PiB7IH0sXHJcbn0pO1xyXG5mdW5jdGlvbiBMaW5rYWJsZVNlY3Rpb24oeyBvbkFjdGl2YXRpb24sIG9uUmVzZXQsIGNoaWxkcmVuLCB9KSB7XHJcbiAgICBjb25zdCBbYWN0aXZhdGVkSWQsIHNldEFjdGl2YXRlZElkXSA9IFJlYWN0LnVzZVN0YXRlKHVuZGVmaW5lZCk7XHJcbiAgICBjb25zdCBhY3RpdmF0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKHggPT4ge1xyXG4gICAgICAgIHNldEFjdGl2YXRlZElkKHguaWQpO1xyXG4gICAgICAgIG9uQWN0aXZhdGlvbih4KTtcclxuICAgIH0sIFtvbkFjdGl2YXRpb25dKTtcclxuICAgIGNvbnN0IHJlc2V0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIHNldEFjdGl2YXRlZElkKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgb25SZXNldCgpO1xyXG4gICAgfSwgW29uUmVzZXRdKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaW5rYWJsZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHtcclxuICAgICAgICAgICAgYWN0aXZhdGUsXHJcbiAgICAgICAgICAgIHJlc2V0LFxyXG4gICAgICAgICAgICBhY3RpdmF0ZWRJZCxcclxuICAgICAgICB9IH0sIGNoaWxkcmVuKSk7XHJcbn1cblxuZnVuY3Rpb24gQmFjaygpIHtcclxuICAgIGNvbnN0IGMgPSB1c2VDbGFzc2VyKFwiY2gtYnJvd3NlclwiKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IGZpbGw6IFwiY3VycmVudENvbG9yXCIsIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiLCBoZWlnaHQ6IFwiMWVtXCIsIHZpZXdCb3g6IFwiMTMgMTAgMTQgMjNcIiwgY2xhc3NOYW1lOiBjKFwiYnV0dG9uXCIsIFwiYmFjay1idXR0b25cIikgfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCBudWxsLFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwibTI2LjUgMTIuMXEwIDAuMy0wLjIgMC42bC04LjggOC43IDguOCA4LjhxMC4yIDAuMiAwLjIgMC41dC0wLjIgMC41bC0xLjEgMS4xcS0wLjMgMC4zLTAuNiAwLjN0LTAuNS0wLjNsLTEwLjQtMTAuNHEtMC4yLTAuMi0wLjItMC41dDAuMi0wLjVsMTAuNC0xMC40cTAuMy0wLjIgMC41LTAuMnQwLjYgMC4ybDEuMSAxLjFxMC4yIDAuMiAwLjIgMC41elwiIH0pKSkpO1xyXG59XHJcbmZ1bmN0aW9uIEZvcndhcmQoKSB7XHJcbiAgICBjb25zdCBjID0gdXNlQ2xhc3NlcihcImNoLWJyb3dzZXJcIik7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIiwgaGVpZ2h0OiBcIjFlbVwiLCB2aWV3Qm94OiBcIjEzIDEwIDE0IDIzXCIsIGNsYXNzTmFtZTogYyhcImJ1dHRvblwiLCBcImZvcndhcmQtYnV0dG9uXCIpIH0sXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwgbnVsbCxcclxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIm0yNi4zIDIxLjRxMCAwLjMtMC4yIDAuNWwtMTAuNCAxMC40cS0wLjMgMC4zLTAuNiAwLjN0LTAuNS0wLjNsLTEuMS0xLjFxLTAuMi0wLjItMC4yLTAuNXQwLjItMC41bDguOC04LjgtOC44LTguN3EtMC4yLTAuMy0wLjItMC42dDAuMi0wLjVsMS4xLTEuMXEwLjMtMC4yIDAuNS0wLjJ0MC42IDAuMmwxMC40IDEwLjRxMC4yIDAuMiAwLjIgMC41elwiIH0pKSkpO1xyXG59XHJcbmZ1bmN0aW9uIE9wZW4oeyBocmVmLCBzdHlsZSwgfSkge1xyXG4gICAgY29uc3QgYyA9IHVzZUNsYXNzZXIoXCJjaC1icm93c2VyXCIpO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7IGNsYXNzTmFtZTogYyhcImJ1dHRvblwiLCBcIm9wZW4tYnV0dG9uXCIpLCB0aXRsZTogXCJPcGVuIGluIG5ldyB0YWJcIiwgaHJlZjogaHJlZiwgc3R5bGU6IHN0eWxlLCB0YXJnZXQ6IFwiX2JsYW5rXCIsIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIgfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogXCIwXCIsIHZpZXdCb3g6IFwiMyAzIDE4IDE4XCIsIGhlaWdodDogXCIxZW1cIiwgd2lkdGg6IFwiMWVtXCIsIGNsYXNzTmFtZTogYyhcIm9wZW4taWNvblwiKSwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB9LFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE5IDE5SDVWNWg3VjNINWMtMS4xMSAwLTIgLjktMiAydjE0YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0ydi03aC0ydjd6TTE0IDN2MmgzLjU5bC05LjgzIDkuODMgMS40MSAxLjQxTDE5IDYuNDFWMTBoMlYzaC03elwiIH0pKSkpO1xyXG59XG5cbmZ1bmN0aW9uIFRpdGxlQmFyKHsgdXJsLCBsaW5rVXJsLCB0aGVtZSwgfSkge1xyXG4gICAgY29uc3QgaW5wdXRCb3JkZXIgPSBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLklucHV0Qm9yZGVyKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZyYW1lQnV0dG9ucywgbnVsbCksXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCYWNrLCBudWxsKSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEZvcndhcmQsIG51bGwpLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHZhbHVlOiB1cmwgfHwgXCJcIiwgcmVhZE9ubHk6IHRydWUsIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLklucHV0QmFja2dyb3VuZCksXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5JbnB1dEZvcmVncm91bmQpLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiBpbnB1dEJvcmRlclxyXG4gICAgICAgICAgICAgICAgICAgID8gYDFweCBzb2xpZCAke2lucHV0Qm9yZGVyfWBcclxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgfSB9KSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KE9wZW4sIHsgaHJlZjogbGlua1VybCwgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLkVkaXRvckZvcmVncm91bmQpLFxyXG4gICAgICAgICAgICB9IH0pKSk7XHJcbn1cblxuZnVuY3Rpb24gdXNlU3RlcHMkMShzdGVwcykge1xyXG4gICAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xyXG4gICAgICAgIGlmICghc3RlcHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt7IHpvb206IDEgfV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdGVwcy5tYXAoc3RlcCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgZGlzcGxheVVybCwgbG9hZFVybCB9ID0gdHJhbnNmb3JtVXJsKHN0ZXAudXJsLCBzdGVwLmxvYWRVcmwsIHN0ZXAucHJlcGVuZE9yaWdpbik7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB6b29tOiBzdGVwLnpvb20gfHwgMSxcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlVcmwsXHJcbiAgICAgICAgICAgICAgICBsb2FkVXJsLFxyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IHN0ZXAuY2hpbGRyZW4sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbc3RlcHNdKTtcclxufVxyXG5mdW5jdGlvbiB0cmFuc2Zvcm1VcmwodXJsLCBsb2FkVXJsLCBwcmVwZW5kT3JpZ2luKSB7XHJcbiAgICBjb25zdCBjdXJyZW50T3JpZ2luID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5vcmlnaW4gOiBcIlwiO1xyXG4gICAgY29uc3QgZGlzcGxheVVybCA9IHVybCAmJiBwcmVwZW5kT3JpZ2luID09PSB0cnVlXHJcbiAgICAgICAgPyBjdXJyZW50T3JpZ2luICsgdXJsXHJcbiAgICAgICAgOiB1cmw7XHJcbiAgICByZXR1cm4geyBkaXNwbGF5VXJsLCBsb2FkVXJsOiBsb2FkVXJsIHx8IGRpc3BsYXlVcmwgfTtcclxufVxuXG5jb25zdCBNaW5pQnJvd3Nlckhpa2UgPSBSZWFjdC5mb3J3YXJkUmVmKE1pbmlCcm93c2VyV2l0aFJlZik7XHJcbmZ1bmN0aW9uIE1pbmlCcm93c2VyV2l0aFJlZihfYSwgcmVmKSB7XHJcbiAgICB2YXIgeyBwcm9ncmVzcyA9IDAsIGJhY2t3YXJkID0gZmFsc2UsIHN0ZXBzOiBvZ1N0ZXBzLCB0cmFuc2l0aW9uID0gXCJub25lXCIsIGNsYXNzZXMsIHRoZW1lIH0gPSBfYSwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcInByb2dyZXNzXCIsIFwiYmFja3dhcmRcIiwgXCJzdGVwc1wiLCBcInRyYW5zaXRpb25cIiwgXCJjbGFzc2VzXCIsIFwidGhlbWVcIl0pO1xyXG4gICAgY29uc3QgYyA9IHVzZUNsYXNzZXIoXCJjaC1taW5pLWJyb3dzZXJcIiwgY2xhc3Nlcyk7XHJcbiAgICBjb25zdCBzdGVwcyA9IHVzZVN0ZXBzJDEob2dTdGVwcyk7XHJcbiAgICBjb25zdCBzdGVwSW5kZXggPSBNYXRoLnJvdW5kKHByb2dyZXNzKTtcclxuICAgIGNvbnN0IHsgem9vbSwgZGlzcGxheVVybCwgbG9hZFVybCwgY2hpbGRyZW4gfSA9IHN0ZXBzW3N0ZXBJbmRleF07XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWluaUZyYW1lLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgeyB6b29tOiB6b29tLCBjbGFzc05hbWU6IGAke2MoXCJcIil9ICR7cHJvcHMuY2xhc3NOYW1lIHx8IFwiXCJ9YCwgc3R5bGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdHJhbnNpdGlvblN0eWxlKHsgcHJvZ3Jlc3MsIHRyYW5zaXRpb24gfSkpLCBwcm9wcy5zdHlsZSksIGNsYXNzZXM6IGNsYXNzZXMsIHRpdGxlQmFyOiBSZWFjdC5jcmVhdGVFbGVtZW50KFRpdGxlQmFyLCB7IHVybDogZGlzcGxheVVybCwgbGlua1VybDogbG9hZFVybCwgdGhlbWU6IHRoZW1lIH0pLCB0aGVtZTogdGhlbWUgfSksIGNoaWxkcmVuIHx8IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiwgeyByZWY6IHJlZiwgc3JjOiBsb2FkVXJsIH0pKSk7XHJcbn1cclxuZnVuY3Rpb24gdHJhbnNpdGlvblN0eWxlKHsgcHJvZ3Jlc3MsIHRyYW5zaXRpb24sIH0pIHtcclxuICAgIGlmICh0cmFuc2l0aW9uID09PSBcInNsaWRlXCIpIHtcclxuICAgICAgICBjb25zdCBYID0gNTA7XHJcbiAgICAgICAgY29uc3QgdCA9IHByb2dyZXNzIC0gTWF0aC5mbG9vcihwcm9ncmVzcyk7XHJcbiAgICAgICAgY29uc3QgeCA9IHQgPD0gMC41ID8gLVggKiB0IDogWCAtIFggKiB0O1xyXG4gICAgICAgIGNvbnN0IG8gPSBNYXRoLmFicyh0IC0gMC41KSAqIDI7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgke3h9cHgpYCxcclxuICAgICAgICAgICAgb3BhY2l0eTogbyAqIG8sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7fTtcclxufVxuXG5mdW5jdGlvbiBNaW5pQnJvd3NlcihfYSkge1xyXG4gICAgdmFyIHsgdXJsLCBsb2FkVXJsLCBwcmVwZW5kT3JpZ2luLCBjaGlsZHJlbiwgem9vbSB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcInVybFwiLCBcImxvYWRVcmxcIiwgXCJwcmVwZW5kT3JpZ2luXCIsIFwiY2hpbGRyZW5cIiwgXCJ6b29tXCJdKTtcclxuICAgIGNvbnN0IFtzdGVwcywgcHJvZ3Jlc3NdID0gdXNlU3RlcHMoe1xyXG4gICAgICAgIHVybCxcclxuICAgICAgICBsb2FkVXJsLFxyXG4gICAgICAgIHByZXBlbmRPcmlnaW4sXHJcbiAgICAgICAgY2hpbGRyZW4sXHJcbiAgICAgICAgem9vbSxcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KE1pbmlCcm93c2VySGlrZSwgT2JqZWN0LmFzc2lnbih7fSwgcmVzdCwgeyBzdGVwczogc3RlcHMsIHByb2dyZXNzOiBwcm9ncmVzcyB9KSkpO1xyXG59XHJcbmZ1bmN0aW9uIHVzZVN0ZXBzKHsgdXJsLCBsb2FkVXJsLCBwcmVwZW5kT3JpZ2luLCBjaGlsZHJlbiwgem9vbSwgfSkge1xyXG4gICAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZSh7XHJcbiAgICAgICAgdGFyZ2V0OiAwLFxyXG4gICAgICAgIHN0ZXBzOiBbXHJcbiAgICAgICAgICAgIHsgdXJsLCBsb2FkVXJsLCBwcmVwZW5kT3JpZ2luLCBjaGlsZHJlbiwgem9vbSB9LFxyXG4gICAgICAgIF0sXHJcbiAgICB9KTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGFzdCA9IHN0YXRlLnN0ZXBzW3N0YXRlLnN0ZXBzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGlmIChsYXN0LnVybCAhPT0gdXJsIHx8XHJcbiAgICAgICAgICAgIGxhc3QubG9hZFVybCAhPT0gbG9hZFVybCB8fFxyXG4gICAgICAgICAgICBsYXN0LnByZXBlbmRPcmlnaW4gIT09IHByZXBlbmRPcmlnaW4gfHxcclxuICAgICAgICAgICAgbGFzdC5jaGlsZHJlbiAhPT0gY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgc2V0U3RhdGUocyA9PiAoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBzLnRhcmdldCArIDEsXHJcbiAgICAgICAgICAgICAgICBzdGVwczogW1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnMuc3RlcHMsXHJcbiAgICAgICAgICAgICAgICAgICAgeyB1cmwsIGxvYWRVcmwsIHByZXBlbmRPcmlnaW4sIGNoaWxkcmVuLCB6b29tIH0sXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW3VybCwgbG9hZFVybCwgcHJlcGVuZE9yaWdpbiwgY2hpbGRyZW4sIHpvb21dKTtcclxuICAgIGNvbnN0IFtwcm9ncmVzc10gPSB1c2VTcHJpbmcoc3RhdGUudGFyZ2V0LCB7XHJcbiAgICAgICAgc3RpZmZuZXNzOiAxMDAsXHJcbiAgICAgICAgZGVjaW1hbHM6IDMsXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBbc3RhdGUuc3RlcHMsIHByb2dyZXNzXTtcclxufVxuXG52YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxudmFyIHRlbXBsYXRlcyA9IHt9O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkodGVtcGxhdGVzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGdldE1haW5GaWxlKHRlbXBsYXRlKSB7XG4gICAgaWYgKHRlbXBsYXRlID09PSBcInZ1ZS1jbGlcIikge1xuICAgICAgICByZXR1cm4gXCJzcmMvbWFpbi5qc1wiO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgPT09IFwiYW5ndWxhci1jbGlcIikge1xuICAgICAgICByZXR1cm4gXCJzcmMvbWFpbi50c1wiO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgPT09IFwiY3JlYXRlLXJlYWN0LWFwcC10eXBlc2NyaXB0XCIpIHtcbiAgICAgICAgcmV0dXJuIFwic3JjL2luZGV4LnRzeFwiO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgPT09IFwicGFyY2VsXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiaW5kZXguaHRtbFwiO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgPT09IFwiZ2F0c2J5XCIpIHtcbiAgICAgICAgcmV0dXJuIFwic3JjL3BhZ2VzL2luZGV4LmpzXCI7XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZSA9PT0gXCJudXh0XCIpIHtcbiAgICAgICAgLy8gV2lsZGNhcmQsIGJlY2F1c2UgbnV4dCBpcyBub3Qgc3BlY2lmaWMgb24gdGhpc1xuICAgICAgICByZXR1cm4gXCJwYWNrYWdlLmpzb25cIjtcbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBXaWxkY2FyZCwgYmVjYXVzZSBuZXh0IGlzIG5vdCBzcGVjaWZpYyBvbiB0aGlzXG4gICAgICAgIHJldHVybiBcInBhY2thZ2UuanNvblwiO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgPT09IFwiYXBvbGxvXCIpIHtcbiAgICAgICAgLy8gV2lsZGNhcmQsIGJlY2F1c2UgYXBvbGxvIGlzIG5vdCBzcGVjaWZpYyBvbiB0aGlzXG4gICAgICAgIHJldHVybiBcInBhY2thZ2UuanNvblwiO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgPT09IFwicmVhc29uXCIpIHtcbiAgICAgICAgLy8gV2lsZGNhcmQsIGJlY2F1c2UgcmVhc29uIGlzIG5vdCBzcGVjaWZpYyBvbiB0aGlzXG4gICAgICAgIHJldHVybiBcInBhY2thZ2UuanNvblwiO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgPT09IFwic2FwcGVyXCIpIHtcbiAgICAgICAgLy8gV2lsZGNhcmQsIGJlY2F1c2Ugc2FwcGVyIGlzIG5vdCBzcGVjaWZpYyBvbiB0aGlzXG4gICAgICAgIHJldHVybiBcInBhY2thZ2UuanNvblwiO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgPT09IFwibmVzdFwiKSB7XG4gICAgICAgIHJldHVybiBcInNyYy9tYWluLnRzXCI7XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZSA9PT0gXCJzdGF0aWNcIikge1xuICAgICAgICByZXR1cm4gXCJpbmRleC5odG1sXCI7XG4gICAgfVxuICAgIHJldHVybiBcInNyYy9pbmRleC5qc1wiO1xufVxudGVtcGxhdGVzLmdldE1haW5GaWxlID0gZ2V0TWFpbkZpbGU7XG52YXIgU0FOREJPWF9DT05GSUcgPSBcInNhbmRib3guY29uZmlnLmpzb25cIjtcbmZ1bmN0aW9uIGdldFRlbXBsYXRlKHBhY2thZ2VKU09OUGFja2FnZSwgbW9kdWxlcykge1xuICAgIHZhciBzYW5kYm94Q29uZmlnID0gbW9kdWxlc1tTQU5EQk9YX0NPTkZJR10gfHwgbW9kdWxlc1tcIi9cIiArIFNBTkRCT1hfQ09ORklHXTtcbiAgICBpZiAoc2FuZGJveENvbmZpZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGNvbmZpZyA9IEpTT04ucGFyc2Uoc2FuZGJveENvbmZpZy5jb250ZW50KTtcbiAgICAgICAgICAgIGlmIChjb25maWcudGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnLnRlbXBsYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICB9XG4gICAgdmFyIF9hID0gcGFja2FnZUpTT05QYWNrYWdlLmRlcGVuZGVuY2llcywgZGVwZW5kZW5jaWVzID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIF9iID0gcGFja2FnZUpTT05QYWNrYWdlLmRldkRlcGVuZGVuY2llcywgZGV2RGVwZW5kZW5jaWVzID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2I7XG4gICAgdmFyIHRvdGFsRGVwZW5kZW5jaWVzID0gT2JqZWN0LmtleXMoZGVwZW5kZW5jaWVzKS5jb25jYXQoT2JqZWN0LmtleXMoZGV2RGVwZW5kZW5jaWVzKSk7XG4gICAgdmFyIG51eHQgPSBbXCJudXh0XCIsIFwibnV4dC1lZGdlXCJdO1xuICAgIGlmICh0b3RhbERlcGVuZGVuY2llcy5zb21lKGZ1bmN0aW9uIChkZXApIHsgcmV0dXJuIG51eHQuaW5kZXhPZihkZXApID4gLTE7IH0pKSB7XG4gICAgICAgIHJldHVybiBcIm51eHRcIjtcbiAgICB9XG4gICAgaWYgKHRvdGFsRGVwZW5kZW5jaWVzLmluZGV4T2YoXCJuZXh0XCIpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIFwibmV4dFwiO1xuICAgIH1cbiAgICB2YXIgYXBvbGxvID0gW1xuICAgICAgICBcImFwb2xsby1zZXJ2ZXJcIixcbiAgICAgICAgXCJhcG9sbG8tc2VydmVyLWV4cHJlc3NcIixcbiAgICAgICAgXCJhcG9sbG8tc2VydmVyLWhhcGlcIixcbiAgICAgICAgXCJhcG9sbG8tc2VydmVyLWtvYVwiLFxuICAgICAgICBcImFwb2xsby1zZXJ2ZXItbGFtYmRhXCIsXG4gICAgICAgIFwiYXBvbGxvLXNlcnZlci1taWNyb1wiXG4gICAgXTtcbiAgICBpZiAodG90YWxEZXBlbmRlbmNpZXMuc29tZShmdW5jdGlvbiAoZGVwKSB7IHJldHVybiBhcG9sbG8uaW5kZXhPZihkZXApID4gLTE7IH0pKSB7XG4gICAgICAgIHJldHVybiBcImFwb2xsb1wiO1xuICAgIH1cbiAgICBpZiAodG90YWxEZXBlbmRlbmNpZXMuaW5kZXhPZihcImVtYmVyLWNsaVwiKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBcImVtYmVyXCI7XG4gICAgfVxuICAgIGlmICh0b3RhbERlcGVuZGVuY2llcy5pbmRleE9mKFwic2FwcGVyXCIpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIFwic2FwcGVyXCI7XG4gICAgfVxuICAgIHZhciBtb2R1bGVOYW1lcyA9IE9iamVjdC5rZXlzKG1vZHVsZXMpO1xuICAgIGlmIChtb2R1bGVOYW1lcy5zb21lKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLmVuZHNXaXRoKFwiLnZ1ZVwiKTsgfSkpIHtcbiAgICAgICAgcmV0dXJuIFwidnVlLWNsaVwiO1xuICAgIH1cbiAgICBpZiAobW9kdWxlTmFtZXMuc29tZShmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5lbmRzV2l0aChcIi5yZVwiKTsgfSkpIHtcbiAgICAgICAgcmV0dXJuIFwicmVhc29uXCI7XG4gICAgfVxuICAgIGlmICh0b3RhbERlcGVuZGVuY2llcy5pbmRleE9mKFwiZ2F0c2J5XCIpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIFwiZ2F0c2J5XCI7XG4gICAgfVxuICAgIGlmICh0b3RhbERlcGVuZGVuY2llcy5pbmRleE9mKFwicGFyY2VsLWJ1bmRsZXJcIikgPiAtMSkge1xuICAgICAgICByZXR1cm4gXCJwYXJjZWxcIjtcbiAgICB9XG4gICAgaWYgKHRvdGFsRGVwZW5kZW5jaWVzLmluZGV4T2YoXCJyZWFjdC1zY3JpcHRzXCIpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIFwiY3JlYXRlLXJlYWN0LWFwcFwiO1xuICAgIH1cbiAgICBpZiAodG90YWxEZXBlbmRlbmNpZXMuaW5kZXhPZihcInJlYWN0LXNjcmlwdHMtdHNcIikgPiAtMSkge1xuICAgICAgICByZXR1cm4gXCJjcmVhdGUtcmVhY3QtYXBwLXR5cGVzY3JpcHRcIjtcbiAgICB9XG4gICAgaWYgKHRvdGFsRGVwZW5kZW5jaWVzLmluZGV4T2YoXCJAYW5ndWxhci9jb3JlXCIpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIFwiYW5ndWxhci1jbGlcIjtcbiAgICB9XG4gICAgaWYgKHRvdGFsRGVwZW5kZW5jaWVzLmluZGV4T2YoXCJwcmVhY3QtY2xpXCIpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIFwicHJlYWN0LWNsaVwiO1xuICAgIH1cbiAgICBpZiAodG90YWxEZXBlbmRlbmNpZXMuaW5kZXhPZihcInN2ZWx0ZVwiKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBcInN2ZWx0ZVwiO1xuICAgIH1cbiAgICBpZiAodG90YWxEZXBlbmRlbmNpZXMuaW5kZXhPZihcInZ1ZVwiKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBcInZ1ZS1jbGlcIjtcbiAgICB9XG4gICAgdmFyIGRvam8gPSBbXCJAZG9qby9jb3JlXCIsIFwiQGRvam8vZnJhbWV3b3JrXCJdO1xuICAgIGlmICh0b3RhbERlcGVuZGVuY2llcy5zb21lKGZ1bmN0aW9uIChkZXApIHsgcmV0dXJuIGRvam8uaW5kZXhPZihkZXApID4gLTE7IH0pKSB7XG4gICAgICAgIHJldHVybiBcIkBkb2pvL2NsaS1jcmVhdGUtYXBwXCI7XG4gICAgfVxuICAgIGlmICh0b3RhbERlcGVuZGVuY2llcy5pbmRleE9mKFwiY3hcIikgPiAtMSkge1xuICAgICAgICByZXR1cm4gXCJjeGpzXCI7XG4gICAgfVxuICAgIGlmICh0b3RhbERlcGVuZGVuY2llcy5pbmRleE9mKFwiQG5lc3Rqcy9jb3JlXCIpID4gLTEgfHxcbiAgICAgICAgdG90YWxEZXBlbmRlbmNpZXMuaW5kZXhPZihcIkBuZXN0anMvY29tbW9uXCIpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIFwibmVzdFwiO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxudmFyIGdldFRlbXBsYXRlXzEgPSB0ZW1wbGF0ZXMuZ2V0VGVtcGxhdGUgPSBnZXRUZW1wbGF0ZTtcblxudmFyIGxvZGFzaF9pc2VxdWFsID0ge2V4cG9ydHM6IHt9fTtcblxuLyoqXG4gKiBMb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanMuZm91bmRhdGlvbi8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG52YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG52YXIgdHlwZWRBcnJheVRhZ3MgPSB7fTtcbnR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbaW50MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDhUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xudHlwZWRBcnJheVRhZ3NbYXJnc1RhZ10gPSB0eXBlZEFycmF5VGFnc1thcnJheVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxudHlwZWRBcnJheVRhZ3NbZXJyb3JUYWddID0gdHlwZWRBcnJheVRhZ3NbZnVuY1RhZ10gPVxudHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxudHlwZWRBcnJheVRhZ3Nbc2V0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3N0cmluZ1RhZ10gPVxudHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGNvbW1vbmpzR2xvYmFsID09ICdvYmplY3QnICYmIGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGNvbW1vbmpzR2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgJ29iamVjdCcgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbi8qKiBVc2VkIHRvIGFjY2VzcyBmYXN0ZXIgTm9kZS5qcyBoZWxwZXJzLiAqL1xudmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG52YXIgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gKi9cbmZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIFN5bWJvbCA9IHJvb3QuU3ltYm9sLFxuICAgIFVpbnQ4QXJyYXkgPSByb290LlVpbnQ4QXJyYXksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUocm9vdCwgJ0RhdGFWaWV3JyksXG4gICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBQcm9taXNlID0gZ2V0TmF0aXZlKHJvb3QsICdQcm9taXNlJyksXG4gICAgU2V0ID0gZ2V0TmF0aXZlKHJvb3QsICdTZXQnKSxcbiAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xudmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGFkZFxuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAYWxpYXMgcHVzaFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cblNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gIH1cbiAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICB9XG4gIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzU2FtZVRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICogQHBhcmFtIHtBcnJheX0gb3RoZXIgVGhlIG90aGVyIGFycmF5IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgfVxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICBzZWVuID0gKGJpdG1hc2sgJiBDT01QQVJFX1VOT1JERVJFRF9GTEFHKSA/IG5ldyBTZXRDYWNoZSA6IHVuZGVmaW5lZDtcblxuICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgLy8gSWdub3JlIG5vbi1pbmRleCBwcm9wZXJ0aWVzLlxuICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltpbmRleF07XG5cbiAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgYXJyVmFsdWUsIGluZGV4LCBvdGhlciwgYXJyYXksIHN0YWNrKVxuICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIGlmIChjb21wYXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmIChzZWVuKSB7XG4gICAgICBpZiAoIWFycmF5U29tZShvdGhlciwgZnVuY3Rpb24ob3RoVmFsdWUsIG90aEluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICByZXR1cm4gc2Vlbi5wdXNoKG90aEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSkge1xuICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghKFxuICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICkpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gIHN3aXRjaCAodGFnKSB7XG4gICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAob2JqZWN0LmJ5dGVPZmZzZXQgIT0gb3RoZXIuYnl0ZU9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gb2JqZWN0LmJ1ZmZlcjtcbiAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlIGJvb2xUYWc6XG4gICAgY2FzZSBkYXRlVGFnOlxuICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgIC8vIEludmFsaWQgZGF0ZXMgYXJlIGNvZXJjZWQgdG8gYE5hTmAuXG4gICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICByZXR1cm4gb2JqZWN0Lm5hbWUgPT0gb3RoZXIubmFtZSAmJiBvYmplY3QubWVzc2FnZSA9PSBvdGhlci5tZXNzYWdlO1xuXG4gICAgY2FzZSByZWdleHBUYWc6XG4gICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAvLyBDb2VyY2UgcmVnZXhlcyB0byBzdHJpbmdzIGFuZCB0cmVhdCBzdHJpbmdzLCBwcmltaXRpdmVzIGFuZCBvYmplY3RzLFxuICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QgPT0gKG90aGVyICsgJycpO1xuXG4gICAgY2FzZSBtYXBUYWc6XG4gICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICBjYXNlIHNldFRhZzpcbiAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgIGlmIChvYmplY3Quc2l6ZSAhPSBvdGhlci5zaXplICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkID09IG90aGVyO1xuICAgICAgfVxuICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgaWYgKHN5bWJvbFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgb2JqUHJvcHMgPSBnZXRBbGxLZXlzKG9iamVjdCksXG4gICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgb3RoTGVuZ3RoID0gb3RoUHJvcHMubGVuZ3RoO1xuXG4gIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICB3aGlsZSAoaW5kZXgtLSkge1xuICAgIHZhciBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICBpZiAoc3RhY2tlZCAmJiBzdGFjay5nZXQob3RoZXIpKSB7XG4gICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHRydWU7XG4gIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgfVxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgKSkge1xuICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICB9XG4gIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xudmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbi8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbmlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3NcbiAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMy4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAqIGVxdWl2YWxlbnQuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHN1cHBvcnRzIGNvbXBhcmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLFxuICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAqIGJ5IHRoZWlyIG93biwgbm90IGluaGVyaXRlZCwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLiBGdW5jdGlvbnMgYW5kIERPTVxuICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5pc0VxdWFsKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIG9iamVjdCA9PT0gb3RoZXI7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0VxdWFsKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMTMuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzKTtcbiAqIC8vID0+IFtbXSwgW11dXG4gKlxuICogY29uc29sZS5sb2coYXJyYXlzWzBdID09PSBhcnJheXNbMV0pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gc3R1YkFycmF5KCkge1xuICByZXR1cm4gW107XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0VxdWFsO1xufShsb2Rhc2hfaXNlcXVhbCwgbG9kYXNoX2lzZXF1YWwuZXhwb3J0cykpO1xuXG52YXIgaXNFcXVhbCA9IGxvZGFzaF9pc2VxdWFsLmV4cG9ydHM7XG5cbi8vIHNyYy9jbGllbnQudHNcblxuLy8gc3JjL2ZpbGUtcmVzb2x2ZXItcHJvdG9jb2wudHNcbnZhciBnZW5lcmF0ZUlkID0gKCkgPT4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMWU2ICsgTWF0aC5yYW5kb20oKSAqIDFlNik7XG52YXIgZ2V0Q29uc3RydWN0b3JOYW1lID0gKHgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4geC5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn07XG52YXIgUHJvdG9jb2wgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGhhbmRsZU1lc3NhZ2UsIHRhcmdldCkge1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5oYW5kbGVNZXNzYWdlID0gaGFuZGxlTWVzc2FnZTtcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICB0aGlzLm91dGdvaW5nTWVzc2FnZXMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5fbWVzc2FnZUxpc3RlbmVyID0gYXN5bmMgKGUpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gZTtcbiAgICAgIGlmIChkYXRhLiR0eXBlICE9PSB0aGlzLmdldFR5cGVJZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm91dGdvaW5nTWVzc2FnZXMuaGFzKGRhdGEuJGlkKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgcmV0dXJuTWVzc2FnZSA9IHtcbiAgICAgICAgJG9yaWdpbklkOiB0aGlzLmludGVybmFsSWQsXG4gICAgICAgICR0eXBlOiB0aGlzLmdldFR5cGVJZCgpLFxuICAgICAgICAkaWQ6IGRhdGEuJGlkXG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5oYW5kbGVNZXNzYWdlKGRhdGEuJGRhdGEpO1xuICAgICAgICByZXR1cm5NZXNzYWdlLiRkYXRhID0gcmVzdWx0O1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghZXJyLm1lc3NhZ2UpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuTWVzc2FnZS4kZXJyb3IgPSB7IG1lc3NhZ2U6IChfYSA9IGVyci5tZXNzYWdlKSAhPSBudWxsID8gX2EgOiBcIlVua25vd24gZXJyb3JcIiB9O1xuICAgICAgfVxuICAgICAgaWYgKGUuc291cmNlKSB7XG4gICAgICAgIGUuc291cmNlLnBvc3RNZXNzYWdlKHJldHVybk1lc3NhZ2UsIFwiKlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Bvc3RNZXNzYWdlKHJldHVybk1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jcmVhdGVDb25uZWN0aW9uKCk7XG4gICAgdGhpcy5pbnRlcm5hbElkID0gZ2VuZXJhdGVJZCgpO1xuICAgIHRoaXMuaXNXb3JrZXIgPSBnZXRDb25zdHJ1Y3Rvck5hbWUodGFyZ2V0KSA9PT0gXCJXb3JrZXJcIjtcbiAgfVxuICBnZXRUeXBlSWQoKSB7XG4gICAgcmV0dXJuIGBwLSR7dGhpcy50eXBlfWA7XG4gIH1cbiAgY3JlYXRlQ29ubmVjdGlvbigpIHtcbiAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuX21lc3NhZ2VMaXN0ZW5lcik7XG4gIH1cbiAgZGlzcG9zZSgpIHtcbiAgICBzZWxmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuX21lc3NhZ2VMaXN0ZW5lcik7XG4gIH1cbiAgc2VuZE1lc3NhZ2UoZGF0YSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZUlkID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgJG9yaWdpbklkOiB0aGlzLmludGVybmFsSWQsXG4gICAgICAgICR0eXBlOiB0aGlzLmdldFR5cGVJZCgpLFxuICAgICAgICAkZGF0YTogZGF0YSxcbiAgICAgICAgJGlkOiBtZXNzYWdlSWRcbiAgICAgIH07XG4gICAgICB0aGlzLm91dGdvaW5nTWVzc2FnZXMuYWRkKG1lc3NhZ2VJZCk7XG4gICAgICBjb25zdCBsaXN0ZW5GdW5jdGlvbiA9IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogZGF0YTIgfSA9IGU7XG4gICAgICAgIGlmIChkYXRhMi4kdHlwZSA9PT0gdGhpcy5nZXRUeXBlSWQoKSAmJiBkYXRhMi4kaWQgPT09IG1lc3NhZ2VJZCAmJiBkYXRhMi4kb3JpZ2luSWQgIT09IHRoaXMuaW50ZXJuYWxJZCkge1xuICAgICAgICAgIHJlc29sdmUoZGF0YTIuJGRhdGEpO1xuICAgICAgICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgbGlzdGVuRnVuY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBsaXN0ZW5GdW5jdGlvbik7XG4gICAgICB0aGlzLl9wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICB9KTtcbiAgfVxuICBfcG9zdE1lc3NhZ2UobSkge1xuICAgIGlmICh0aGlzLmlzV29ya2VyIHx8IHR5cGVvZiBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0aGlzLnRhcmdldCBpbnN0YW5jZW9mIERlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlKSB7XG4gICAgICB0aGlzLnRhcmdldC5wb3N0TWVzc2FnZShtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50YXJnZXQucG9zdE1lc3NhZ2UobSwgXCIqXCIpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL2lmcmFtZS1wcm90b2NvbC50c1xudmFyIElGcmFtZVByb3RvY29sID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihpZnJhbWUsIG9yaWdpbikge1xuICAgIHRoaXMuZ2xvYmFsTGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5nbG9iYWxMaXN0ZW5lcnNDb3VudCA9IDA7XG4gICAgdGhpcy5jaGFubmVsTGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5jaGFubmVsTGlzdGVuZXJzQ291bnQgPSAwO1xuICAgIHRoaXMuY2hhbm5lbElkID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMWU2KTtcbiAgICB0aGlzLmZyYW1lV2luZG93ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3c7XG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgdGhpcy5nbG9iYWxMaXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLmNoYW5uZWxMaXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLmV2ZW50TGlzdGVuZXIgPSB0aGlzLmV2ZW50TGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuZXZlbnRMaXN0ZW5lcik7XG4gICAgfVxuICB9XG4gIGNsZWFudXAoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuZXZlbnRMaXN0ZW5lcik7XG4gICAgdGhpcy5nbG9iYWxMaXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLmNoYW5uZWxMaXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLmdsb2JhbExpc3RlbmVyc0NvdW50ID0gMDtcbiAgICB0aGlzLmNoYW5uZWxMaXN0ZW5lcnNDb3VudCA9IDA7XG4gIH1cbiAgcmVnaXN0ZXIoKSB7XG4gICAgaWYgKCF0aGlzLmZyYW1lV2luZG93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZnJhbWVXaW5kb3cucG9zdE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJyZWdpc3Rlci1mcmFtZVwiLFxuICAgICAgb3JpZ2luOiBkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW4sXG4gICAgICBpZDogdGhpcy5jaGFubmVsSWRcbiAgICB9LCB0aGlzLm9yaWdpbik7XG4gIH1cbiAgZGlzcGF0Y2gobWVzc2FnZSkge1xuICAgIGlmICghdGhpcy5mcmFtZVdpbmRvdykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZyYW1lV2luZG93LnBvc3RNZXNzYWdlKHtcbiAgICAgICRpZDogdGhpcy5jaGFubmVsSWQsXG4gICAgICBjb2Rlc2FuZGJveDogdHJ1ZSxcbiAgICAgIC4uLm1lc3NhZ2VcbiAgICB9LCB0aGlzLm9yaWdpbik7XG4gIH1cbiAgZ2xvYmFsTGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZXR1cm47XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBsaXN0ZW5lcklkID0gdGhpcy5nbG9iYWxMaXN0ZW5lcnNDb3VudDtcbiAgICB0aGlzLmdsb2JhbExpc3RlbmVyc1tsaXN0ZW5lcklkXSA9IGxpc3RlbmVyO1xuICAgIHRoaXMuZ2xvYmFsTGlzdGVuZXJzQ291bnQrKztcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGVsZXRlIHRoaXMuZ2xvYmFsTGlzdGVuZXJzW2xpc3RlbmVySWRdO1xuICAgIH07XG4gIH1cbiAgY2hhbm5lbExpc3RlbihsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgbGlzdGVuZXJJZCA9IHRoaXMuY2hhbm5lbExpc3RlbmVyc0NvdW50O1xuICAgIHRoaXMuY2hhbm5lbExpc3RlbmVyc1tsaXN0ZW5lcklkXSA9IGxpc3RlbmVyO1xuICAgIHRoaXMuY2hhbm5lbExpc3RlbmVyc0NvdW50Kys7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRlbGV0ZSB0aGlzLmNoYW5uZWxMaXN0ZW5lcnNbbGlzdGVuZXJJZF07XG4gICAgfTtcbiAgfVxuICBldmVudExpc3RlbmVyKGV2dCkge1xuICAgIGlmIChldnQuc291cmNlICE9PSB0aGlzLmZyYW1lV2luZG93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2UgPSBldnQuZGF0YTtcbiAgICBpZiAoIW1lc3NhZ2UuY29kZXNhbmRib3gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LnZhbHVlcyh0aGlzLmdsb2JhbExpc3RlbmVycykuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKG1lc3NhZ2UpKTtcbiAgICBpZiAobWVzc2FnZS4kaWQgIT09IHRoaXMuY2hhbm5lbElkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC52YWx1ZXModGhpcy5jaGFubmVsTGlzdGVuZXJzKS5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIobWVzc2FnZSkpO1xuICB9XG59O1xuXG4vLyBzcmMvdXRpbHMudHNcbmZ1bmN0aW9uIGNyZWF0ZVBhY2thZ2VKU09OKGRlcGVuZGVuY2llcyA9IHt9LCBkZXZEZXBlbmRlbmNpZXMgPSB7fSwgZW50cnkgPSBcIi9pbmRleC5qc1wiKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgbmFtZTogXCJzYW5kcGFjay1wcm9qZWN0XCIsXG4gICAgbWFpbjogZW50cnksXG4gICAgZGVwZW5kZW5jaWVzLFxuICAgIGRldkRlcGVuZGVuY2llc1xuICB9LCBudWxsLCAyKTtcbn1cbmZ1bmN0aW9uIGFkZFBhY2thZ2VKU09OSWZOZWVkZWQoZmlsZXMsIGRlcGVuZGVuY2llcywgZGV2RGVwZW5kZW5jaWVzLCBlbnRyeSkge1xuICBjb25zdCBuZXdGaWxlcyA9IHsgLi4uZmlsZXMgfTtcbiAgaWYgKCFuZXdGaWxlc1tcIi9wYWNrYWdlLmpzb25cIl0pIHtcbiAgICBpZiAoIWRlcGVuZGVuY2llcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZGVwZW5kZW5jaWVzIHNwZWNpZmllZCwgcGxlYXNlIHNwZWNpZnkgZWl0aGVyIGEgcGFja2FnZS5qc29uIG9yIGRlcGVuZGVuY2llcy5cIik7XG4gICAgfVxuICAgIGlmICghZW50cnkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgJ2VudHJ5JyBwYXJhbWV0ZXIuIEVpdGhlciBzcGVjaWZ5IGFuIGVudHJ5IHBvaW50LCBvciBwYXNzIGluIGEgcGFja2FnZS5qc29uIHdpdGggdGhlICdtYWluJyBmaWVsZCBzZXQuXCIpO1xuICAgIH1cbiAgICBuZXdGaWxlc1tcIi9wYWNrYWdlLmpzb25cIl0gPSB7XG4gICAgICBjb2RlOiBjcmVhdGVQYWNrYWdlSlNPTihkZXBlbmRlbmNpZXMsIGRldkRlcGVuZGVuY2llcywgZW50cnkpXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbmV3RmlsZXM7XG59XG5mdW5jdGlvbiBleHRyYWN0RXJyb3JEZXRhaWxzKG1zZykge1xuICBpZiAobXNnLnRpdGxlID09PSBcIlN5bnRheEVycm9yXCIpIHtcbiAgICBjb25zdCB7IHRpdGxlLCBwYXRoLCBtZXNzYWdlLCBsaW5lLCBjb2x1bW4gfSA9IG1zZztcbiAgICByZXR1cm4geyB0aXRsZSwgcGF0aCwgbWVzc2FnZSwgbGluZSwgY29sdW1uIH07XG4gIH1cbiAgY29uc3QgcmVsZXZhbnRTdGFja0ZyYW1lID0gZ2V0UmVsZXZhbnRTdGFja0ZyYW1lKG1zZy5wYXlsb2FkLmZyYW1lcyk7XG4gIGlmICghcmVsZXZhbnRTdGFja0ZyYW1lKSB7XG4gICAgcmV0dXJuIHsgbWVzc2FnZTogbXNnLm1lc3NhZ2UgfTtcbiAgfVxuICBjb25zdCBlcnJvckluQ29kZSA9IGdldEVycm9ySW5PcmlnaW5hbENvZGUocmVsZXZhbnRTdGFja0ZyYW1lKTtcbiAgY29uc3QgZXJyb3JMb2NhdGlvbiA9IGdldEVycm9yTG9jYXRpb24ocmVsZXZhbnRTdGFja0ZyYW1lKTtcbiAgY29uc3QgZXJyb3JNZXNzYWdlID0gZm9ybWF0RXJyb3JNZXNzYWdlKHJlbGV2YW50U3RhY2tGcmFtZS5fb3JpZ2luYWxGaWxlTmFtZSwgbXNnLm1lc3NhZ2UsIGVycm9yTG9jYXRpb24sIGVycm9ySW5Db2RlKTtcbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgdGl0bGU6IG1zZy50aXRsZSxcbiAgICBwYXRoOiByZWxldmFudFN0YWNrRnJhbWUuX29yaWdpbmFsRmlsZU5hbWUsXG4gICAgbGluZTogcmVsZXZhbnRTdGFja0ZyYW1lLl9vcmlnaW5hbExpbmVOdW1iZXIsXG4gICAgY29sdW1uOiByZWxldmFudFN0YWNrRnJhbWUuX29yaWdpbmFsQ29sdW1uTnVtYmVyXG4gIH07XG59XG5mdW5jdGlvbiBnZXRSZWxldmFudFN0YWNrRnJhbWUoZnJhbWVzKSB7XG4gIGlmICghZnJhbWVzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBmcmFtZXMuZmluZCgoZnJhbWUpID0+ICEhZnJhbWUuX29yaWdpbmFsRmlsZU5hbWUpO1xufVxuZnVuY3Rpb24gZ2V0RXJyb3JMb2NhdGlvbihlcnJvckZyYW1lKSB7XG4gIHJldHVybiBlcnJvckZyYW1lID8gYCAoJHtlcnJvckZyYW1lLl9vcmlnaW5hbExpbmVOdW1iZXJ9OiR7ZXJyb3JGcmFtZS5fb3JpZ2luYWxDb2x1bW5OdW1iZXJ9KWAgOiBgYDtcbn1cbmZ1bmN0aW9uIGdldEVycm9ySW5PcmlnaW5hbENvZGUoZXJyb3JGcmFtZSkge1xuICBjb25zdCBsYXN0U2NyaXB0TGluZSA9IGVycm9yRnJhbWUuX29yaWdpbmFsU2NyaXB0Q29kZVtlcnJvckZyYW1lLl9vcmlnaW5hbFNjcmlwdENvZGUubGVuZ3RoIC0gMV07XG4gIGNvbnN0IG51bWJlck9mTGluZU51bWJlckNoYXJhY3RlcnMgPSBsYXN0U2NyaXB0TGluZS5saW5lTnVtYmVyLnRvU3RyaW5nKCkubGVuZ3RoO1xuICBjb25zdCBsZWFkaW5nQ2hhcmFjdGVyT2Zmc2V0ID0gMjtcbiAgY29uc3QgYmFyU2VwYXJhdG9yQ2hhcmFjdGVyT2Zmc2V0ID0gMztcbiAgY29uc3QgZXh0cmFMaW5lTGVhZGluZ1NwYWNlcyA9IGxlYWRpbmdDaGFyYWN0ZXJPZmZzZXQgKyBudW1iZXJPZkxpbmVOdW1iZXJDaGFyYWN0ZXJzICsgYmFyU2VwYXJhdG9yQ2hhcmFjdGVyT2Zmc2V0ICsgZXJyb3JGcmFtZS5fb3JpZ2luYWxDb2x1bW5OdW1iZXI7XG4gIHJldHVybiBlcnJvckZyYW1lLl9vcmlnaW5hbFNjcmlwdENvZGUucmVkdWNlKChyZXN1bHQsIHNjcmlwdExpbmUpID0+IHtcbiAgICBjb25zdCBsZWFkaW5nQ2hhciA9IHNjcmlwdExpbmUuaGlnaGxpZ2h0ID8gXCI+XCIgOiBcIiBcIjtcbiAgICBjb25zdCBsaW5lTnVtYmVyID0gc2NyaXB0TGluZS5saW5lTnVtYmVyLnRvU3RyaW5nKCkubGVuZ3RoID09PSBudW1iZXJPZkxpbmVOdW1iZXJDaGFyYWN0ZXJzID8gYCR7c2NyaXB0TGluZS5saW5lTnVtYmVyfWAgOiBgICR7c2NyaXB0TGluZS5saW5lTnVtYmVyfWA7XG4gICAgY29uc3QgZXh0cmFMaW5lID0gc2NyaXB0TGluZS5oaWdobGlnaHQgPyBcIlxcblwiICsgXCIgXCIucmVwZWF0KGV4dHJhTGluZUxlYWRpbmdTcGFjZXMpICsgXCJeXCIgOiBcIlwiO1xuICAgIHJldHVybiByZXN1bHQgKyBcIlxcblwiICsgbGVhZGluZ0NoYXIgKyBcIiBcIiArIGxpbmVOdW1iZXIgKyBcIiB8IFwiICsgc2NyaXB0TGluZS5jb250ZW50ICsgZXh0cmFMaW5lO1xuICB9LCBcIlwiKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEVycm9yTWVzc2FnZShmaWxlUGF0aCwgbWVzc2FnZSwgbG9jYXRpb24sIGVycm9ySW5Db2RlKSB7XG4gIHJldHVybiBgJHtmaWxlUGF0aH06ICR7bWVzc2FnZX0ke2xvY2F0aW9ufVxuJHtlcnJvckluQ29kZX1gO1xufVxuXG4vLyBzcmMvY2xpZW50LnRzXG52YXIgQlVORExFUl9VUkwgPSBgaHR0cHM6Ly8ke1wiMC4xOS4wXCIucmVwbGFjZSgvXFwuL2csIFwiLVwiKX0tc2FuZHBhY2suY29kZXNhbmRib3guaW8vYDtcbnZhciBTYW5kcGFja0NsaWVudCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIHNhbmRib3hJbmZvLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmdldFRyYW5zcGlsZXJDb250ZXh0ID0gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gdGhpcy5saXN0ZW4oKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJ0cmFuc3BpbGVyLWNvbnRleHRcIikge1xuICAgICAgICAgIHJlc29sdmUobWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goeyB0eXBlOiBcImdldC10cmFuc3BpbGVyLWNvbnRleHRcIiB9KTtcbiAgICB9KTtcbiAgICB2YXIgX2E7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnNhbmRib3hJbmZvID0gc2FuZGJveEluZm87XG4gICAgdGhpcy5idW5kbGVyVVJMID0gb3B0aW9ucy5idW5kbGVyVVJMIHx8IEJVTkRMRVJfVVJMO1xuICAgIHRoaXMuYnVuZGxlclN0YXRlID0gdm9pZCAwO1xuICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgdGhpcy5zdGF0dXMgPSBcImluaXRpYWxpemluZ1wiO1xuICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGVsZW1lbnQgZm91bmQgZm9yIHNlbGVjdG9yICcke3NlbGVjdG9yfSdgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLmlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICB0aGlzLmluaXRpYWxpemVFbGVtZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IHNlbGVjdG9yO1xuICAgICAgdGhpcy5pZnJhbWUgPSBzZWxlY3RvcjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmlmcmFtZS5nZXRBdHRyaWJ1dGUoXCJzYW5kYm94XCIpKSB7XG4gICAgICB0aGlzLmlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJzYW5kYm94XCIsIFwiYWxsb3ctZm9ybXMgYWxsb3ctbW9kYWxzIGFsbG93LXBvcHVwcyBhbGxvdy1wcmVzZW50YXRpb24gYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0c1wiKTtcbiAgICB9XG4gICAgY29uc3QgdXJsU291cmNlID0gb3B0aW9ucy5zdGFydFJvdXRlID8gbmV3IFVSTChvcHRpb25zLnN0YXJ0Um91dGUsIHRoaXMuYnVuZGxlclVSTCkudG9TdHJpbmcoKSA6IHRoaXMuYnVuZGxlclVSTDtcbiAgICAoX2EgPSB0aGlzLmlmcmFtZS5jb250ZW50V2luZG93KSA9PSBudWxsID8gdm9pZCAwIDogX2EubG9jYXRpb24ucmVwbGFjZSh1cmxTb3VyY2UpO1xuICAgIHRoaXMuaWZyYW1lUHJvdG9jb2wgPSBuZXcgSUZyYW1lUHJvdG9jb2wodGhpcy5pZnJhbWUsIHRoaXMuYnVuZGxlclVSTCk7XG4gICAgdGhpcy51bnN1YnNjcmliZUdsb2JhbExpc3RlbmVyID0gdGhpcy5pZnJhbWVQcm90b2NvbC5nbG9iYWxMaXN0ZW4oKG1lcykgPT4ge1xuICAgICAgaWYgKG1lcy50eXBlICE9PSBcImluaXRpYWxpemVkXCIgfHwgIXRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5pZnJhbWVQcm90b2NvbC5yZWdpc3RlcigpO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5maWxlUmVzb2x2ZXIpIHtcbiAgICAgICAgdGhpcy5maWxlUmVzb2x2ZXJQcm90b2NvbCA9IG5ldyBQcm90b2NvbChcImZpbGUtcmVzb2x2ZXJcIiwgYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoZGF0YS5tID09PSBcImlzRmlsZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZpbGVSZXNvbHZlci5pc0ZpbGUoZGF0YS5wKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5maWxlUmVzb2x2ZXIucmVhZEZpbGUoZGF0YS5wKTtcbiAgICAgICAgfSwgdGhpcy5pZnJhbWUuY29udGVudFdpbmRvdyk7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVByZXZpZXcodGhpcy5zYW5kYm94SW5mbywgdHJ1ZSk7XG4gICAgfSk7XG4gICAgdGhpcy51bnN1YnNjcmliZUNoYW5uZWxMaXN0ZW5lciA9IHRoaXMuaWZyYW1lUHJvdG9jb2wuY2hhbm5lbExpc3RlbigobWVzKSA9PiB7XG4gICAgICBzd2l0Y2ggKG1lcy50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzdGFydFwiOiB7XG4gICAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3RhdHVzXCI6IHtcbiAgICAgICAgICB0aGlzLnN0YXR1cyA9IG1lcy5zdGF0dXM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImFjdGlvblwiOiB7XG4gICAgICAgICAgaWYgKG1lcy5hY3Rpb24gPT09IFwic2hvdy1lcnJvclwiKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9ycyA9IFsuLi50aGlzLmVycm9ycywgZXh0cmFjdEVycm9yRGV0YWlscyhtZXMpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInN0YXRlXCI6IHtcbiAgICAgICAgICB0aGlzLmJ1bmRsZXJTdGF0ZSA9IG1lcy5zdGF0ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGNsZWFudXAoKSB7XG4gICAgdGhpcy51bnN1YnNjcmliZUNoYW5uZWxMaXN0ZW5lcigpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVHbG9iYWxMaXN0ZW5lcigpO1xuICAgIHRoaXMuaWZyYW1lUHJvdG9jb2wuY2xlYW51cCgpO1xuICB9XG4gIHVwZGF0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmICghaXNFcXVhbCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgdGhpcy51cGRhdGVQcmV2aWV3KCk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVByZXZpZXcoc2FuZGJveEluZm8gPSB0aGlzLnNhbmRib3hJbmZvLCBpc0luaXRpYWxpemF0aW9uQ29tcGlsZSkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICB0aGlzLnNhbmRib3hJbmZvID0ge1xuICAgICAgLi4udGhpcy5zYW5kYm94SW5mbyxcbiAgICAgIC4uLnNhbmRib3hJbmZvXG4gICAgfTtcbiAgICBjb25zdCBmaWxlcyA9IHRoaXMuZ2V0RmlsZXMoKTtcbiAgICBjb25zdCBtb2R1bGVzID0gT2JqZWN0LmtleXMoZmlsZXMpLnJlZHVjZSgocHJldiwgbmV4dCkgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbbmV4dF06IHtcbiAgICAgICAgY29kZTogZmlsZXNbbmV4dF0uY29kZSxcbiAgICAgICAgcGF0aDogbmV4dFxuICAgICAgfVxuICAgIH0pLCB7fSk7XG4gICAgbGV0IHBhY2thZ2VKU09OID0gSlNPTi5wYXJzZShjcmVhdGVQYWNrYWdlSlNPTih0aGlzLnNhbmRib3hJbmZvLmRlcGVuZGVuY2llcywgdGhpcy5zYW5kYm94SW5mby5kZXZEZXBlbmRlbmNpZXMsIHRoaXMuc2FuZGJveEluZm8uZW50cnkpKTtcbiAgICB0cnkge1xuICAgICAgcGFja2FnZUpTT04gPSBKU09OLnBhcnNlKGZpbGVzW1wiL3BhY2thZ2UuanNvblwiXS5jb2RlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IHBhcnNlIHBhY2thZ2UuanNvbiBmaWxlOiBcIiArIGUubWVzc2FnZSk7XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRNb2R1bGVzID0gT2JqZWN0LmtleXMoZmlsZXMpLnJlZHVjZSgocHJldiwgbmV4dCkgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbbmV4dF06IHtcbiAgICAgICAgY29udGVudDogZmlsZXNbbmV4dF0uY29kZSxcbiAgICAgICAgcGF0aDogbmV4dFxuICAgICAgfVxuICAgIH0pLCB7fSk7XG4gICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICB0eXBlOiBcImNvbXBpbGVcIixcbiAgICAgIGNvZGVzYW5kYm94OiB0cnVlLFxuICAgICAgdmVyc2lvbjogMyxcbiAgICAgIGlzSW5pdGlhbGl6YXRpb25Db21waWxlLFxuICAgICAgbW9kdWxlcyxcbiAgICAgIHJlYWN0RGV2VG9vbHM6IHRoaXMub3B0aW9ucy5yZWFjdERldlRvb2xzLFxuICAgICAgZXh0ZXJuYWxSZXNvdXJjZXM6IHRoaXMub3B0aW9ucy5leHRlcm5hbFJlc291cmNlcyB8fCBbXSxcbiAgICAgIGhhc0ZpbGVSZXNvbHZlcjogQm9vbGVhbih0aGlzLm9wdGlvbnMuZmlsZVJlc29sdmVyKSxcbiAgICAgIGRpc2FibGVEZXBlbmRlbmN5UHJlcHJvY2Vzc2luZzogdGhpcy5zYW5kYm94SW5mby5kaXNhYmxlRGVwZW5kZW5jeVByZXByb2Nlc3NpbmcsXG4gICAgICB0ZW1wbGF0ZTogdGhpcy5zYW5kYm94SW5mby50ZW1wbGF0ZSB8fCBnZXRUZW1wbGF0ZV8xKHBhY2thZ2VKU09OLCBub3JtYWxpemVkTW9kdWxlcyksXG4gICAgICBzaG93T3BlbkluQ29kZVNhbmRib3g6IChfYSA9IHRoaXMub3B0aW9ucy5zaG93T3BlbkluQ29kZVNhbmRib3gpICE9IG51bGwgPyBfYSA6IHRydWUsXG4gICAgICBzaG93RXJyb3JTY3JlZW46IChfYiA9IHRoaXMub3B0aW9ucy5zaG93RXJyb3JTY3JlZW4pICE9IG51bGwgPyBfYiA6IHRydWUsXG4gICAgICBzaG93TG9hZGluZ1NjcmVlbjogKF9jID0gdGhpcy5vcHRpb25zLnNob3dMb2FkaW5nU2NyZWVuKSAhPSBudWxsID8gX2MgOiB0cnVlLFxuICAgICAgc2tpcEV2YWw6IHRoaXMub3B0aW9ucy5za2lwRXZhbCB8fCBmYWxzZSxcbiAgICAgIGNsZWFyQ29uc29sZURpc2FibGVkOiAhdGhpcy5vcHRpb25zLmNsZWFyQ29uc29sZU9uRmlyc3RDb21waWxlLFxuICAgICAgbG9nTGV2ZWw6IChfZCA9IHRoaXMub3B0aW9ucy5sb2dMZXZlbCkgIT0gbnVsbCA/IF9kIDogU2FuZHBhY2tMb2dMZXZlbC5JbmZvXG4gICAgfSk7XG4gIH1cbiAgZGlzcGF0Y2gobWVzc2FnZSkge1xuICAgIHRoaXMuaWZyYW1lUHJvdG9jb2wuZGlzcGF0Y2gobWVzc2FnZSk7XG4gIH1cbiAgbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuaWZyYW1lUHJvdG9jb2wuY2hhbm5lbExpc3RlbihsaXN0ZW5lcik7XG4gIH1cbiAgZ2V0Q29kZVNhbmRib3hVUkwoKSB7XG4gICAgY29uc3QgZmlsZXMgPSB0aGlzLmdldEZpbGVzKCk7XG4gICAgY29uc3QgcGFyYW1GaWxlcyA9IE9iamVjdC5rZXlzKGZpbGVzKS5yZWR1Y2UoKHByZXYsIG5leHQpID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgW25leHQucmVwbGFjZShcIi9cIiwgXCJcIildOiB7XG4gICAgICAgIGNvbnRlbnQ6IGZpbGVzW25leHRdLmNvZGUsXG4gICAgICAgIGlzQmluYXJ5OiBmYWxzZVxuICAgICAgfVxuICAgIH0pLCB7fSk7XG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9hcGkvdjEvc2FuZGJveGVzL2RlZmluZT9qc29uPTFcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZmlsZXM6IHBhcmFtRmlsZXMgfSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9XG4gICAgfSkudGhlbigoeCkgPT4geC5qc29uKCkpLnRoZW4oKHJlcykgPT4gKHtcbiAgICAgIHNhbmRib3hJZDogcmVzLnNhbmRib3hfaWQsXG4gICAgICBlZGl0b3JVcmw6IGBodHRwczovL2NvZGVzYW5kYm94LmlvL3MvJHtyZXMuc2FuZGJveF9pZH1gLFxuICAgICAgZW1iZWRVcmw6IGBodHRwczovL2NvZGVzYW5kYm94LmlvL2VtYmVkLyR7cmVzLnNhbmRib3hfaWR9YFxuICAgIH0pKTtcbiAgfVxuICBnZXRGaWxlcygpIHtcbiAgICBjb25zdCB7IHNhbmRib3hJbmZvIH0gPSB0aGlzO1xuICAgIGlmIChzYW5kYm94SW5mby5maWxlc1tcIi9wYWNrYWdlLmpzb25cIl0gPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGFkZFBhY2thZ2VKU09OSWZOZWVkZWQoc2FuZGJveEluZm8uZmlsZXMsIHNhbmRib3hJbmZvLmRlcGVuZGVuY2llcywgc2FuZGJveEluZm8uZGV2RGVwZW5kZW5jaWVzLCBzYW5kYm94SW5mby5lbnRyeSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNhbmRib3hJbmZvLmZpbGVzO1xuICB9XG4gIGluaXRpYWxpemVFbGVtZW50KCkge1xuICAgIHRoaXMuaWZyYW1lLnN0eWxlLmJvcmRlciA9IFwiMFwiO1xuICAgIHRoaXMuaWZyYW1lLnN0eWxlLndpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoIHx8IFwiMTAwJVwiO1xuICAgIHRoaXMuaWZyYW1lLnN0eWxlLmhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHQgfHwgXCIxMDAlXCI7XG4gICAgdGhpcy5pZnJhbWUuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIGlmICghdGhpcy5lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkdpdmVuIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBhIHBhcmVudC5cIik7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLmlmcmFtZSwgdGhpcy5lbGVtZW50KTtcbiAgfVxufTtcblxuLy8gc3JjL3R5cGVzLnRzXG52YXIgU2FuZHBhY2tMb2dMZXZlbDtcbihmdW5jdGlvbihTYW5kcGFja0xvZ0xldmVsMikge1xuICBTYW5kcGFja0xvZ0xldmVsMltTYW5kcGFja0xvZ0xldmVsMltcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICBTYW5kcGFja0xvZ0xldmVsMltTYW5kcGFja0xvZ0xldmVsMltcIkVycm9yXCJdID0gMTBdID0gXCJFcnJvclwiO1xuICBTYW5kcGFja0xvZ0xldmVsMltTYW5kcGFja0xvZ0xldmVsMltcIldhcm5pbmdcIl0gPSAyMF0gPSBcIldhcm5pbmdcIjtcbiAgU2FuZHBhY2tMb2dMZXZlbDJbU2FuZHBhY2tMb2dMZXZlbDJbXCJJbmZvXCJdID0gMzBdID0gXCJJbmZvXCI7XG4gIFNhbmRwYWNrTG9nTGV2ZWwyW1NhbmRwYWNrTG9nTGV2ZWwyW1wiRGVidWdcIl0gPSA0MF0gPSBcIkRlYnVnXCI7XG59KShTYW5kcGFja0xvZ0xldmVsIHx8IChTYW5kcGFja0xvZ0xldmVsID0ge30pKTtcblxuZnVuY3Rpb24gUHJldmlldyhfYSkge1xyXG4gICAgdmFyIHsgY2xhc3NOYW1lLCBmaWxlcywgcHJlc2V0Q29uZmlnLCBzaG93LCBjaGlsZHJlbiwgY29kZUNvbmZpZywgc3R5bGUsIGZyYW1lbGVzcyB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcImNsYXNzTmFtZVwiLCBcImZpbGVzXCIsIFwicHJlc2V0Q29uZmlnXCIsIFwic2hvd1wiLCBcImNoaWxkcmVuXCIsIFwiY29kZUNvbmZpZ1wiLCBcInN0eWxlXCIsIFwiZnJhbWVsZXNzXCJdKTtcclxuICAgIGNvbnN0IGtpZHMgPSBwcmVzZXRDb25maWcgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChTYW5kcGFja1ByZXZpZXcsIHsgZmlsZXM6IGZpbGVzLCBwcmVzZXRDb25maWc6IHByZXNldENvbmZpZyB9KSkgOiAoY2hpbGRyZW4pO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoLXByZXZpZXdcIiArIChjbGFzc05hbWUgPyBcIiBcIiArIGNsYXNzTmFtZSA6IFwiXCIpLCBzdHlsZTogc3R5bGUgfSwgZnJhbWVsZXNzID8gKGtpZHMpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWluaUJyb3dzZXIsIE9iamVjdC5hc3NpZ24oeyBsb2FkVXJsOiBzaG93LCB0aGVtZTogY29kZUNvbmZpZy50aGVtZSB9LCByZXN0LCB7IGNoaWxkcmVuOiBraWRzIH0pKSkpKTtcclxufVxyXG5mdW5jdGlvbiBTYW5kcGFja1ByZXZpZXcoeyBmaWxlcywgcHJlc2V0Q29uZmlnLCB9KSB7XHJcbiAgICBjb25zdCBpZnJhbWVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCBjbGllbnRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNsaWVudFJlZi5jdXJyZW50ID0gbmV3IFNhbmRwYWNrQ2xpZW50KGlmcmFtZVJlZi5jdXJyZW50LCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHByZXNldENvbmZpZyksIHsgZmlsZXM6IG1lcmdlRmlsZXMocHJlc2V0Q29uZmlnLmZpbGVzLCBmaWxlcykgfSksIHtcclxuICAgICAgICAgICAgc2hvd09wZW5JbkNvZGVTYW5kYm94OiBmYWxzZSxcclxuICAgICAgICAgICAgLy8gc2hvd0Vycm9yU2NyZWVuOiBmYWxzZSxcclxuICAgICAgICAgICAgLy8gc2hvd0xvYWRpbmdTY3JlZW46IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgW10pO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAoY2xpZW50UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgY2xpZW50UmVmLmN1cnJlbnQudXBkYXRlUHJldmlldyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHByZXNldENvbmZpZyksIHsgZmlsZXM6IG1lcmdlRmlsZXMocHJlc2V0Q29uZmlnLmZpbGVzLCBmaWxlcykgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtmaWxlc10pO1xyXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiwgeyByZWY6IGlmcmFtZVJlZiB9KTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZUZpbGVzKGNzYkZpbGVzLCBjaEZpbGVzKSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBPYmplY3QuYXNzaWduKHt9LCBjc2JGaWxlcyk7XHJcbiAgICBjaEZpbGVzLmZvckVhY2goZmlsZSA9PiB7XHJcbiAgICAgICAgcmVzdWx0W1wiL1wiICsgZmlsZS5uYW1lXSA9IHtcclxuICAgICAgICAgICAgY29kZTogZmlsZS5jb2RlLmxpbmVzXHJcbiAgICAgICAgICAgICAgICAubWFwKGwgPT4gbC50b2tlbnMubWFwKHQgPT4gdC5jb250ZW50KS5qb2luKFwiXCIpKVxyXG4gICAgICAgICAgICAgICAgLmpvaW4oXCJcXG5cIiksXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxuXG5mdW5jdGlvbiBleHRyYWN0UHJldmlld1N0ZXBzKGNoaWxkcmVuLCBoYXNQcmV2aWV3U3RlcHMpIHtcclxuICAgIGNvbnN0IGFsbENoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbik7XHJcbiAgICBjb25zdCBzdGVwc0NoaWxkcmVuID0gaGFzUHJldmlld1N0ZXBzXHJcbiAgICAgICAgPyBhbGxDaGlsZHJlbi5zbGljZSgwLCBhbGxDaGlsZHJlbi5sZW5ndGggLyAyKVxyXG4gICAgICAgIDogYWxsQ2hpbGRyZW47XHJcbiAgICBjb25zdCBwcmV2aWV3Q2hpbGRyZW4gPSBoYXNQcmV2aWV3U3RlcHNcclxuICAgICAgICA/IGFsbENoaWxkcmVuLnNsaWNlKGFsbENoaWxkcmVuLmxlbmd0aCAvIDIpXHJcbiAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4geyBzdGVwc0NoaWxkcmVuLCBwcmV2aWV3Q2hpbGRyZW4gfTtcclxufVxuXG5mdW5jdGlvbiBTcG90bGlnaHQoX2EpIHtcclxuICAgIHZhciBfYjtcclxuICAgIHZhciB7IGNoaWxkcmVuLCBlZGl0b3JTdGVwcywgY29kZUNvbmZpZywgc3RhcnQgPSAwLCBwcmVzZXRDb25maWcsIGNsYXNzTmFtZSwgc3R5bGUsIGhhc1ByZXZpZXdTdGVwcyB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwiZWRpdG9yU3RlcHNcIiwgXCJjb2RlQ29uZmlnXCIsIFwic3RhcnRcIiwgXCJwcmVzZXRDb25maWdcIiwgXCJjbGFzc05hbWVcIiwgXCJzdHlsZVwiLCBcImhhc1ByZXZpZXdTdGVwc1wiXSk7XHJcbiAgICBjb25zdCB7IHN0ZXBzQ2hpbGRyZW4sIHByZXZpZXdDaGlsZHJlbiB9ID0gZXh0cmFjdFByZXZpZXdTdGVwcyhjaGlsZHJlbiwgaGFzUHJldmlld1N0ZXBzKTtcclxuICAgIGNvbnN0IHdpdGhQcmV2aWV3ID0gcHJlc2V0Q29uZmlnIHx8IGhhc1ByZXZpZXdTdGVwcztcclxuICAgIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gUmVhY3QudXNlU3RhdGUoe1xyXG4gICAgICAgIHN0ZXBJbmRleDogc3RhcnQsXHJcbiAgICAgICAgc3RlcDogZWRpdG9yU3RlcHNbc3RhcnRdLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCB0YWIgPSBzdGF0ZS5zdGVwO1xyXG4gICAgZnVuY3Rpb24gb25UYWJDbGljayhmaWxlbmFtZSkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0ZXAgPSB1cGRhdGVFZGl0b3JTdGVwKHN0YXRlLnN0ZXAsIGZpbGVuYW1lLCBudWxsKTtcclxuICAgICAgICBzZXRTdGF0ZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyBzdGVwOiBuZXdTdGVwIH0pKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGhlYWRlckVsZW1lbnQgPSBzdGVwc0NoaWxkcmVuWzBdO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiLCB7IGNsYXNzTmFtZTogYGNoLXNwb3RsaWdodCAke3dpdGhQcmV2aWV3ID8gXCJjaC1zcG90bGlnaHQtd2l0aC1wcmV2aWV3XCIgOiBcIlwifSAke2NsYXNzTmFtZSB8fCBcIlwifWAsIHN0eWxlOiBzdHlsZSB9LFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2gtc3BvdGxpZ2h0LXRhYnNcIiB9LFxyXG4gICAgICAgICAgICAoKF9iID0gaGVhZGVyRWxlbWVudCA9PT0gbnVsbCB8fCBoZWFkZXJFbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBoZWFkZXJFbGVtZW50LnByb3BzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2hpbGRyZW4pID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgc3RlcHNDaGlsZHJlblswXSkpIDogbnVsbCxcclxuICAgICAgICAgICAgc3RlcHNDaGlsZHJlbi5tYXAoKGNoaWxkcmVuLCBpKSA9PiBpID09PSAwID8gbnVsbCA6IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsga2V5OiBpLCBvbkNsaWNrOiAoKSA9PiBzZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcEluZGV4OiBpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IGVkaXRvclN0ZXBzW2ldLFxyXG4gICAgICAgICAgICAgICAgfSksIGNsYXNzTmFtZTogXCJjaC1zcG90bGlnaHQtdGFiXCIsIFwiZGF0YS1zZWxlY3RlZFwiOiBpID09PSBzdGF0ZS5zdGVwSW5kZXggPyBcInRydWVcIiA6IHVuZGVmaW5lZCB9LCBjaGlsZHJlbikpKSksXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaC1zcG90bGlnaHQtc3RpY2tlclwiIH0sXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW5uZXJDb2RlLCBPYmplY3QuYXNzaWduKHt9LCByZXN0LCB0YWIsIHsgY29kZUNvbmZpZzogY29kZUNvbmZpZywgb25UYWJDbGljazogb25UYWJDbGljayB9KSksXHJcbiAgICAgICAgICAgIHByZXNldENvbmZpZyA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFByZXZpZXcsIHsgY2xhc3NOYW1lOiBcImNoLXNwb3RsaWdodC1wcmV2aWV3XCIsIGZpbGVzOiB0YWIuZmlsZXMsIHByZXNldENvbmZpZzogcHJlc2V0Q29uZmlnLCBjb2RlQ29uZmlnOiBjb2RlQ29uZmlnIH0pKSA6IGhhc1ByZXZpZXdTdGVwcyA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFByZXZpZXcsIE9iamVjdC5hc3NpZ24oeyBjbGFzc05hbWU6IFwiY2gtc3BvdGxpZ2h0LXByZXZpZXdcIiB9LCBwcmV2aWV3Q2hpbGRyZW5bc3RhdGUuc3RlcEluZGV4XVtcInByb3BzXCJdKSkpIDogbnVsbCkpKTtcclxufVxuXG5mdW5jdGlvbiBkZWJ1Z0VudHJpZXMoZW50cmllcykge1xyXG4gICAgZW50cmllcy5mb3JFYWNoKHNob3dFbnRyeSk7XHJcbn1cclxuZnVuY3Rpb24gc2hvd0VudHJ5KGVudHJ5KSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICBjb25zdCByb290SGVpZ2h0ID0gKChfYSA9IGVudHJ5LnJvb3RCb3VuZHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oZWlnaHQpIHx8IDA7XHJcbiAgICBhZGRGbGFzaGluZ1JlY3QoZW50cnkucm9vdEJvdW5kcywge1xyXG4gICAgICAgIGJvcmRlcjogYCR7TWF0aC5taW4oMTAsIHJvb3RIZWlnaHQgLyAyKX1weCBzb2xpZCAke2lvZE9wdGlvbnMucm9vdENvbG9yfWAsXHJcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXHJcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcclxuICAgIH0pO1xyXG4gICAgYWRkRmxhc2hpbmdSZWN0KGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdCwge1xyXG4gICAgICAgIGJvcmRlcjogYCR7TWF0aC5taW4oMTAsIGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgLyAyKX1weCBzb2xpZCAke2VudHJ5LmlzSW50ZXJzZWN0aW5nXHJcbiAgICAgICAgICAgID8gaW9kT3B0aW9ucy5lbnRlckNvbG9yXHJcbiAgICAgICAgICAgIDogaW9kT3B0aW9ucy5leGl0Q29sb3J9YCxcclxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxyXG4gICAgfSk7XHJcbiAgICBhZGRGbGFzaGluZ1JlY3QoZW50cnkuaW50ZXJzZWN0aW9uUmVjdCwge1xyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogaW9kT3B0aW9ucy5pbnRlckNvbG9yLFxyXG4gICAgICAgIHpJbmRleDogMixcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGFkZEZsYXNoaW5nUmVjdChib3VuZHMsIHN0eWxlID0ge30pIHtcclxuICAgIGNvbnN0IHsgd2lkdGgsIGxlZnQsIGhlaWdodCwgdG9wIH0gPSBib3VuZHM7XHJcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xyXG4gICAgZGl2LnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XHJcbiAgICBkaXYuc3R5bGUubGVmdCA9IGxlZnQgKyBcInB4XCI7XHJcbiAgICBkaXYuc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xyXG4gICAgZGl2LnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcclxuICAgIGRpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XHJcbiAgICBkaXYuc3R5bGUudHJhbnNpdGlvbiA9IFwib3BhY2l0eSAycyBlYXNlLWluXCI7XHJcbiAgICBPYmplY3QuYXNzaWduKGRpdi5zdHlsZSwgc3R5bGUpO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgZGl2LnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgIH0pKTtcclxuICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgICByZXR1cm4gZGl2O1xyXG59XHJcbmNvbnN0IGlvZE9wdGlvbnMgPSB7XHJcbiAgICByb290Q29sb3I6IFwiIzk0MjhBQlwiLFxyXG4gICAgZW50ZXJDb2xvcjogXCIjQjM1QzAwXCIsXHJcbiAgICBleGl0Q29sb3I6IFwiIzAzNTU3MFwiLFxyXG4gICAgaW50ZXJDb2xvcjogXCIjOUNBRjAwQkJcIixcclxufTtcblxuY29uc3QgdXNlTGF5b3V0RWZmZWN0JDEgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICA/IFJlYWN0LnVzZUxheW91dEVmZmVjdFxyXG4gICAgOiBSZWFjdC51c2VFZmZlY3Q7XHJcbmZ1bmN0aW9uIHVzZVdpbmRvd0hlaWdodCgpIHtcclxuICAgIGNvbnN0IGlzQ2xpZW50ID0gdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIjtcclxuICAgIGZ1bmN0aW9uIGdldEhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gaXNDbGllbnRcclxuICAgICAgICAgICAgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgY29uc3QgW3dpbmRvd0hlaWdodCwgc2V0V2luZG93SGVpZ2h0XSA9IFJlYWN0LnVzZVN0YXRlKGdldEhlaWdodCk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZSgpIHtcclxuICAgICAgICAgICAgc2V0V2luZG93SGVpZ2h0KGdldEhlaWdodCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcclxuICAgIH0sIFtdKTtcclxuICAgIHVzZUxheW91dEVmZmVjdCQxKCgpID0+IHtcclxuICAgICAgICAvLyBGSVggd2hlbiBhIGhvcml6b250YWwgc2Nyb2xsYmFyIGlzIGFkZGVkIGFmdGVyIHRoZSBmaXJzdCBsYXlvdXRcclxuICAgICAgICBzZXRXaW5kb3dIZWlnaHQoZ2V0SGVpZ2h0KCkpO1xyXG4gICAgfSwgW10pO1xyXG4gICAgcmV0dXJuIHdpbmRvd0hlaWdodDtcclxufVxuXG5jb25zdCBPYnNlcnZlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XHJcbmNvbnN0IHVzZUxheW91dEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCJcclxuICAgID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0XHJcbiAgICA6IFJlYWN0LnVzZUVmZmVjdDtcclxuZnVuY3Rpb24gU2Nyb2xsZXIoeyBvblN0ZXBDaGFuZ2UsIGNoaWxkcmVuLCBnZXRSb290TWFyZ2luID0gZGVmYXVsdFJvb3RNYXJnaW4sIGRlYnVnID0gZmFsc2UsIH0pIHtcclxuICAgIGNvbnN0IFtvYnNlcnZlciwgc2V0T2JzZXJ2ZXIsXSA9IFJlYWN0LnVzZVN0YXRlKCk7XHJcbiAgICBjb25zdCB2aCA9IHVzZVdpbmRvd0hlaWdodCgpO1xyXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCB3aW5kb3dIZWlnaHQgPSB2aCB8fCAwO1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZUludGVyc2VjdCA9IGVudHJpZXMgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGVidWcgfHwgd2luZG93LmNoRGVidWdTY3JvbGxlcikge1xyXG4gICAgICAgICAgICAgICAgZGVidWdFbnRyaWVzKGVudHJpZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlcEVsZW1lbnQgPSBlbnRyeS50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgb25TdGVwQ2hhbmdlKCtzdGVwRWxlbWVudC5zdGVwSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3SW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0LCBnZXRSb290TWFyZ2luKHdpbmRvd0hlaWdodCkpO1xyXG4gICAgICAgIHNldE9ic2VydmVyKG9ic2VydmVyKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgfSwgW3ZoXSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoT2JzZXJ2ZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBvYnNlcnZlciB9LCBjaGlsZHJlbikpO1xyXG59XHJcbmZ1bmN0aW9uIFN0ZXAoX2EpIHtcclxuICAgIHZhciB7IGFzID0gXCJzZWN0aW9uXCIsIGluZGV4IH0gPSBfYSwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImFzXCIsIFwiaW5kZXhcIl0pO1xyXG4gICAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBSZWFjdC51c2VDb250ZXh0KE9ic2VydmVyQ29udGV4dCk7XHJcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICgpID0+IG9ic2VydmVyICYmIG9ic2VydmVyLnVub2JzZXJ2ZShyZWYuY3VycmVudCk7XHJcbiAgICB9LCBbb2JzZXJ2ZXJdKTtcclxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3RlcEVsZW1lbnQgPSByZWYuY3VycmVudDtcclxuICAgICAgICBzdGVwRWxlbWVudC5zdGVwSW5kZXggPSBpbmRleDtcclxuICAgIH0sIFtpbmRleF0pO1xyXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoYXMsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpLCB7IHJlZiB9KSk7XHJcbn1cclxuZnVuY3Rpb24gbmV3SW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0LCByb290TWFyZ2luKSB7XHJcbiAgICByZXR1cm4gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZUludGVyc2VjdCwge1xyXG4gICAgICAgIHJvb3RNYXJnaW4sXHJcbiAgICAgICAgdGhyZXNob2xkOiAwLjAwMDAwMSxcclxuICAgICAgICByb290OiBudWxsLFxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZGVmYXVsdFJvb3RNYXJnaW4odmgpIHtcclxuICAgIHJldHVybiBgLSR7dmggLyAyIC0gMn1weCAwcHhgO1xyXG59XG5cbi8vIHNlcnZlci1zaWRlLW1lZGlhLXF1ZXJpZXMtZm9yLXJlYWN0XHJcbmxldCBzdWZmaXhDb3VudGVyID0gMDtcclxuLyoqXHJcbiAqIEB0eXBlZGVmIFN3YXBQcm9wc1xyXG4gKiBAcHJvcCB7W3N0cmluZywgSlNYLkVsZW1lbnRdW119IG1hdGNoXHJcbiAqL1xyXG4vKipcclxuICogU3dhcCBiZXR3ZWVuIGRpZmZlcmVudCBjb21wb25lbnRzIGRlcGVuZGluZyBvbiB0aGUgbWVkaWEgcXVlcmllc1xyXG4gKiBAcGFyYW0ge1N3YXBQcm9wc30gcHJvcHNcclxuICovXHJcbmZ1bmN0aW9uIFN3YXAoeyBtYXRjaCB9KSB7XHJcbiAgICBjb25zdCBxdWVyaWVzID0gbWF0Y2gubWFwKChbcV0pID0+IHEpO1xyXG4gICAgY29uc3QgeyBpc1NlcnZlciwgbWF0Y2hlZEluZGV4IH0gPSB1c2VNZWRpYShxdWVyaWVzKTtcclxuICAgIGNvbnN0IG1haW5DbGFzc05hbWUgPSBpc1NlcnZlclxyXG4gICAgICAgID8gXCJzc21xLVwiICsgc3VmZml4Q291bnRlcisrXHJcbiAgICAgICAgOiBcIlwiO1xyXG4gICAgcmV0dXJuIGlzU2VydmVyID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInN0eWxlXCIsIHsgY2xhc3NOYW1lOiBtYWluQ2xhc3NOYW1lLCBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xyXG4gICAgICAgICAgICAgICAgX19odG1sOiBnZXRTdHlsZShxdWVyaWVzLCBtYWluQ2xhc3NOYW1lKSxcclxuICAgICAgICAgICAgfSB9KSxcclxuICAgICAgICBtYXRjaC5tYXAoKFtxdWVyeSwgZWxlbWVudF0pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsga2V5OiBxdWVyeSwgY2xhc3NOYW1lOiBgJHttYWluQ2xhc3NOYW1lfSAke2dldENsYXNzTmFtZShxdWVyeSl9YCB9LCBlbGVtZW50KSkpLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiwgeyBjbGFzc05hbWU6IG1haW5DbGFzc05hbWUsIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XHJcbiAgICAgICAgICAgICAgICBfX2h0bWw6IGdldFNjcmlwdChtYXRjaCwgbWFpbkNsYXNzTmFtZSksXHJcbiAgICAgICAgICAgIH0gfSkpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgbWF0Y2hbbWF0Y2hlZEluZGV4XVsxXSkpKTtcclxufVxyXG5mdW5jdGlvbiBnZXRTdHlsZShxdWVyaWVzLCBtYWluQ2xhc3MpIHtcclxuICAgIGNvbnN0IHJldmVyc2VkUXVlcmllcyA9IHF1ZXJpZXMuc2xpY2UoKS5yZXZlcnNlKCk7XHJcbiAgICBjb25zdCBzdHlsZSA9IHJldmVyc2VkUXVlcmllc1xyXG4gICAgICAgIC5tYXAocXVlcnkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdHlsZSA9IGAuJHttYWluQ2xhc3N9LiR7Z2V0Q2xhc3NOYW1lKHF1ZXJ5KX17ZGlzcGxheTpibG9ja31gO1xyXG4gICAgICAgIGNvbnN0IG90aGVyU3R5bGUgPSBgLiR7bWFpbkNsYXNzfTpub3QoLiR7Z2V0Q2xhc3NOYW1lKHF1ZXJ5KX0pe2Rpc3BsYXk6IG5vbmU7fWA7XHJcbiAgICAgICAgaWYgKHF1ZXJ5ID09PSBcImRlZmF1bHRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7Y3VycmVudFN0eWxlfSR7b3RoZXJTdHlsZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBAbWVkaWEgJHtxdWVyeX17JHtjdXJyZW50U3R5bGV9JHtvdGhlclN0eWxlfX1gO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAgICAgLmpvaW4oXCJcXG5cIik7XHJcbiAgICByZXR1cm4gc3R5bGU7XHJcbn1cclxuZnVuY3Rpb24gZ2V0U2NyaXB0KG1hdGNoLCBtYWluQ2xhc3MpIHtcclxuICAgIGNvbnN0IHF1ZXJpZXMgPSBtYXRjaC5tYXAoKFtxdWVyeV0pID0+IHF1ZXJ5KTtcclxuICAgIGNvbnN0IGNsYXNzZXMgPSBxdWVyaWVzLm1hcChnZXRDbGFzc05hbWUpO1xyXG4gICAgcmV0dXJuIGAoZnVuY3Rpb24oKSB7XG4gIHZhciBxcyA9ICR7SlNPTi5zdHJpbmdpZnkocXVlcmllcyl9O1xuICB2YXIgY2xzcyA9ICR7SlNPTi5zdHJpbmdpZnkoY2xhc3Nlcyl9O1xuICB2YXIgbWFpbkNscyA9IFwiJHttYWluQ2xhc3N9XCI7XG5cbiAgdmFyIHNjckVscyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuICB2YXIgc2NyRWwgPSBzY3JFbHNbc2NyRWxzLmxlbmd0aCAtIDFdO1xuICB2YXIgcGFyZW50ID0gc2NyRWwucGFyZW50Tm9kZTtcblxuICB2YXIgZWwgPSBudWxsO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHFzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShxc1tpXSkubWF0Y2hlcykge1xuICAgICAgZWwgPSBwYXJlbnQucXVlcnlTZWxlY3RvcihcIjpzY29wZSA+IC5cIiArIG1haW5DbHMgKyBcIi5cIiArIGNsc3NbaV0pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmICghZWwpIHtcbiAgICB2YXIgZGVmYXVsdENsYXNzID0gY2xzcy5wb3AoKTtcbiAgICBlbCA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlID4gLlwiICsgbWFpbkNscyArIFwiLlwiICsgZGVmYXVsdENsYXNzKTtcbiAgfVxuICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcblxuICBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSA+IC5cIiArIG1haW5DbHMpLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZSk7XG4gIH0pO1xufSkoKTtgO1xyXG59XHJcbmZ1bmN0aW9uIGdldENsYXNzTmFtZShzdHJpbmcpIHtcclxuICAgIHJldHVybiAoXCJzc21xLVwiICtcclxuICAgICAgICBzdHJpbmdcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1shXFxcIiMkJSYnXFwoXFwpXFwqXFwrLFxcLlxcLzo7PD0+XFw/XFxAXFxbXFxcXFxcXVxcXmBcXHtcXHxcXH1+XFxzXS9nLCBcIlwiKVxyXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKSk7XHJcbn1cclxuZnVuY3Rpb24gdXNlTWVkaWEocXVlcmllcykge1xyXG4gICAgY29uc3QgaXNTZXJ2ZXIgPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiO1xyXG4gICAgY29uc3QgYWxsUXVlcmllcyA9IHF1ZXJpZXMuc2xpY2UoMCwgLTEpO1xyXG4gICAgaWYgKHF1ZXJpZXNbcXVlcmllcy5sZW5ndGggLSAxXSAhPT0gXCJkZWZhdWx0XCIpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJsYXN0IG1lZGlhIHF1ZXJ5IHNob3VsZCBiZSAnZGVmYXVsdCdcIik7XHJcbiAgICB9XHJcbiAgICBjb25zdCBbLCBzZXRWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcclxuICAgIGNvbnN0IG1lZGlhUXVlcnlMaXN0cyA9IGlzU2VydmVyXHJcbiAgICAgICAgPyBbXVxyXG4gICAgICAgIDogYWxsUXVlcmllcy5tYXAocSA9PiB3aW5kb3cubWF0Y2hNZWRpYShxKSk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiBzZXRWYWx1ZSh4ID0+IHggKyAxKTtcclxuICAgICAgICBtZWRpYVF1ZXJ5TGlzdHMuZm9yRWFjaChtcWwgPT4gbXFsLmFkZExpc3RlbmVyKGhhbmRsZXIpKTtcclxuICAgICAgICByZXR1cm4gKCkgPT4gbWVkaWFRdWVyeUxpc3RzLmZvckVhY2gobXFsID0+IG1xbC5yZW1vdmVMaXN0ZW5lcihoYW5kbGVyKSk7XHJcbiAgICB9LCBbXSk7XHJcbiAgICBjb25zdCBtYXRjaGVkSW5kZXggPSBtZWRpYVF1ZXJ5TGlzdHMuZmluZEluZGV4KG1xbCA9PiBtcWwubWF0Y2hlcyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGlzU2VydmVyLFxyXG4gICAgICAgIG1hdGNoZWRJbmRleDogbWF0Y2hlZEluZGV4IDwgMCA/IHF1ZXJpZXMubGVuZ3RoIC0gMSA6IG1hdGNoZWRJbmRleCxcclxuICAgIH07XHJcbn1cblxuZnVuY3Rpb24gQ29kZVNsb3QoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChTdGF0aWNTdGVwQ29udGV4dCk7XHJcbiAgICBpZiAoIWNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KElubmVyQ29kZVNsb3QsIE9iamVjdC5hc3NpZ24oe30sIGNvbnRleHQpKTtcclxufVxyXG5mdW5jdGlvbiBJbm5lckNvZGVTbG90KHsgZWRpdG9yU3RlcCwgc2V0Rm9jdXMgfSkge1xyXG4gICAgY29uc3Qgb25UYWJDbGljayA9IChmaWxlbmFtZSkgPT4ge1xyXG4gICAgICAgIHNldEZvY3VzKHsgZmlsZU5hbWU6IGZpbGVuYW1lLCBmb2N1czogbnVsbCwgaWQ6IFwiXCIgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcHJvcHMgPSBfX3Jlc3QoZWRpdG9yU3RlcCwgW1wicHJlc2V0XCIsIFwicHJlc2V0Q29uZmlnXCJdKTtcclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KElubmVyQ29kZSwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHsgb25UYWJDbGljazogb25UYWJDbGljayB9KSk7XHJcbn1cclxuZnVuY3Rpb24gUHJldmlld1Nsb3QoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChTdGF0aWNTdGVwQ29udGV4dCk7XHJcbiAgICBpZiAoIWNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KElubmVyUHJldmlld1Nsb3QsIE9iamVjdC5hc3NpZ24oe30sIGNvbnRleHQpKTtcclxufVxyXG5mdW5jdGlvbiBJbm5lclByZXZpZXdTbG90KHsgcHJldmlld1N0ZXAsIGFsbFByb3BzLCBlZGl0b3JTdGVwLCB9KSB7XHJcbiAgICBjb25zdCBwcm9wcyA9IF9fcmVzdChhbGxQcm9wcywgW1wicHJlc2V0XCJdKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQcmV2aWV3LCBPYmplY3QuYXNzaWduKHsgY2xhc3NOYW1lOiBcImNoLXNjcm9sbHljb2RpbmctcHJldmlld1wiIH0sIHByb3BzLCBwcmV2aWV3U3RlcCA9PT0gbnVsbCB8fCBwcmV2aWV3U3RlcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJldmlld1N0ZXAucHJvcHMsIHsgZmlsZXM6IGVkaXRvclN0ZXAuZmlsZXMgfSkpKTtcclxufVxyXG5jb25zdCBTdGF0aWNTdGVwQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbmZ1bmN0aW9uIFNjcm9sbHljb2RpbmcocHJvcHMpIHtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChTd2FwLCB7IG1hdGNoOiBbXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIHByb3BzLmNvZGVDb25maWcuc3RhdGljTWVkaWFRdWVyeSxcclxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhdGljU2Nyb2xseWNvZGluZywgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgW1wiZGVmYXVsdFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KER5bmFtaWNTY3JvbGx5Y29kaW5nLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpXSxcclxuICAgICAgICBdIH0pKTtcclxufVxyXG5mdW5jdGlvbiBTdGF0aWNTY3JvbGx5Y29kaW5nKF9hKSB7XHJcbiAgICB2YXIgeyBjaGlsZHJlbiwgaGFzUHJldmlld1N0ZXBzLCBlZGl0b3JTdGVwcyB9ID0gX2EsIHJlc3QgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwiaGFzUHJldmlld1N0ZXBzXCIsIFwiZWRpdG9yU3RlcHNcIl0pO1xyXG4gICAgY29uc3QgeyBzdGVwc0NoaWxkcmVuLCBwcmV2aWV3Q2hpbGRyZW4gfSA9IGV4dHJhY3RQcmV2aWV3U3RlcHMoY2hpbGRyZW4sIGhhc1ByZXZpZXdTdGVwcyk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIHsgY2xhc3NOYW1lOiBgY2gtc2Nyb2xseWNvZGluZy1zdGF0aWNgIH0sIHN0ZXBzQ2hpbGRyZW4ubWFwKChjaGlsZHJlbiwgaSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3RhdGljU2VjdGlvbiwgeyBrZXk6IGksIGVkaXRvclN0ZXA6IGVkaXRvclN0ZXBzW2ldLCBwcmV2aWV3U3RlcDogcHJldmlld0NoaWxkcmVuICYmIHByZXZpZXdDaGlsZHJlbltpXSwgYWxsUHJvcHM6IHJlc3QgfSwgY2hpbGRyZW4pKSkpKTtcclxufVxyXG5mdW5jdGlvbiBTdGF0aWNTZWN0aW9uKHsgZWRpdG9yU3RlcCwgcHJldmlld1N0ZXAsIGFsbFByb3BzLCBjaGlsZHJlbiwgfSkge1xyXG4gICAgY29uc3QgW3N0ZXAsIHNldFN0ZXBdID0gUmVhY3QudXNlU3RhdGUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBlZGl0b3JTdGVwKSwgYWxsUHJvcHMpKTtcclxuICAgIGNvbnN0IHJlc2V0Rm9jdXMgPSAoKSA9PiBzZXRTdGVwKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZWRpdG9yU3RlcCksIGFsbFByb3BzKSk7XHJcbiAgICBjb25zdCBzZXRGb2N1cyA9ICh7IGZpbGVOYW1lLCBmb2N1cywgaWQsIH0pID0+IHtcclxuICAgICAgICBjb25zdCBuZXdTdGVwID0gdXBkYXRlRWRpdG9yU3RlcChzdGVwLCBmaWxlTmFtZSwgZm9jdXMpO1xyXG4gICAgICAgIHNldFN0ZXAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0ZXApLCBuZXdTdGVwKSwgeyBzZWxlY3RlZElkOiBpZCB9KSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFN0YXRpY1N0ZXBDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7XHJcbiAgICAgICAgICAgIGVkaXRvclN0ZXA6IHN0ZXAsXHJcbiAgICAgICAgICAgIHByZXZpZXdTdGVwOiBwcmV2aWV3U3RlcCxcclxuICAgICAgICAgICAgYWxsUHJvcHMsXHJcbiAgICAgICAgICAgIHNldEZvY3VzLFxyXG4gICAgICAgIH0gfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpbmthYmxlU2VjdGlvbiwgeyBvbkFjdGl2YXRpb246IHNldEZvY3VzLCBvblJlc2V0OiByZXNldEZvY3VzIH0sIGNoaWxkcmVuKSkpO1xyXG59XHJcbmZ1bmN0aW9uIER5bmFtaWNTY3JvbGx5Y29kaW5nKF9hKSB7XHJcbiAgICB2YXIgeyBjaGlsZHJlbiwgZWRpdG9yU3RlcHMsIGNvZGVDb25maWcsIHByZXNldENvbmZpZywgc3RhcnQgPSAwLCBjbGFzc05hbWUsIHN0eWxlLCBoYXNQcmV2aWV3U3RlcHMgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiLCBcImVkaXRvclN0ZXBzXCIsIFwiY29kZUNvbmZpZ1wiLCBcInByZXNldENvbmZpZ1wiLCBcInN0YXJ0XCIsIFwiY2xhc3NOYW1lXCIsIFwic3R5bGVcIiwgXCJoYXNQcmV2aWV3U3RlcHNcIl0pO1xyXG4gICAgY29uc3QgeyBzdGVwc0NoaWxkcmVuLCBwcmV2aWV3Q2hpbGRyZW4gfSA9IGV4dHJhY3RQcmV2aWV3U3RlcHMoY2hpbGRyZW4sIGhhc1ByZXZpZXdTdGVwcyk7XHJcbiAgICBjb25zdCB3aXRoUHJldmlldyA9IHByZXNldENvbmZpZyB8fCBoYXNQcmV2aWV3U3RlcHM7XHJcbiAgICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKHtcclxuICAgICAgICBzdGVwSW5kZXg6IHN0YXJ0LFxyXG4gICAgICAgIHN0ZXA6IGVkaXRvclN0ZXBzW3N0YXJ0XSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgdGFiID0gc3RhdGUuc3RlcDtcclxuICAgIGZ1bmN0aW9uIG9uU3RlcENoYW5nZShpbmRleCkge1xyXG4gICAgICAgIHNldFN0YXRlKHsgc3RlcEluZGV4OiBpbmRleCwgc3RlcDogZWRpdG9yU3RlcHNbaW5kZXhdIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gb25UYWJDbGljayhmaWxlbmFtZSkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0ZXAgPSB1cGRhdGVFZGl0b3JTdGVwKHN0YXRlLnN0ZXAsIGZpbGVuYW1lLCBudWxsKTtcclxuICAgICAgICBzZXRTdGF0ZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyBzdGVwOiBuZXdTdGVwIH0pKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG9uTGlua0FjdGl2YXRpb24oc3RlcEluZGV4LCBmaWxlbmFtZSwgZm9jdXMpIHtcclxuICAgICAgICBjb25zdCBuZXdTdGVwID0gdXBkYXRlRWRpdG9yU3RlcChlZGl0b3JTdGVwc1tzdGVwSW5kZXhdLCBmaWxlbmFtZSwgZm9jdXMpO1xyXG4gICAgICAgIHNldFN0YXRlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHN0ZXBJbmRleCwgc3RlcDogbmV3U3RlcCB9KSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIsIHsgY2xhc3NOYW1lOiBgY2gtc2Nyb2xseWNvZGluZyAke3dpdGhQcmV2aWV3ID8gXCJjaC1zY3JvbGx5Y29kaW5nLXdpdGgtcHJldmlld1wiIDogXCJcIn0gJHtjbGFzc05hbWUgfHwgXCJcIn1gLCBzdHlsZTogc3R5bGUgfSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoLXNjcm9sbHljb2RpbmctY29udGVudFwiIH0sXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2Nyb2xsZXIsIHsgb25TdGVwQ2hhbmdlOiBvblN0ZXBDaGFuZ2UgfSwgc3RlcHNDaGlsZHJlbi5tYXAoKGNoaWxkcmVuLCBpKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChTdGVwLCB7IGFzOiBcImRpdlwiLCBrZXk6IGksIGluZGV4OiBpLCBvbkNsaWNrOiAoKSA9PiBvblN0ZXBDaGFuZ2UoaSksIGNsYXNzTmFtZTogXCJjaC1zY3JvbGx5Y29kaW5nLXN0ZXAtY29udGVudFwiLCBcImRhdGEtc2VsZWN0ZWRcIjogaSA9PT0gc3RhdGUuc3RlcEluZGV4ID8gXCJ0cnVlXCIgOiB1bmRlZmluZWQgfSxcclxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlua2FibGVTZWN0aW9uLCB7IG9uQWN0aXZhdGlvbjogKHsgZmlsZU5hbWUsIGZvY3VzIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25MaW5rQWN0aXZhdGlvbihpLCBmaWxlTmFtZSwgZm9jdXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIG9uUmVzZXQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25TdGVwQ2hhbmdlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gfSwgY2hpbGRyZW4pKSkpKSksXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaC1zY3JvbGx5Y29kaW5nLXN0aWNrZXJcIiB9LFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KElubmVyQ29kZSwgT2JqZWN0LmFzc2lnbih7IHNob3dFeHBhbmRCdXR0b246IHRydWUgfSwgcmVzdCwgdGFiLCB7IGNvZGVDb25maWc6IGNvZGVDb25maWcsIG9uVGFiQ2xpY2s6IG9uVGFiQ2xpY2sgfSkpLFxyXG4gICAgICAgICAgICBwcmVzZXRDb25maWcgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChQcmV2aWV3LCB7IGNsYXNzTmFtZTogXCJjaC1zY3JvbGx5Y29kaW5nLXByZXZpZXdcIiwgZmlsZXM6IHRhYi5maWxlcywgcHJlc2V0Q29uZmlnOiBwcmVzZXRDb25maWcsIGNvZGVDb25maWc6IGNvZGVDb25maWcgfSkpIDogaGFzUHJldmlld1N0ZXBzID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJldmlldywgT2JqZWN0LmFzc2lnbih7IGNsYXNzTmFtZTogXCJjaC1zY3JvbGx5Y29kaW5nLXByZXZpZXdcIiB9LCBwcmV2aWV3Q2hpbGRyZW5bc3RhdGUuc3RlcEluZGV4XVtcInByb3BzXCJdKSkpIDogbnVsbCkpKTtcclxufVxuXG5mdW5jdGlvbiBTbGlkZXNob3coX2EpIHtcclxuICAgIHZhciB7IGNoaWxkcmVuLCBjbGFzc05hbWUsIGNvZGUsIGNvZGVDb25maWcsIGVkaXRvclN0ZXBzLCBhdXRvRm9jdXMsIGhhc1ByZXZpZXdTdGVwcywgXHJcbiAgICAvLyBTZXQgdGhlIGluaXRpYWwgc2xpZGUgaW5kZXhcclxuICAgIHN0YXJ0ID0gMCwgXHJcbiAgICAvLyBDYWxsZWQgd2hlbiB0aGUgc2xpZGVzaG93IHN0YXRlIGNoYW5nZXMgYW5kIHJldHVybnMgdGhlIGN1cnJlbnQgc3RhdGUgb2JqZWN0XHJcbiAgICBvbkNoYW5nZTogb25TbGlkZXNob3dDaGFuZ2UgPSAoKSA9PiB7IH0sIHByZXNldENvbmZpZywgc3R5bGUsIGF1dG9QbGF5LCBsb29wID0gZmFsc2UgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImNvZGVcIiwgXCJjb2RlQ29uZmlnXCIsIFwiZWRpdG9yU3RlcHNcIiwgXCJhdXRvRm9jdXNcIiwgXCJoYXNQcmV2aWV3U3RlcHNcIiwgXCJzdGFydFwiLCBcIm9uQ2hhbmdlXCIsIFwicHJlc2V0Q29uZmlnXCIsIFwic3R5bGVcIiwgXCJhdXRvUGxheVwiLCBcImxvb3BcIl0pO1xyXG4gICAgY29uc3QgeyBzdGVwc0NoaWxkcmVuLCBwcmV2aWV3Q2hpbGRyZW4gfSA9IGV4dHJhY3RQcmV2aWV3U3RlcHMoY2hpbGRyZW4sIGhhc1ByZXZpZXdTdGVwcyk7XHJcbiAgICBjb25zdCB3aXRoUHJldmlldyA9IHByZXNldENvbmZpZyB8fCBoYXNQcmV2aWV3U3RlcHM7XHJcbiAgICBjb25zdCBoYXNOb3RlcyA9IHN0ZXBzQ2hpbGRyZW4uc29tZSgoY2hpbGQpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gY2hpbGQucHJvcHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jaGlsZHJlbjsgfSk7XHJcbiAgICBjb25zdCBtYXhTdGVwcyA9IGVkaXRvclN0ZXBzLmxlbmd0aCAtIDE7XHJcbiAgICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKCgpID0+IHtcclxuICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gY2xhbXAkMihzdGFydCwgMCwgbWF4U3RlcHMpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0ZXBJbmRleDogc3RhcnRJbmRleCxcclxuICAgICAgICAgICAgc3RlcDogZWRpdG9yU3RlcHNbc3RhcnRJbmRleF0sXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgeyBzdGVwSW5kZXg6IGN1cnJlbnRJbmRleCwgc3RlcDogdGFiIH0gPSBzdGF0ZTtcclxuICAgIGNvbnN0IGF0U2xpZGVzaG93RW5kID0gY3VycmVudEluZGV4ID09PSBtYXhTdGVwcztcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgb25TbGlkZXNob3dDaGFuZ2UoeyBpbmRleDogY3VycmVudEluZGV4IH0pO1xyXG4gICAgfSwgW2N1cnJlbnRJbmRleF0pO1xyXG4gICAgZnVuY3Rpb24gb25UYWJDbGljayhmaWxlbmFtZSkge1xyXG4gICAgICAgIGNvbnN0IG5ld1N0ZXAgPSB1cGRhdGVFZGl0b3JTdGVwKHRhYiwgZmlsZW5hbWUsIG51bGwpO1xyXG4gICAgICAgIHNldFN0YXRlKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHN0ZXA6IG5ld1N0ZXAgfSkpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2V0SW5kZXgobmV3SW5kZXgpIHtcclxuICAgICAgICBjb25zdCBzdGVwSW5kZXggPSBjbGFtcCQyKG5ld0luZGV4LCAwLCBtYXhTdGVwcyk7XHJcbiAgICAgICAgc2V0U3RhdGUoeyBzdGVwSW5kZXgsIHN0ZXA6IGVkaXRvclN0ZXBzW3N0ZXBJbmRleF0gfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBuZXh0U2xpZGUoKSB7XHJcbiAgICAgICAgc2V0U3RhdGUocyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0ZXBJbmRleCA9IGxvb3BcclxuICAgICAgICAgICAgICAgID8gKHMuc3RlcEluZGV4ICsgMSkgJSAobWF4U3RlcHMgKyAxKVxyXG4gICAgICAgICAgICAgICAgOiBjbGFtcCQyKHMuc3RlcEluZGV4ICsgMSwgMCwgbWF4U3RlcHMpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RlcEluZGV4LFxyXG4gICAgICAgICAgICAgICAgc3RlcDogZWRpdG9yU3RlcHNbc3RlcEluZGV4XSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHVzZUludGVydmFsKG5leHRTbGlkZSwgYXV0b1BsYXkpO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgY2gtc2xpZGVzaG93ICR7d2l0aFByZXZpZXcgPyBcImNoLXNsaWRlc2hvdy13aXRoLXByZXZpZXdcIiA6IFwiXCJ9ICR7Y2xhc3NOYW1lIHx8IFwiXCJ9YCwgc3R5bGU6IHN0eWxlIH0sXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjaC1zbGlkZXNob3ctc2xpZGVcIiB9LFxyXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KElubmVyQ29kZSwgT2JqZWN0LmFzc2lnbih7fSwgcmVzdCwgdGFiLCB7IGNvZGVDb25maWc6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29kZUNvbmZpZyksIGNvZGUpLCBvblRhYkNsaWNrOiBvblRhYkNsaWNrIH0pKSxcclxuICAgICAgICAgICAgcHJlc2V0Q29uZmlnID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJldmlldywgeyBjbGFzc05hbWU6IFwiY2gtc2xpZGVzaG93LXByZXZpZXdcIiwgZmlsZXM6IHRhYi5maWxlcywgcHJlc2V0Q29uZmlnOiBwcmVzZXRDb25maWcsIGNvZGVDb25maWc6IGNvZGVDb25maWcgfSkpIDogaGFzUHJldmlld1N0ZXBzID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJldmlldywgT2JqZWN0LmFzc2lnbih7IGNsYXNzTmFtZTogXCJjaC1zbGlkZXNob3ctcHJldmlld1wiIH0sIHByZXZpZXdDaGlsZHJlbltjdXJyZW50SW5kZXhdW1wicHJvcHNcIl0pKSkgOiBudWxsKSxcclxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNoLXNsaWRlc2hvdy1ub3Rlc1wiIH0sXHJcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2gtc2xpZGVzaG93LXJhbmdlXCIgfSxcclxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRJbmRleChjdXJyZW50SW5kZXggLSAxKSwgZGlzYWJsZWQ6IGN1cnJlbnRJbmRleCA9PT0gMCB9LCBcIlByZXZcIiksXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyBtYXg6IG1heFN0ZXBzLCBtaW46IDAsIHN0ZXA6IDEsIHR5cGU6IFwicmFuZ2VcIiwgdmFsdWU6IGN1cnJlbnRJbmRleCwgb25DaGFuZ2U6IGUgPT4gc2V0SW5kZXgoK2UudGFyZ2V0LnZhbHVlKSwgcmVmOiB1c2VBdXRvRm9jdXNSZWYoYXV0b0ZvY3VzKSwgYXV0b0ZvY3VzOiBhdXRvRm9jdXMgfSksXHJcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgb25DbGljazogbmV4dFNsaWRlLCBkaXNhYmxlZDogYXRTbGlkZXNob3dFbmQgfSwgXCJOZXh0XCIpKSxcclxuICAgICAgICAgICAgaGFzTm90ZXMgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2gtc2xpZGVzaG93LW5vdGVcIiB9LCBzdGVwc0NoaWxkcmVuW2N1cnJlbnRJbmRleF0pKSkpKTtcclxufVxyXG5mdW5jdGlvbiB1c2VBdXRvRm9jdXNSZWYoYXV0b0ZvY3VzKSB7XHJcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGF1dG9Gb2N1cyAmJiByZWYuY3VycmVudC5mb2N1cygpO1xyXG4gICAgfSwgW10pO1xyXG4gICAgcmV0dXJuIHJlZjtcclxufVxuXG5mdW5jdGlvbiBBbm5vdGF0aW9uKCkge1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIFwiXFxcImVycm9yOiBjb2RlIGhpa2UgcmVtYXJrIHBsdWdpbiBub3QgcnVubmluZyBvciBhbm5vdGF0aW9uIGlzbid0IGF0IHRoZSByaWdodCBwbGFjZVxcXCJcIikpO1xyXG59XHJcbmNvbnN0IGFubm90YXRpb25zTWFwID0ge1xyXG4gICAgYm94OiBCb3gsXHJcbiAgICBiZzogTXVsdGlsaW5lTWFyayxcclxuICAgIGxhYmVsOiBMYWJlbCxcclxuICAgIGxpbms6IENvZGVMaW5rLFxyXG4gICAgbWFyazogTWFyayxcclxuICAgIHdpdGhDbGFzczogV2l0aENsYXNzLFxyXG59O1xyXG5mdW5jdGlvbiBNYXJrKHByb3BzKSB7XHJcbiAgICBpZiAocHJvcHMuaXNJbmxpbmUpIHtcclxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJbmxpbmVNYXJrLCBPYmplY3QuYXNzaWduKHt9LCBwcm9wcykpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTXVsdGlsaW5lTWFyaywgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBNdWx0aWxpbmVNYXJrKHsgY2hpbGRyZW4sIGRhdGEsIHN0eWxlLCB0aGVtZSwgfSkge1xyXG4gICAgY29uc3QgY2xhc3NOYW1lID0gYGNoLWNvZGUtbXVsdGlsaW5lLW1hcmsgYCArIChkYXRhICE9PSBudWxsICYmIGRhdGEgIT09IHZvaWQgMCA/IGRhdGEgOiBcIlwiKTtcclxuICAgIGNvbnN0IGJnID0gZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5SYW5nZUhpZ2hsaWdodEJhY2tncm91bmQpO1xyXG4gICAgY29uc3QgYm9yZGVyID0gZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5FZGl0b3JJbmZvRm9yZWdyb3VuZCk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdHlsZSksIHsgYmFja2dyb3VuZDogYmcgfSksIGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXHJcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiY2gtY29kZS1tdWx0aWxpbmUtbWFyay1ib3JkZXJcIiwgc3R5bGU6IHsgYmFja2dyb3VuZDogYm9yZGVyIH0gfSksXHJcbiAgICAgICAgY2hpbGRyZW4pKTtcclxufVxyXG5mdW5jdGlvbiBJbmxpbmVNYXJrKHsgY2hpbGRyZW4sIGRhdGEsIHRoZW1lLCB9KSB7XHJcbiAgICBjb25zdCBiZyA9IHRyeUd1ZXNzQ29sb3IoY2hpbGRyZW4pIHx8XHJcbiAgICAgICAgdHJhbnNwYXJlbnQoZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5Db2RlRm9yZWdyb3VuZCksIDAuMik7XHJcbiAgICBjb25zdCBjbGFzc05hbWUgPSBcImNoLWNvZGUtaW5saW5lLW1hcmsgXCIgKyAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB2b2lkIDAgPyBkYXRhIDogXCJcIik7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHN0eWxlOiB7IGJhY2tncm91bmQ6IGJnIH0gfSwgY2hpbGRyZW4pKTtcclxufVxyXG5mdW5jdGlvbiB0cnlHdWVzc0NvbG9yKGNoaWxkcmVuKSB7XHJcbiAgICB2YXIgX2EsIF9iLCBfYztcclxuICAgIGNvbnN0IGNoaWxkID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbilbMF07XHJcbiAgICBjb25zdCBncmFuZENoaWxkID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheSgoKF9hID0gY2hpbGQgPT09IG51bGwgfHwgY2hpbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoaWxkLnByb3BzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hpbGRyZW4pIHx8IFtdKVswXTtcclxuICAgIGNvbnN0IGdyYW5kR3JhbmRDaGlsZCA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoKChfYiA9IGdyYW5kQ2hpbGQgPT09IG51bGwgfHwgZ3JhbmRDaGlsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ3JhbmRDaGlsZC5wcm9wcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNoaWxkcmVuKSB8fCBbXSlbMF07XHJcbiAgICBjb25zdCB7IGNvbG9yIH0gPSAoKF9jID0gZ3JhbmRHcmFuZENoaWxkID09PSBudWxsIHx8IGdyYW5kR3JhbmRDaGlsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ3JhbmRHcmFuZENoaWxkLnByb3BzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc3R5bGUpIHx8IHt9O1xyXG4gICAgaWYgKGNvbG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYW5zcGFyZW50KGNvbG9yLCAwLjIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxufVxyXG5mdW5jdGlvbiBCb3goeyBjaGlsZHJlbiwgZGF0YSwgdGhlbWUsIH0pIHtcclxuICAgIHZhciBfYSwgX2I7XHJcbiAgICBjb25zdCBib3JkZXIgPSB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgID8gZGF0YVxyXG4gICAgICAgIDogKChfYiA9IChfYSA9IHRoZW1lLnRva2VuQ29sb3JzLmZpbmQoKHRjKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHRjLnNjb3BlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5jbHVkZXMoXCJzdHJpbmdcIik7IH0pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0dGluZ3MpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5mb3JlZ3JvdW5kKSB8fCBcInllbGxvd1wiO1xyXG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjaC1jb2RlLWJveC1hbm5vdGF0aW9uXCIsIHN0eWxlOiB7IG91dGxpbmU6IGAycHggc29saWQgJHtib3JkZXJ9YCB9IH0sIGNoaWxkcmVuKSk7XHJcbn1cclxuZnVuY3Rpb24gV2l0aENsYXNzKHsgY2hpbGRyZW4sIGRhdGEsIHN0eWxlLCB0aGVtZSwgfSkge1xyXG4gICAgY29uc3QgY2xhc3NOYW1lID0gZGF0YTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBzdHlsZTogc3R5bGUsIGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sIGNoaWxkcmVuKSk7XHJcbn1cclxuZnVuY3Rpb24gTGFiZWwoeyBjaGlsZHJlbiwgZGF0YSwgc3R5bGUsIHRoZW1lLCB9KSB7XHJcbiAgICBjb25zdCBiZyA9ICh0aGVtZS5jb2xvcnNbXCJlZGl0b3IubGluZUhpZ2hsaWdodEJhY2tncm91bmRcIl0gfHxcclxuICAgICAgICB0aGVtZS5jb2xvcnNbXCJlZGl0b3Iuc2VsZWN0aW9uSGlnaGxpZ2h0QmFja2dyb3VuZFwiXSk7XHJcbiAgICBjb25zdCBbaG92ZXIsIHNldEhvdmVyXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0eWxlKSwgeyBiYWNrZ3JvdW5kOiBob3ZlciA/IGJnIDogdW5kZWZpbmVkIH0pLCBvbk1vdXNlRW50ZXI6ICgpID0+IHNldEhvdmVyKHRydWUpLCBvbk1vdXNlTGVhdmU6ICgpID0+IHNldEhvdmVyKGZhbHNlKSB9LFxyXG4gICAgICAgIGNoaWxkcmVuLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAxNixcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGhvdmVyID8gXCJibG9ja1wiIDogXCJub25lXCIsXHJcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjcsXHJcbiAgICAgICAgICAgIH0gfSwgKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5jaGlsZHJlbikgfHwgZGF0YSkpKTtcclxufVxyXG5mdW5jdGlvbiBDb2RlTGluayh7IGNoaWxkcmVuLCBpc0lubGluZSwgc3R5bGUsIGRhdGEsIH0pIHtcclxuICAgIGNvbnN0IHVybCA9IChkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEudXJsKSB8fCBkYXRhO1xyXG4gICAgY29uc3QgdGl0bGUgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEudGl0bGU7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHsgaHJlZjogdXJsLCB0aXRsZTogdGl0bGUsIGNsYXNzTmFtZTogaXNJbmxpbmUgPyBcImNoLWNvZGUtaW5saW5lLWxpbmtcIiA6IFwiY2gtY29kZS1saW5rXCIsIHN0eWxlOiBzdHlsZSB9LCBjaGlsZHJlbikpO1xyXG59XG5cbmZ1bmN0aW9uIElubGluZUNvZGUoX2EpIHtcclxuICAgIHZhciB7IGNsYXNzTmFtZSwgY29kZUNvbmZpZywgY2hpbGRyZW4sIGNvZGUgfSA9IF9hLCByZXN0ID0gX19yZXN0KF9hLCBbXCJjbGFzc05hbWVcIiwgXCJjb2RlQ29uZmlnXCIsIFwiY2hpbGRyZW5cIiwgXCJjb2RlXCJdKTtcclxuICAgIGNvbnN0IHsgdGhlbWUgfSA9IGNvZGVDb25maWc7XHJcbiAgICBjb25zdCB7IGxpbmVzIH0gPSBjb2RlO1xyXG4gICAgY29uc3QgYWxsVG9rZW5zID0gbGluZXMuZmxhdE1hcChsaW5lID0+IGxpbmUudG9rZW5zKTtcclxuICAgIGNvbnN0IGZvcmVncm91bmQgPSBnZXRDb2xvcih0aGVtZSwgQ29sb3JOYW1lLkNvZGVGb3JlZ3JvdW5kKTtcclxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgT2JqZWN0LmFzc2lnbih7IGNsYXNzTmFtZTogXCJjaC1pbmxpbmUtY29kZSBub3QtcHJvc2VcIiArXHJcbiAgICAgICAgICAgIChjbGFzc05hbWUgPyBcIiBcIiArIGNsYXNzTmFtZSA6IFwiXCIpIH0sIHJlc3QpLFxyXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIHsgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIFtcIi0tY2gtY29kZS1mb3JlZ3JvdW5kXCJdOiBmb3JlZ3JvdW5kLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQoZ2V0Q29sb3IodGhlbWUsIENvbG9yTmFtZS5Db2RlQmFja2dyb3VuZCksIDAuOSksXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogZm9yZWdyb3VuZCxcclxuICAgICAgICAgICAgfSB9LCBhbGxUb2tlbnMubWFwKCh0b2tlbiwgaikgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIE9iamVjdC5hc3NpZ24oeyBrZXk6IGogfSwgdG9rZW4ucHJvcHMpLCB0b2tlbi5jb250ZW50KSkpKSkpO1xyXG59XG5cbmNvbnN0IENIID0ge1xyXG4gICAgQ29kZSxcclxuICAgIFNlY3Rpb24sXHJcbiAgICBTZWN0aW9uTGluayxcclxuICAgIFNlY3Rpb25Db2RlLFxyXG4gICAgU3BvdGxpZ2h0LFxyXG4gICAgU2Nyb2xseWNvZGluZyxcclxuICAgIFByZXZpZXcsXHJcbiAgICBhbm5vdGF0aW9uczogYW5ub3RhdGlvbnNNYXAsXHJcbiAgICBBbm5vdGF0aW9uLFxyXG4gICAgU2xpZGVzaG93LFxyXG4gICAgSW5saW5lQ29kZSxcclxuICAgIENvZGVTbG90LFxyXG4gICAgUHJldmlld1Nsb3QsXHJcbn07XHJcbmNvbnN0IGludGVybmFsID0ge1xyXG4gICAgTWluaUJyb3dzZXIsXHJcbiAgICBFZGl0b3JTcHJpbmcsXHJcbn07XG5cbmV4cG9ydCB7IEFubm90YXRpb24sIENILCBDb2RlLCBDb2RlU2xvdCwgSW5saW5lQ29kZSwgUHJldmlldywgUHJldmlld1Nsb3QsIFNjcm9sbHljb2RpbmcsIFNlY3Rpb24sIFNlY3Rpb25Db2RlLCBTZWN0aW9uTGluaywgU2xpZGVzaG93LCBTcG90bGlnaHQsIGFubm90YXRpb25zTWFwIGFzIGFubm90YXRpb25zLCBpbnRlcm5hbCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@code-hike/mdx/dist/components.esm.mjs\n"));

/***/ }),

/***/ "./node_modules/@mdx-js/react/index.js":
/*!*********************************************!*\
  !*** ./node_modules/@mdx-js/react/index.js ***!
  \*********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MDXContext\": function() { return /* reexport safe */ _lib_index_js__WEBPACK_IMPORTED_MODULE_0__.MDXContext; },\n/* harmony export */   \"MDXProvider\": function() { return /* reexport safe */ _lib_index_js__WEBPACK_IMPORTED_MODULE_0__.MDXProvider; },\n/* harmony export */   \"useMDXComponents\": function() { return /* reexport safe */ _lib_index_js__WEBPACK_IMPORTED_MODULE_0__.useMDXComponents; },\n/* harmony export */   \"withMDXComponents\": function() { return /* reexport safe */ _lib_index_js__WEBPACK_IMPORTED_MODULE_0__.withMDXComponents; }\n/* harmony export */ });\n/* harmony import */ var _lib_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/index.js */ \"./node_modules/@mdx-js/react/lib/index.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1keC1qcy9yZWFjdC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUt1QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQG1keC1qcy9yZWFjdC9pbmRleC5qcz8xMDg5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7XG4gIE1EWENvbnRleHQsXG4gIE1EWFByb3ZpZGVyLFxuICB1c2VNRFhDb21wb25lbnRzLFxuICB3aXRoTURYQ29tcG9uZW50c1xufSBmcm9tICcuL2xpYi9pbmRleC5qcydcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@mdx-js/react/index.js\n"));

/***/ }),

/***/ "./node_modules/@mdx-js/react/lib/index.js":
/*!*************************************************!*\
  !*** ./node_modules/@mdx-js/react/lib/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MDXContext\": function() { return /* binding */ MDXContext; },\n/* harmony export */   \"MDXProvider\": function() { return /* binding */ MDXProvider; },\n/* harmony export */   \"useMDXComponents\": function() { return /* binding */ useMDXComponents; },\n/* harmony export */   \"withMDXComponents\": function() { return /* binding */ withMDXComponents; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/**\n * @typedef {import('react').ReactNode} ReactNode\n * @typedef {import('mdx/types.js').MDXComponents} Components\n *\n * @typedef Props\n *   Configuration.\n * @property {Components | MergeComponents | null | undefined} [components]\n *   Mapping of names for JSX components to React components.\n * @property {boolean | null | undefined} [disableParentContext=false]\n *   Turn off outer component context.\n * @property {ReactNode | null | undefined} [children]\n *   Children.\n *\n * @callback MergeComponents\n *   Custom merge function.\n * @param {Components} currentComponents\n *   Current components from the context.\n * @returns {Components}\n *   Merged components.\n */\n\n\n\n/**\n * @type {import('react').Context<Components>}\n * @deprecated\n *   This export is marked as a legacy feature.\n *   That means it’s no longer recommended for use as it might be removed\n *   in a future major release.\n *\n *   Please use `useMDXComponents` to get context based components and\n *   `MDXProvider` to set context based components instead.\n */\nconst MDXContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext({})\n\n/**\n * @param {import('react').ComponentType<any>} Component\n * @deprecated\n *   This export is marked as a legacy feature.\n *   That means it’s no longer recommended for use as it might be removed\n *   in a future major release.\n *\n *   Please use `useMDXComponents` to get context based components instead.\n */\nfunction withMDXComponents(Component) {\n  return boundMDXComponent\n\n  /**\n   * @param {Record<string, unknown> & {components?: Components | null | undefined}} props\n   * @returns {JSX.Element}\n   */\n  function boundMDXComponent(props) {\n    const allComponents = useMDXComponents(props.components)\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {...props, allComponents})\n  }\n}\n\n/**\n * Get current components from the MDX Context.\n *\n * @param {Components | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that takes the current\n *   components and filters/merges/changes them.\n * @returns {Components}\n *   Current components.\n */\nfunction useMDXComponents(components) {\n  const contextComponents = react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext)\n\n  // Memoize to avoid unnecessary top-level context changes\n  return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    // Custom merge via a function prop\n    if (typeof components === 'function') {\n      return components(contextComponents)\n    }\n\n    return {...contextComponents, ...components}\n  }, [contextComponents, components])\n}\n\n/** @type {Components} */\nconst emptyObject = {}\n\n/**\n * Provider for MDX context\n *\n * @param {Props} props\n * @returns {JSX.Element}\n */\nfunction MDXProvider({components, children, disableParentContext}) {\n  /** @type {Components} */\n  let allComponents\n\n  if (disableParentContext) {\n    allComponents =\n      typeof components === 'function'\n        ? components({})\n        : components || emptyObject\n  } else {\n    allComponents = useMDXComponents(components)\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    MDXContext.Provider,\n    {value: allComponents},\n    children\n  )\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1keC1qcy9yZWFjdC9saWIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBLGFBQWEsMkJBQTJCO0FBQ3hDLGFBQWEsc0NBQXNDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaURBQWlEO0FBQy9EO0FBQ0EsY0FBYyw0QkFBNEI7QUFDMUM7QUFDQSxjQUFjLDhCQUE4QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUV5Qjs7QUFFekI7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLG1CQUFtQixnREFBbUIsR0FBRzs7QUFFaEQ7QUFDQSxXQUFXLG9DQUFvQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7O0FBRUE7QUFDQSxhQUFhLDJCQUEyQiw2Q0FBNkM7QUFDckYsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0RBQW1CLGFBQWEsd0JBQXdCO0FBQ25FO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpREFBaUQ7QUFDNUQ7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ087QUFDUCw0QkFBNEIsNkNBQWdCOztBQUU1QztBQUNBLFNBQVMsMENBQWE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaLEdBQUc7QUFDSDs7QUFFQSxXQUFXLFlBQVk7QUFDdkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNPLHNCQUFzQiwyQ0FBMkM7QUFDeEUsYUFBYSxZQUFZO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBLFNBQVMsZ0RBQW1CO0FBQzVCO0FBQ0EsS0FBSyxxQkFBcUI7QUFDMUI7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbWR4LWpzL3JlYWN0L2xpYi9pbmRleC5qcz9kMDE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgncmVhY3QnKS5SZWFjdE5vZGV9IFJlYWN0Tm9kZVxuICogQHR5cGVkZWYge2ltcG9ydCgnbWR4L3R5cGVzLmpzJykuTURYQ29tcG9uZW50c30gQ29tcG9uZW50c1xuICpcbiAqIEB0eXBlZGVmIFByb3BzXG4gKiAgIENvbmZpZ3VyYXRpb24uXG4gKiBAcHJvcGVydHkge0NvbXBvbmVudHMgfCBNZXJnZUNvbXBvbmVudHMgfCBudWxsIHwgdW5kZWZpbmVkfSBbY29tcG9uZW50c11cbiAqICAgTWFwcGluZyBvZiBuYW1lcyBmb3IgSlNYIGNvbXBvbmVudHMgdG8gUmVhY3QgY29tcG9uZW50cy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWR9IFtkaXNhYmxlUGFyZW50Q29udGV4dD1mYWxzZV1cbiAqICAgVHVybiBvZmYgb3V0ZXIgY29tcG9uZW50IGNvbnRleHQuXG4gKiBAcHJvcGVydHkge1JlYWN0Tm9kZSB8IG51bGwgfCB1bmRlZmluZWR9IFtjaGlsZHJlbl1cbiAqICAgQ2hpbGRyZW4uXG4gKlxuICogQGNhbGxiYWNrIE1lcmdlQ29tcG9uZW50c1xuICogICBDdXN0b20gbWVyZ2UgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0NvbXBvbmVudHN9IGN1cnJlbnRDb21wb25lbnRzXG4gKiAgIEN1cnJlbnQgY29tcG9uZW50cyBmcm9tIHRoZSBjb250ZXh0LlxuICogQHJldHVybnMge0NvbXBvbmVudHN9XG4gKiAgIE1lcmdlZCBjb21wb25lbnRzLlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KCdyZWFjdCcpLkNvbnRleHQ8Q29tcG9uZW50cz59XG4gKiBAZGVwcmVjYXRlZFxuICogICBUaGlzIGV4cG9ydCBpcyBtYXJrZWQgYXMgYSBsZWdhY3kgZmVhdHVyZS5cbiAqICAgVGhhdCBtZWFucyBpdOKAmXMgbm8gbG9uZ2VyIHJlY29tbWVuZGVkIGZvciB1c2UgYXMgaXQgbWlnaHQgYmUgcmVtb3ZlZFxuICogICBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLlxuICpcbiAqICAgUGxlYXNlIHVzZSBgdXNlTURYQ29tcG9uZW50c2AgdG8gZ2V0IGNvbnRleHQgYmFzZWQgY29tcG9uZW50cyBhbmRcbiAqICAgYE1EWFByb3ZpZGVyYCB0byBzZXQgY29udGV4dCBiYXNlZCBjb21wb25lbnRzIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBNRFhDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7fSlcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgncmVhY3QnKS5Db21wb25lbnRUeXBlPGFueT59IENvbXBvbmVudFxuICogQGRlcHJlY2F0ZWRcbiAqICAgVGhpcyBleHBvcnQgaXMgbWFya2VkIGFzIGEgbGVnYWN5IGZlYXR1cmUuXG4gKiAgIFRoYXQgbWVhbnMgaXTigJlzIG5vIGxvbmdlciByZWNvbW1lbmRlZCBmb3IgdXNlIGFzIGl0IG1pZ2h0IGJlIHJlbW92ZWRcbiAqICAgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS5cbiAqXG4gKiAgIFBsZWFzZSB1c2UgYHVzZU1EWENvbXBvbmVudHNgIHRvIGdldCBjb250ZXh0IGJhc2VkIGNvbXBvbmVudHMgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhNRFhDb21wb25lbnRzKENvbXBvbmVudCkge1xuICByZXR1cm4gYm91bmRNRFhDb21wb25lbnRcblxuICAvKipcbiAgICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiAmIHtjb21wb25lbnRzPzogQ29tcG9uZW50cyB8IG51bGwgfCB1bmRlZmluZWR9fSBwcm9wc1xuICAgKiBAcmV0dXJucyB7SlNYLkVsZW1lbnR9XG4gICAqL1xuICBmdW5jdGlvbiBib3VuZE1EWENvbXBvbmVudChwcm9wcykge1xuICAgIGNvbnN0IGFsbENvbXBvbmVudHMgPSB1c2VNRFhDb21wb25lbnRzKHByb3BzLmNvbXBvbmVudHMpXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7Li4ucHJvcHMsIGFsbENvbXBvbmVudHN9KVxuICB9XG59XG5cbi8qKlxuICogR2V0IGN1cnJlbnQgY29tcG9uZW50cyBmcm9tIHRoZSBNRFggQ29udGV4dC5cbiAqXG4gKiBAcGFyYW0ge0NvbXBvbmVudHMgfCBNZXJnZUNvbXBvbmVudHMgfCBudWxsIHwgdW5kZWZpbmVkfSBbY29tcG9uZW50c11cbiAqICAgQWRkaXRpb25hbCBjb21wb25lbnRzIHRvIHVzZSBvciBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIGN1cnJlbnRcbiAqICAgY29tcG9uZW50cyBhbmQgZmlsdGVycy9tZXJnZXMvY2hhbmdlcyB0aGVtLlxuICogQHJldHVybnMge0NvbXBvbmVudHN9XG4gKiAgIEN1cnJlbnQgY29tcG9uZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1EWENvbXBvbmVudHMoY29tcG9uZW50cykge1xuICBjb25zdCBjb250ZXh0Q29tcG9uZW50cyA9IFJlYWN0LnVzZUNvbnRleHQoTURYQ29udGV4dClcblxuICAvLyBNZW1vaXplIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHRvcC1sZXZlbCBjb250ZXh0IGNoYW5nZXNcbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIEN1c3RvbSBtZXJnZSB2aWEgYSBmdW5jdGlvbiBwcm9wXG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY29tcG9uZW50cyhjb250ZXh0Q29tcG9uZW50cylcbiAgICB9XG5cbiAgICByZXR1cm4gey4uLmNvbnRleHRDb21wb25lbnRzLCAuLi5jb21wb25lbnRzfVxuICB9LCBbY29udGV4dENvbXBvbmVudHMsIGNvbXBvbmVudHNdKVxufVxuXG4vKiogQHR5cGUge0NvbXBvbmVudHN9ICovXG5jb25zdCBlbXB0eU9iamVjdCA9IHt9XG5cbi8qKlxuICogUHJvdmlkZXIgZm9yIE1EWCBjb250ZXh0XG4gKlxuICogQHBhcmFtIHtQcm9wc30gcHJvcHNcbiAqIEByZXR1cm5zIHtKU1guRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1EWFByb3ZpZGVyKHtjb21wb25lbnRzLCBjaGlsZHJlbiwgZGlzYWJsZVBhcmVudENvbnRleHR9KSB7XG4gIC8qKiBAdHlwZSB7Q29tcG9uZW50c30gKi9cbiAgbGV0IGFsbENvbXBvbmVudHNcblxuICBpZiAoZGlzYWJsZVBhcmVudENvbnRleHQpIHtcbiAgICBhbGxDb21wb25lbnRzID1cbiAgICAgIHR5cGVvZiBjb21wb25lbnRzID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gY29tcG9uZW50cyh7fSlcbiAgICAgICAgOiBjb21wb25lbnRzIHx8IGVtcHR5T2JqZWN0XG4gIH0gZWxzZSB7XG4gICAgYWxsQ29tcG9uZW50cyA9IHVzZU1EWENvbXBvbmVudHMoY29tcG9uZW50cylcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgIE1EWENvbnRleHQuUHJvdmlkZXIsXG4gICAge3ZhbHVlOiBhbGxDb21wb25lbnRzfSxcbiAgICBjaGlsZHJlblxuICApXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@mdx-js/react/lib/index.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Flavrenr%2FProjects%2Fcodehike-sample%2Fpages%2FconsoleOutput%2Fspotlight.mdx&page=%2FconsoleOutput%2Fspotlight!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);